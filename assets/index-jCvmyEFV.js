(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},zl={};var Y_;function iA(){if(Y_)return zl;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var Q_;function sA(){return Q_||(Q_=1,Ld.exports=iA()),Ld.exports}var E=sA(),Ud={exports:{}},Se={};var X_;function rA(){if(X_)return Se;X_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.iterator;function Y(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ie={};function me(M,Q,ee){this.props=M,this.context=Q,this.refs=ie,this.updater=ee||W}me.prototype.isReactComponent={},me.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},me.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function be(){}be.prototype=me.prototype;function ge(M,Q,ee){this.props=M,this.context=Q,this.refs=ie,this.updater=ee||W}var Ce=ge.prototype=new be;Ce.constructor=ge,se(Ce,me.prototype),Ce.isPureReactComponent=!0;var tt=Array.isArray;function xe(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(M,Q,ee){var ne=ee.ref;return{$$typeof:s,type:M,key:Q,ref:ne!==void 0?ne:null,props:ee}}function k(M,Q){return x(M.type,Q,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return Q[ee]})}var R=/\/+/g;function Le(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Q.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xe,xe):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Q,ee,ne,fe){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var Ne=!1;if(M===null)Ne=!0;else switch(_e){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(M.$$typeof){case s:case e:Ne=!0;break;case b:return Ne=M._init,F(Ne(M._payload),Q,ee,ne,fe)}}if(Ne)return fe=fe(M),Ne=ne===""?"."+Le(M,0):ne,tt(fe)?(ee="",Ne!=null&&(ee=Ne.replace(R,"$&/")+"/"),F(fe,Q,ee,"",function(nt){return nt})):fe!=null&&(N(fe)&&(fe=k(fe,ee+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(R,"$&/")+"/")+Ne)),Q.push(fe)),1;Ne=0;var Nt=ne===""?".":ne+":";if(tt(M))for(var Je=0;Je<M.length;Je++)ne=M[Je],_e=Nt+Le(ne,Je),Ne+=F(ne,Q,ee,_e,fe);else if(Je=Y(M),typeof Je=="function")for(M=Je.call(M),Je=0;!(ne=M.next()).done;)ne=ne.value,_e=Nt+Le(ne,Je++),Ne+=F(ne,Q,ee,_e,fe);else if(_e==="object"){if(typeof M.then=="function")return F(dt(M),Q,ee,ne,fe);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function te(M,Q,ee){if(M==null)return M;var ne=[],fe=0;return F(M,ne,"","",function(_e){return Q.call(ee,_e,fe++)}),ne}function ue(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var qe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$e={map:te,forEach:function(M,Q,ee){te(M,function(){Q.apply(this,arguments)},ee)},count:function(M){var Q=0;return te(M,function(){Q++}),Q},toArray:function(M){return te(M,function(Q){return Q})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=I,Se.Children=$e,Se.Component=me,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=ge,Se.StrictMode=r,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Q,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=se({},M.props),fe=M.key;if(Q!=null)for(_e in Q.key!==void 0&&(fe=""+Q.key),Q)!w.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(ne[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)ne.children=ee;else if(1<_e){for(var Ne=Array(_e),Nt=0;Nt<_e;Nt++)Ne[Nt]=arguments[Nt+2];ne.children=Ne}return x(M.type,fe,ne)},Se.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Se.createElement=function(M,Q,ee){var ne,fe={},_e=null;if(Q!=null)for(ne in Q.key!==void 0&&(_e=""+Q.key),Q)w.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=Q[ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=ee;else if(1<Ne){for(var Nt=Array(Ne),Je=0;Je<Ne;Je++)Nt[Je]=arguments[Je+2];fe.children=Nt}if(M&&M.defaultProps)for(ne in Ne=M.defaultProps,Ne)fe[ne]===void 0&&(fe[ne]=Ne[ne]);return x(M,_e,fe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:p,render:M}},Se.isValidElement=N,Se.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ue}},Se.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},Se.startTransition=function(M){var Q=D.T,ee={};D.T=ee;try{var ne=M(),fe=D.S;fe!==null&&fe(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(xe,qe)}catch(_e){qe(_e)}finally{Q!==null&&ee.types!==null&&(Q.types=ee.types),D.T=Q}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(M){return D.H.use(M)},Se.useActionState=function(M,Q,ee){return D.H.useActionState(M,Q,ee)},Se.useCallback=function(M,Q){return D.H.useCallback(M,Q)},Se.useContext=function(M){return D.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Q){return D.H.useDeferredValue(M,Q)},Se.useEffect=function(M,Q){return D.H.useEffect(M,Q)},Se.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(M,Q,ee){return D.H.useImperativeHandle(M,Q,ee)},Se.useInsertionEffect=function(M,Q){return D.H.useInsertionEffect(M,Q)},Se.useLayoutEffect=function(M,Q){return D.H.useLayoutEffect(M,Q)},Se.useMemo=function(M,Q){return D.H.useMemo(M,Q)},Se.useOptimistic=function(M,Q){return D.H.useOptimistic(M,Q)},Se.useReducer=function(M,Q,ee){return D.H.useReducer(M,Q,ee)},Se.useRef=function(M){return D.H.useRef(M)},Se.useState=function(M){return D.H.useState(M)},Se.useSyncExternalStore=function(M,Q,ee){return D.H.useSyncExternalStore(M,Q,ee)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.2.4",Se}var $_;function Dm(){return $_||($_=1,Ud.exports=rA()),Ud.exports}var we=Dm(),Pd={exports:{}},Bl={},jd={exports:{}},zd={};var J_;function aA(){return J_||(J_=1,(function(s){function e(F,te){var ue=F.length;F.push(te);e:for(;0<ue;){var qe=ue-1>>>1,$e=F[qe];if(0<l($e,te))F[qe]=te,F[ue]=$e,ue=qe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],ue=F.pop();if(ue!==te){F[0]=ue;e:for(var qe=0,$e=F.length,M=$e>>>1;qe<M;){var Q=2*(qe+1)-1,ee=F[Q],ne=Q+1,fe=F[ne];if(0>l(ee,ue))ne<$e&&0>l(fe,ee)?(F[qe]=fe,F[ne]=ue,qe=ne):(F[qe]=ee,F[Q]=ue,qe=Q);else if(ne<$e&&0>l(fe,ue))F[qe]=fe,F[ne]=ue,qe=ne;else break e}}return te}function l(F,te){var ue=F.sortIndex-te.sortIndex;return ue!==0?ue:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,I=null,V=3,Y=!1,W=!1,se=!1,ie=!1,me=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Ce(F){for(var te=i(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=F)r(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function tt(F){if(se=!1,Ce(F),!W)if(i(_)!==null)W=!0,xe||(xe=!0,U());else{var te=i(y);te!==null&&dt(tt,te.startTime-F)}}var xe=!1,D=-1,w=5,x=-1;function k(){return ie?!0:!(s.unstable_now()-x<w)}function N(){if(ie=!1,xe){var F=s.unstable_now();x=F;var te=!0;try{e:{W=!1,se&&(se=!1,be(D),D=-1),Y=!0;var ue=V;try{t:{for(Ce(F),I=i(_);I!==null&&!(I.expirationTime>F&&k());){var qe=I.callback;if(typeof qe=="function"){I.callback=null,V=I.priorityLevel;var $e=qe(I.expirationTime<=F);if(F=s.unstable_now(),typeof $e=="function"){I.callback=$e,Ce(F),te=!0;break t}I===i(_)&&r(_),Ce(F)}else r(_);I=i(_)}if(I!==null)te=!0;else{var M=i(y);M!==null&&dt(tt,M.startTime-F),te=!1}}break e}finally{I=null,V=ue,Y=!1}te=void 0}}finally{te?U():xe=!1}}}var U;if(typeof ge=="function")U=function(){ge(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Le=R.port2;R.port1.onmessage=N,U=function(){Le.postMessage(null)}}else U=function(){me(N,0)};function dt(F,te){D=me(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(F){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var ue=V;V=te;try{return F()}finally{V=ue}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ue=V;V=F;try{return te()}finally{V=ue}},s.unstable_scheduleCallback=function(F,te,ue){var qe=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?qe+ue:qe):ue=qe,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ue+$e,F={id:b++,callback:te,priorityLevel:F,startTime:ue,expirationTime:$e,sortIndex:-1},ue>qe?(F.sortIndex=ue,e(y,F),i(_)===null&&F===i(y)&&(se?(be(D),D=-1):se=!0,dt(tt,ue-qe))):(F.sortIndex=$e,e(_,F),W||Y||(W=!0,xe||(xe=!0,U()))),F},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(F){var te=V;return function(){var ue=V;V=te;try{return F.apply(this,arguments)}finally{V=ue}}}})(zd)),zd}var W_;function oA(){return W_||(W_=1,jd.exports=aA()),jd.exports}var Bd={exports:{}},dn={};var Z_;function lA(){if(Z_)return dn;Z_=1;var s=Dm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},dn.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},dn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},dn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},dn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,I=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:V,fetchPriority:Y}):b==="script"&&r.d.X(_,{crossOrigin:I,integrity:V,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},dn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,I=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},dn.requestFormReset=function(_){r.d.r(_)},dn.unstable_batchedUpdates=function(_,y){return _(y)},dn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var ev;function uA(){if(ev)return Bd.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=lA(),Bd.exports}var tv;function cA(){if(tv)return Bl;tv=1;var s=oA(),e=Dm(),i=uA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,S=h.child;S;){if(S===a){g=!0,a=h,o=f;break}if(S===o){g=!0,o=h,a=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===a){g=!0,a=f,o=h;break}if(S===o){g=!0,o=f,a=h;break}S=S.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var I=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case me:return"Profiler";case ie:return"StrictMode";case tt:return"Suspense";case xe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ge:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Le(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Le(t(n))}catch{}}return null}var dt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},qe=[],$e=-1;function M(t){return{current:t}}function Q(t){0>$e||(t.current=qe[$e],qe[$e]=null,$e--)}function ee(t,n){$e++,qe[$e]=t.current,t.current=n}var ne=M(null),fe=M(null),_e=M(null),Ne=M(null);function Nt(t,n){switch(ee(_e,n),ee(fe,t),ee(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?g_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=g_(n),t=y_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ne),ee(ne,t)}function Je(){Q(ne),Q(fe),Q(_e)}function nt(t){t.memoizedState!==null&&ee(Ne,t);var n=ne.current,a=y_(n,t.type);n!==a&&(ee(fe,t),ee(ne,a))}function Wt(t){fe.current===t&&(Q(ne),Q(fe)),Ne.current===t&&(Q(Ne),Ll._currentValue=ue)}var Kn,ks;function cn(t){if(Kn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Kn=n&&n[1]||"",ks=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+t+ks}var Lr=!1;function as(t,n){if(!t||Lr)return"";Lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var C=g.split(`
`),z=S.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function Yn(t,n){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==n&&n!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return as(t.type,!1);case 11:return as(t.type.render,!1);case 1:return as(t.type,!0);case 31:return cn("Activity");default:return""}}function lt(t){try{var n="",a=null;do n+=Yn(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var We=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,Mi=s.unstable_cancelCallback,Vi=s.unstable_shouldYield,Ur=s.unstable_requestPaint,Zt=s.unstable_now,Sn=s.unstable_getCurrentPriorityLevel,Fe=s.unstable_ImmediatePriority,Pr=s.unstable_UserBlockingPriority,ki=s.unstable_NormalPriority,Li=s.unstable_LowPriority,An=s.unstable_IdlePriority,jr=s.log,xa=s.unstable_setDisableYieldValue,Xt=null,Oe=null;function wt(t){if(typeof jr=="function"&&xa(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Xt,t)}catch{}}var gt=Math.clz32?Math.clz32:Br,zr=Math.log,mi=Math.LN2;function Br(t){return t>>>=0,t===0?32:31-(zr(t)/mi|0)|0}var bn=256,pi=262144,It=4194304;function Qn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?h=Qn(o):(g&=S,g!==0?h=Qn(g):a||(a=S&~t,a!==0&&(h=Qn(a))))):(S=o&~f,S!==0?h=Qn(S):g!==0?h=Qn(g):a||(a=o&~t,a!==0&&(h=Qn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ye(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Na(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ma(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-gt(a),X=1<<G;S[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Pi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Pi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-gt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-gt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function ji(t,n){var a=n&-n;return a=(a&42)!==0?1:gi(a),(a&(t.suspendedLanes|n))!==0?0:a}function gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Va(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function kn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Ln=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Ln,Ut="__reactProps$"+Ln,Wn="__reactContainer$"+Ln,Us="__reactEvents$"+Ln,Yo="__reactListeners$"+Ln,ka="__reactHandles$"+Ln,La="__reactResources$"+Ln,Zn="__reactMarker$"+Ln;function Ps(t){delete t[Rt],delete t[Ut],delete t[Us],delete t[Yo],delete t[ka]}function ei(t){var n=t[Rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[Rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[Rt])return a;t=b_(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Rt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ae(t){var n=t[La];return n||(n=t[La]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(t){t[Zn]=!0}var mt=new Set,yi={};function hn(t,n){Ot(t,n),Ot(t+"Capture",n)}function Ot(t,n){for(yi[t]=n,t=0;t<n.length;t++)mt.add(n[t])}var os=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},Ee={};function Me(t){return We.call(Ee,t)?!0:We.call(ls,t)?!1:os.test(t)?Ee[t]=!0:(ls[t]=!0,!1)}function fn(t,n,a){if(Me(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function _n(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ct(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function it(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=js(t)?"checked":"value";t._valueTracker=Qo(t,n,""+t[n])}}function qr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=js(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function In(t){return t.replace(Hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ua(t,n,a,o,h,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+it(n)):t.value!==""+it(n)&&(t.value=""+it(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Xo(t,g,it(n)):a!=null?Xo(t,g,it(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+it(S):t.removeAttribute("name")}function yu(t,n,a,o,h,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}a=a!=null?""+it(a):"",n=n!=null?""+it(n):a,S||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),rt(t)}function Xo(t,n,a){n==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+it(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,a){if(n!=null&&(n=""+it(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+it(a):""}function Bs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=it(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),rt(t)}function Rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Jo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&$o(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&$o(t,f,n[f])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var Wo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Bi=null;function Fr(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(r(90));Ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&qr(o)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&zs(t,!!a.multiple,n,!1)}}}var za=!1;function Fs(t,n,a){if(za)return t(n,a);za=!0;try{var o=t(n);return o}finally{if(za=!1,(Hs!==null||Bi!==null)&&(dc(),Hs&&(n=Hs,t=Bi,Bi=Hs=null,Fr(n),t)))for(n=0;n<t.length;n++)Fr(t[n])}}function vi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(ni)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Gr=!1}var qi=null,Zo=null,Kr=null;function el(){if(Kr)return Kr;var t,n=Zo,a=n.length,o,h="value"in qi?qi.value:qi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Kr=h.slice(t,1<o?1-o:void 0)}function Yr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function Ei(){return!1}function en(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?us:Ei,this.isPropagationStopped=Ei,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),n}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=en(cs),Gs=I({},cs,{view:0,detail:0}),tl=en(Gs),Ks,Ba,Fi,qa=I({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Ks=t.screenX-Fi.screenX,Ba=t.screenY-Fi.screenY):Ba=Ks=0,Fi=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),nl=en(qa),Qr=I({},qa,{dataTransfer:0}),Tu=en(Qr),Su=I({},Gs,{relatedTarget:0}),Xr=en(Su),il=I({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=en(il),Ha=I({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=en(Ha),wu=I({},cs,{data:0}),Gi=en(wu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Ys(){return Du}var vn=I({},Gs,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=en(vn),Nu=I({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=en(Nu),u=I({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),m=en(u),v=I({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(v),P=I({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=en(P),Z=I({},cs,{newState:0,oldState:0}),Ie=en(Z),Mt=[9,13,27,32],Ze=ni&&"CompositionEvent"in window,St=null;ni&&"documentMode"in document&&(St=document.documentMode);var ii=ni&&"TextEvent"in window&&!St,Ki=ni&&(!Ze||St&&8<St&&11>=St),Ti=" ",Si=!1;function $r(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function R1(t,n){switch(t){case"compositionend":return Fa(n);case"keypress":return n.which!==32?null:(Si=!0,Ti);case"textInput":return t=n.data,t===Ti&&Si?null:t;default:return null}}function C1(t,n){if(Ga)return t==="compositionend"||!Ze&&$r(t,n)?(t=el(),Kr=Zo=qi=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ki&&n.locale!=="ko"?null:n.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!D1[t.type]:n==="textarea"}function Cp(t,n,a,o){Hs?Bi?Bi.push(o):Bi=[o]:Hs=o,n=Ec(n,"onChange"),0<n.length&&(a=new Hi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var sl=null,rl=null;function x1(t){c_(t,0)}function Ou(t){var n=T(t);if(qr(n))return t}function Dp(t,n){if(t==="change")return n}var xp=!1;if(ni){var qh;if(ni){var Hh="oninput"in document;if(!Hh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Hh=typeof Np.oninput=="function"}qh=Hh}else qh=!1;xp=qh&&(!document.documentMode||9<document.documentMode)}function Op(){sl&&(sl.detachEvent("onpropertychange",Mp),rl=sl=null)}function Mp(t){if(t.propertyName==="value"&&Ou(rl)){var n=[];Cp(n,rl,t,ti(t)),Fs(x1,n)}}function N1(t,n,a){t==="focusin"?(Op(),sl=n,rl=a,sl.attachEvent("onpropertychange",Mp)):t==="focusout"&&Op()}function O1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(rl)}function M1(t,n){if(t==="click")return Ou(n)}function V1(t,n){if(t==="input"||t==="change")return Ou(n)}function k1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:k1;function al(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!We.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kp(t,n){var a=Vp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=zi(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var L1=ni&&"documentMode"in document&&11>=document.documentMode,Ka=null,Gh=null,ol=null,Kh=!1;function Pp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||Ka==null||Ka!==zi(o)||(o=Ka,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ol&&al(ol,o)||(ol=o,o=Ec(Gh,"onSelect"),0<o.length&&(n=new Hi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ka)))}function Jr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ya={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},Yh={},jp={};ni&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Wr(t){if(Yh[t])return Yh[t];if(!Ya[t])return t;var n=Ya[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in jp)return Yh[t]=n[a];return t}var zp=Wr("animationend"),Bp=Wr("animationiteration"),qp=Wr("animationstart"),U1=Wr("transitionrun"),P1=Wr("transitionstart"),j1=Wr("transitioncancel"),Hp=Wr("transitionend"),Fp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Ai(t,n){Fp.set(t,n),hn(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Qa=0,Xh=0;function Vu(){for(var t=Qa,n=Xh=Qa=0;n<t;){var a=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Gp(a,h,f)}}function ku(t,n,a,o){si[Qa++]=t,si[Qa++]=n,si[Qa++]=a,si[Qa++]=o,Xh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $h(t,n,a,o){return ku(t,n,a,o),Lu(t)}function Zr(t,n){return ku(t,null,null,n),Lu(t)}function Gp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-gt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<Dl)throw Dl=0,ad=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xa={};function z1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,a,o){return new z1(t,n,a,o)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fs(t,n){var a=t.alternate;return a===null?(a=Pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Jh(t)&&(g=1);else if(typeof t=="string")g=GS(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Pn(31,a,n,h),t.elementType=x,t.lanes=f,t;case se:return ea(a.children,h,f,n);case ie:g=8,h|=24;break;case me:return t=Pn(12,a,n,h|2),t.elementType=me,t.lanes=f,t;case tt:return t=Pn(13,a,n,h),t.elementType=tt,t.lanes=f,t;case xe:return t=Pn(19,a,n,h),t.elementType=xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:g=10;break e;case be:g=9;break e;case Ce:g=11;break e;case D:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Pn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ea(t,n,a,o){return t=Pn(7,t,o,n),t.lanes=a,t}function Wh(t,n,a){return t=Pn(6,t,null,n),t.lanes=a,t}function Yp(t){var n=Pn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qp=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var a=Qp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:lt(n)},Qp.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var $a=[],Ja=0,Pu=null,ll=0,ai=[],oi=0,Qs=null,Yi=1,Qi="";function ds(t,n){$a[Ja++]=ll,$a[Ja++]=Pu,Pu=t,ll=n}function Xp(t,n,a){ai[oi++]=Yi,ai[oi++]=Qi,ai[oi++]=Qs,Qs=t;var o=Yi;t=Qi;var h=32-gt(o)-1;o&=~(1<<h),a+=1;var f=32-gt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Yi=1<<32-gt(n)+h|a<<h|o,Qi=f+t}else Yi=1<<f|a<<h|o,Qi=t}function ef(t){t.return!==null&&(ds(t,1),Xp(t,1,0))}function tf(t){for(;t===Pu;)Pu=$a[--Ja],$a[Ja]=null,ll=$a[--Ja],$a[Ja]=null;for(;t===Qs;)Qs=ai[--oi],ai[oi]=null,Qi=ai[--oi],ai[oi]=null,Yi=ai[--oi],ai[oi]=null}function $p(t,n){ai[oi++]=Yi,ai[oi++]=Qi,ai[oi++]=Qs,Yi=n.id,Qi=n.overflow,Qs=t}var tn=null,yt=null,He=!1,Xs=null,li=!1,nf=Error(r(519));function $s(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(ri(n,t)),nf}function Jp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[Ut]=o,a){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)ke(Nl[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Bs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||m_(n.textContent,a)?(o.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),o.onScroll!=null&&ke("scroll",n),o.onScrollEnd!=null&&ke("scrollend",n),o.onClick!=null&&(n.onclick=_i),n=!0):n=!1,n||$s(t,!0)}function Wp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:tn=tn.return}}function Wa(t){if(t!==tn)return!1;if(!He)return Wp(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&yt&&$s(t),Wp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=A_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=A_(t)}else n===27?(n=yt,cr(t.type)?(t=Id,Id=null,yt=t):yt=n):yt=tn?ci(t.stateNode.nextSibling):null;return!0}function ta(){yt=tn=null,He=!1}function sf(){var t=Xs;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),Xs=null),t}function ul(t){Xs===null?Xs=[t]:Xs.push(t)}var rf=M(null),na=null,ms=null;function Js(t,n,a){ee(rf,n._currentValue),n._currentValue=a}function ps(t){t._currentValue=rf.current,Q(rf)}function af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),af(f.return,a,t),o||(g=null);break e}f=S.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),af(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Za(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var S=h.type;Un(h.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ne.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&of(n,t,a,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Zp(na,t)}function zu(t,n){return na===null&&ia(t),Zp(t,n)}function Zp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ms===null){if(t===null)throw Error(r(308));ms=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ms=ms.next=n;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},q1=s.unstable_scheduleCallback,H1=s.unstable_NormalPriority,Pt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new B1,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&q1(H1,function(){t.controller.abort()})}var hl=null,uf=0,eo=0,to=null;function F1(t,n){if(hl===null){var a=hl=[];uf=0,eo=fd(),to={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(eg,eg),n}function eg(){if(--uf===0&&hl!==null){to!==null&&(to.status="fulfilled");var t=hl;hl=null,eo=0,to=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function G1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var tg=F.S;F.S=function(t,n){Py=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&F1(t,n),tg!==null&&tg(t,n)};var sa=M(null);function cf(){var t=sa.current;return t!==null?t:pt.pooledCache}function Bu(t,n){n===null?ee(sa,sa.current):ee(sa,n.pool)}function ng(){var t=cf();return t===null?null:{parent:Pt._currentValue,pool:t}}var no=Error(r(460)),hf=Error(r(474)),qu=Error(r(542)),Hu={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(_i,_i),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(_i,_i);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw aa=n,no}}function ra(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,no):a}}var aa=null;function rg(){if(aa===null)throw Error(r(459));var t=aa;return aa=null,t}function ag(t){if(t===no||t===qu)throw Error(r(483))}var io=null,fl=0;function Fu(t){var n=fl;return fl+=1,io===null&&(io=[]),sg(io,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=fs(L,O),L.index=0,L.sibling=null,L}function f(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,O,j,K){return O===null||O.tag!==6?(O=Wh(j,L.mode,K),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,K){var he=j.type;return he===se?G(L,O,j.props.children,K,j.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ra(he)===O.type)?(O=h(O,j.props),dl(O,j),O.return=L,O):(O=Uu(j.type,j.key,j.props,null,L.mode,K),dl(O,j),O.return=L,O)}function z(L,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Zh(j,L.mode,K),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function G(L,O,j,K,he){return O===null||O.tag!==7?(O=ea(j,L.mode,K,he),O.return=L,O):(O=h(O,j),O.return=L,O)}function X(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wh(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return j=Uu(O.type,O.key,O.props,null,L.mode,j),dl(j,O),j.return=L,j;case W:return O=Zh(O,L.mode,j),O.return=L,O;case w:return O=ra(O),X(L,O,j)}if(dt(O)||U(O))return O=ea(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return X(L,Fu(O),j);if(O.$$typeof===ge)return X(L,zu(L,O),j);Gu(L,O)}return null}function B(L,O,j,K){var he=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:S(L,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===he?C(L,O,j,K):null;case W:return j.key===he?z(L,O,j,K):null;case w:return j=ra(j),B(L,O,j,K)}if(dt(j)||U(j))return he!==null?null:G(L,O,j,K,null);if(typeof j.then=="function")return B(L,O,Fu(j),K);if(j.$$typeof===ge)return B(L,O,zu(L,j),K);Gu(L,j)}return null}function H(L,O,j,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,S(O,L,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return L=L.get(K.key===null?j:K.key)||null,C(O,L,K,he);case W:return L=L.get(K.key===null?j:K.key)||null,z(O,L,K,he);case w:return K=ra(K),H(L,O,j,K,he)}if(dt(K)||U(K))return L=L.get(j)||null,G(O,L,K,he,null);if(typeof K.then=="function")return H(L,O,j,Fu(K),he);if(K.$$typeof===ge)return H(L,O,j,zu(O,K),he);Gu(O,K)}return null}function oe(L,O,j,K){for(var he=null,Qe=null,le=O,De=O=0,Pe=null;le!==null&&De<j.length;De++){le.index>De?(Pe=le,le=null):Pe=le.sibling;var Xe=B(L,le,j[De],K);if(Xe===null){le===null&&(le=Pe);break}t&&le&&Xe.alternate===null&&n(L,le),O=f(Xe,O,De),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe,le=Pe}if(De===j.length)return a(L,le),He&&ds(L,De),he;if(le===null){for(;De<j.length;De++)le=X(L,j[De],K),le!==null&&(O=f(le,O,De),Qe===null?he=le:Qe.sibling=le,Qe=le);return He&&ds(L,De),he}for(le=o(le);De<j.length;De++)Pe=H(le,L,De,j[De],K),Pe!==null&&(t&&Pe.alternate!==null&&le.delete(Pe.key===null?De:Pe.key),O=f(Pe,O,De),Qe===null?he=Pe:Qe.sibling=Pe,Qe=Pe);return t&&le.forEach(function(pr){return n(L,pr)}),He&&ds(L,De),he}function pe(L,O,j,K){if(j==null)throw Error(r(151));for(var he=null,Qe=null,le=O,De=O=0,Pe=null,Xe=j.next();le!==null&&!Xe.done;De++,Xe=j.next()){le.index>De?(Pe=le,le=null):Pe=le.sibling;var pr=B(L,le,Xe.value,K);if(pr===null){le===null&&(le=Pe);break}t&&le&&pr.alternate===null&&n(L,le),O=f(pr,O,De),Qe===null?he=pr:Qe.sibling=pr,Qe=pr,le=Pe}if(Xe.done)return a(L,le),He&&ds(L,De),he;if(le===null){for(;!Xe.done;De++,Xe=j.next())Xe=X(L,Xe.value,K),Xe!==null&&(O=f(Xe,O,De),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe);return He&&ds(L,De),he}for(le=o(le);!Xe.done;De++,Xe=j.next())Xe=H(le,L,De,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&le.delete(Xe.key===null?De:Xe.key),O=f(Xe,O,De),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe);return t&&le.forEach(function(nA){return n(L,nA)}),He&&ds(L,De),he}function ft(L,O,j,K){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:e:{for(var he=j.key;O!==null;){if(O.key===he){if(he=j.type,he===se){if(O.tag===7){a(L,O.sibling),K=h(O,j.props.children),K.return=L,L=K;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ra(he)===O.type){a(L,O.sibling),K=h(O,j.props),dl(K,j),K.return=L,L=K;break e}a(L,O);break}else n(L,O);O=O.sibling}j.type===se?(K=ea(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=Uu(j.type,j.key,j.props,null,L.mode,K),dl(K,j),K.return=L,L=K)}return g(L);case W:e:{for(he=j.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),K=h(O,j.children||[]),K.return=L,L=K;break e}else{a(L,O);break}else n(L,O);O=O.sibling}K=Zh(j,L.mode,K),K.return=L,L=K}return g(L);case w:return j=ra(j),ft(L,O,j,K)}if(dt(j))return oe(L,O,j,K);if(U(j)){if(he=U(j),typeof he!="function")throw Error(r(150));return j=he.call(j),pe(L,O,j,K)}if(typeof j.then=="function")return ft(L,O,Fu(j),K);if(j.$$typeof===ge)return ft(L,O,zu(L,j),K);Gu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),K=h(O,j),K.return=L,L=K):(a(L,O),K=Wh(j,L.mode,K),K.return=L,L=K),g(L)):a(L,O)}return function(L,O,j,K){try{fl=0;var he=ft(L,O,j,K);return io=null,he}catch(le){if(le===no||le===qu)throw le;var Qe=Pn(29,le,null,L.mode);return Qe.lanes=K,Qe.return=L,Qe}}}var oa=og(!0),lg=og(!1),Ws=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),Gp(t,null,a),n}return ku(t,o,n,a),Lu(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ls(t,a)}}function mf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var pf=!1;function pl(){if(pf){var t=to;if(t!==null)throw t}}function gl(t,n,a,o){pf=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==g&&(S===null?G.firstBaseUpdate=z:S.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,G=z=C=null,S=f;do{var B=S.lane&-536870913,H=B!==S.lane;if(H?(Ue&B)===B:(o&B)===B){B!==0&&B===eo&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var oe=t,pe=S;B=n;var ft=a;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){X=oe.call(ft,X,B);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,B=typeof oe=="function"?oe.call(ft,X,B):oe,B==null)break e;X=I({},X,B);break e;case 2:Ws=!0}}B=S.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),rr|=g,t.lanes=g,t.memoizedState=X}}function ug(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function cg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ug(a[t],n)}var so=M(null),Ku=M(0);function hg(t,n){t=bs,ee(Ku,t),ee(so,n),bs=t|n.baseLanes}function gf(){ee(Ku,bs),ee(so,so.current)}function yf(){bs=Ku.current,Q(so),Q(Ku)}var jn=M(null),ui=null;function tr(t){var n=t.alternate;ee(Vt,Vt.current&1),ee(jn,t),ui===null&&(n===null||so.current!==null||n.memoizedState!==null)&&(ui=t)}function _f(t){ee(Vt,Vt.current),ee(jn,t),ui===null&&(ui=t)}function fg(t){t.tag===22?(ee(Vt,Vt.current),ee(jn,t),ui===null&&(ui=t)):nr()}function nr(){ee(Vt,Vt.current),ee(jn,jn.current)}function zn(t){Q(jn),ui===t&&(ui=null),Q(Vt)}var Vt=M(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,Re=null,ct=null,jt=null,Qu=!1,ro=!1,la=!1,Xu=0,yl=0,ao=null,K1=0;function Dt(){throw Error(r(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Un(t[a],n[a]))return!1;return!0}function Ef(t,n,a,o,h,f){return gs=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Xg:kf,la=!1,f=a(o,h),la=!1,ro&&(f=mg(n,a,o,h)),dg(t),f}function dg(t){F.H=El;var n=ct!==null&&ct.next!==null;if(gs=0,jt=ct=Re=null,Qu=!1,yl=0,ao=null,n)throw Error(r(300));t===null||zt||(t=t.dependencies,t!==null&&ju(t)&&(zt=!0))}function mg(t,n,a,o){Re=t;var h=0;do{if(ro&&(ao=null),yl=0,ro=!1,25<=h)throw Error(r(301));if(h+=1,jt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=$g,f=n(a,o)}while(ro);return f}function Y1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Re.flags|=1024),n}function Tf(){var t=Xu!==0;return Xu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}gs=0,jt=ct=Re=null,ro=!1,yl=Xu=0,ao=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Re.memoizedState=jt=t:jt=jt.next=t,jt}function kt(){if(ct===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=jt===null?Re.memoizedState:jt.next;if(n!==null)jt=n,ct=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Re.memoizedState=jt=t:jt=jt.next=t}return jt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var n=yl;return yl+=1,ao===null&&(ao=[]),t=sg(ao,t,n),n=Re,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Xg:kf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ge)return nn(t)}throw Error(r(438,String(t)))}function bf(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function ys(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=kt();return wf(n,ct,t)}function wf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var S=g=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ue&X)===X:(gs&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===eo&&(G=!0);else if((gs&B)===B){z=z.next,B===eo&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=X,g=f):C=C.next=X,Re.lanes|=B,rr|=B;X=z.action,la&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=B,g=f):C=C.next=B,Re.lanes|=X,rr|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=S,!Un(f,t.memoizedState)&&(zt=!0,G&&(a=to,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function If(t){var n=kt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Un(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pg(t,n,a){var o=Re,h=kt(),f=He;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Un((ct||h).memoizedState,a);if(g&&(h.memoizedState=a,zt=!0),h=h.queue,Df(_g.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,oo(9,{destroy:void 0},yg.bind(null,o,h,a,n),null),pt===null)throw Error(r(349));f||(gs&127)!==0||gg(o,n,a)}return a}function gg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=$u(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function yg(t,n,a,o){n.value=a,n.getSnapshot=o,vg(n)&&Eg(t)}function _g(t,n,a){return a(function(){vg(n)&&Eg(t)})}function vg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Un(t,a)}catch{return!0}}function Eg(t){var n=Zr(t,2);n!==null&&On(n,t,2)}function Rf(t){var n=En();if(typeof t=="function"){var a=t;if(t=a(),la){wt(!0);try{a()}finally{wt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},n}function Tg(t,n,a,o){return t.baseState=a,wf(t,ct,typeof o=="function"?o:ys)}function Q1(t,n,a,o,h){if(tc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var S=a(h,o),C=F.S;C!==null&&C(g,S),Ag(t,n,S)}catch(z){Cf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Ag(t,n,f)}catch(z){Cf(t,n,z)}}function Ag(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bg(t,n,o)},function(o){return Cf(t,n,o)}):bg(t,n,a)}function bg(t,n,a){n.status="fulfilled",n.value=a,wg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Sg(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wg(n),n=n.next;while(n!==o)}t.action=null}function wg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function Rg(t,n){if(He){var a=pt.formState;if(a!==null){e:{var o=Re;if(He){if(yt){t:{for(var h=yt,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){yt=ci(h.nextSibling),o=h.data==="F!";break e}}$s(o)}o=!1}o&&(n=a[0])}}return a=En(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=o,a=Kg.bind(null,Re,o),o.dispatch=a,o=Rf(!1),f=Vf.bind(null,Re,!1,o.queue),o=En(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Q1.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Cg(t){var n=kt();return Dg(n,ct,t)}function Dg(t,n,a){if(n=wf(t,n,Ig)[0],t=Wu(ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=_l(n)}catch(g){throw g===no?qu:g}else o=n;n=kt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,oo(9,{destroy:void 0},X1.bind(null,h,a),null)),[o,f,t]}function X1(t,n){t.action=n}function xg(t){var n=kt(),a=ct;if(a!==null)return Dg(n,a,t);kt(),n=n.memoizedState,a=kt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function oo(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=$u(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ng(){return kt().memoizedState}function Zu(t,n,a,o){var h=En();Re.flags|=t,h.memoizedState=oo(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(t,n,a,o){var h=kt();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&vf(o,ct.memoizedState.deps)?h.memoizedState=oo(n,f,a,o):(Re.flags|=t,h.memoizedState=oo(1|n,f,a,o))}function Og(t,n){Zu(8390656,8,t,n)}function Df(t,n){ec(2048,8,t,n)}function $1(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=$u(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Mg(t){var n=kt().memoizedState;return $1({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Vg(t,n){return ec(4,2,t,n)}function kg(t,n){return ec(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,a){a=a!=null?a.concat([t]):null,ec(4,4,Lg.bind(null,n,t),a)}function xf(){}function Pg(t,n){var a=kt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function jg(t,n){var a=kt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),la){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[o,n],o}function Nf(t,n,a){return a===void 0||(gs&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=zy(),Re.lanes|=t,rr|=t,a)}function zg(t,n,a,o){return Un(a,n)?a:so.current!==null?(t=Nf(t,a,o),Un(t,n)||(zt=!0),t):(gs&42)===0||(gs&1073741824)!==0&&(Ue&261930)===0?(zt=!0,t.memoizedState=a):(t=zy(),Re.lanes|=t,rr|=t,n)}function Bg(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=F.T,S={};F.T=S,Vf(t,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=G1(C,o);vl(t,n,G,Hn(t))}else vl(t,n,o,Hn(t))}catch(X){vl(t,n,{then:function(){},status:"rejected",reason:X},Hn())}finally{te.p=f,g!==null&&S.types!==null&&(g.types=S.types),F.T=g}}function J1(){}function Of(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=qg(t).queue;Bg(t,h,n,ue,a===null?J1:function(){return Hg(t),a(o)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),vl(t,n.next.queue,{},Hn())}function Mf(){return nn(Ll)}function Fg(){return kt().memoizedState}function Gg(){return kt().memoizedState}function W1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Hn();t=Zs(a);var o=er(n,t,a);o!==null&&(On(o,n,a),ml(o,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function Z1(t,n,a){var o=Hn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Yg(n,a):(a=$h(t,n,a,o),a!==null&&(On(a,t,o),Qg(a,n,o)))}function Kg(t,n,a){var o=Hn();vl(t,n,a,o)}function vl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Yg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,a);if(h.hasEagerState=!0,h.eagerState=S,Un(S,g))return ku(t,n,h,0),pt===null&&Vu(),!1}catch{}if(a=$h(t,n,h,o),a!==null)return On(a,t,o),Qg(a,n,o),!0}return!1}function Vf(t,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(r(479))}else n=$h(t,a,o,2),n!==null&&On(n,t,2)}function tc(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Yg(t,n){ro=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Qg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ls(t,a)}}var El={readContext:nn,use:Ju,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};El.useEffectEvent=Dt;var Xg={readContext:nn,use:Ju,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:Og,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,Lg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var a=En();n=n===void 0?null:n;var o=t();if(la){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=En();if(a!==void 0){var h=a(n);if(la){wt(!0);try{a(n)}finally{wt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Z1.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,a=Kg.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=En();return Nf(a,t,n)},useTransition:function(){var t=Rf(!1);return t=Bg.bind(null,Re,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Re,h=En();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pt===null)throw Error(r(349));(Ue&127)!==0||gg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Og(_g.bind(null,o,f,t),[t]),o.flags|=2048,oo(9,{destroy:void 0},yg.bind(null,o,f,a,n),null),a},useId:function(){var t=En(),n=pt.identifierPrefix;if(He){var a=Qi,o=Yi;a=(o&~(1<<32-gt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=K1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return En().memoizedState=W1.bind(null,Re)},useEffectEvent:function(t){var n=En(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:nn,use:Ju,useCallback:Pg,useContext:nn,useEffect:Df,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:jg,useReducer:Wu,useRef:Ng,useState:function(){return Wu(ys)},useDebugValue:xf,useDeferredValue:function(t,n){var a=kt();return zg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Wu(ys)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Mf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=kt();return Tg(a,ct,t,n)},useMemoCache:bf,useCacheRefresh:Gg};kf.useEffectEvent=Mg;var $g={readContext:nn,use:Ju,useCallback:Pg,useContext:nn,useEffect:Df,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:jg,useReducer:If,useRef:Ng,useState:function(){return If(ys)},useDebugValue:xf,useDeferredValue:function(t,n){var a=kt();return ct===null?Nf(a,t,n):zg(a,ct.memoizedState,t,n)},useTransition:function(){var t=If(ys)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Mf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var a=kt();return ct!==null?Tg(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Gg};$g.useEffectEvent=Mg;function Lf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:I({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Hn(),h=Zs(o);h.payload=n,a!=null&&(h.callback=a),n=er(t,h,o),n!==null&&(On(n,t,o),ml(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Hn(),h=Zs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=er(t,h,o),n!==null&&(On(n,t,o),ml(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Hn(),o=Zs(a);o.tag=2,n!=null&&(o.callback=n),n=er(t,o,a),n!==null&&(On(n,t,a),ml(n,t,a))}};function Jg(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!al(a,o)||!al(h,f):!0}function Wg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function ua(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Zg(t){Mu(t)}function ey(t){console.error(t)}function ty(t){Mu(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,a){return a=Zs(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function iy(t){return t=Zs(t),t.tag=3,t}function sy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ny(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ny(n,a,o),typeof h!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function eS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Za(n,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?mc():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(t,o,h)),!1}throw Error(r(435,a.tag))}return ud(t,o,h),mc(),!1}if(He)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(r(422),{cause:o}),ul(ri(t,a)))):(o!==nf&&(n=Error(r(423),{cause:o}),ul(ri(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,a),h=Pf(t.stateNode,o,h),mf(t,h),xt!==4&&(xt=2)),!1;var f=Error(r(520),{cause:o});if(f=ri(f,a),Cl===null?Cl=[f]:Cl.push(f),xt!==4&&(xt=2),n===null)return!0;o=ri(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,o,t),mf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),sy(h,t,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),zt=!1;function sn(t,n,a,o){n.child=t===null?lg(n,null,a,o):oa(n,t.child,a,o)}function ry(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var S in o)S!=="ref"&&(g[S]=o[S])}else g=o;return ia(n),o=Ef(t,n,a,g,f,h),S=Tf(),t!==null&&!zt?(Sf(t,n,h),_s(t,n,h)):(He&&S&&ef(n),n.flags|=1,sn(t,n,o,h),n.child)}function ay(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,oy(t,n,f,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(g,o)&&t.ref===n.ref)return _s(t,n,h)}return n.flags|=1,t=fs(f,o),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(al(f,o)&&t.ref===n.ref)if(zt=!1,n.pendingProps=o=f,Yf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,_s(t,n,h)}return zf(t,n,a,o,h)}function ly(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):gf(),fg(n);else return o=n.lanes=536870912,uy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),hg(n,f),nr(),n.memoizedState=null):(t!==null&&Bu(n,null),gf(),nr());return sn(t,n,h,a),n.child}function Tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(t,n,a,o,h){var f=cf();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Bu(n,null),gf(),fg(n),t!==null&&Za(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function cy(t,n,a){return oa(n,t.child,null,a),t=ic(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function tS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,Tl(null,t);if(_f(n),(t=yt)?(t=S_(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=n,n.child=a,tn=n,yt=null)):t=null,t===null)throw $s(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=cy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(zt||Za(t,n,a,!1),h=(a&t.childLanes)!==0,zt||h){if(o=pt,o!==null&&(g=ji(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Zr(t,g),On(o,t,g),jf;mc(),n=cy(t,n,a)}else t=f.treeContext,yt=ci(g.nextSibling),tn=n,He=!0,Xs=null,li=!1,t!==null&&$p(n,t),n=ic(n,o),n.flags|=4096;return n}return t=fs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return ia(n),a=Ef(t,n,a,o,void 0,h),o=Tf(),t!==null&&!zt?(Sf(t,n,h),_s(t,n,h)):(He&&o&&ef(n),n.flags|=1,sn(t,n,a,h),n.child)}function hy(t,n,a,o,h,f){return ia(n),n.updateQueue=null,a=mg(n,o,a,h),dg(t),o=Tf(),t!==null&&!zt?(Sf(t,n,f),_s(t,n,f)):(He&&o&&ef(n),n.flags|=1,sn(t,n,a,f),n.child)}function fy(t,n,a,o,h){if(ia(n),n.stateNode===null){var f=Xa,g=a.contextType;typeof g=="object"&&g!==null&&(f=nn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?nn(g):Xa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),gl(n,o,f,h),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,C=ua(a,S);f.props=C;var z=f.context,G=a.contextType;g=Xa,typeof G=="object"&&G!==null&&(g=nn(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==g)&&Wg(n,f,o,g),Ws=!1;var B=n.memoizedState;f.state=B,gl(n,o,f,h),pl(),z=n.memoizedState,S||B!==z||Ws?(typeof X=="function"&&(Lf(n,a,X,o),z=n.memoizedState),(C=Ws||Jg(n,a,C,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),g=n.memoizedProps,G=ua(a,g),f.props=G,X=n.pendingProps,B=f.context,z=a.contextType,C=Xa,typeof z=="object"&&z!==null&&(C=nn(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&Wg(n,f,o,C),Ws=!1,B=n.memoizedState,f.state=B,gl(n,o,f,h),pl();var H=n.memoizedState;g!==X||B!==H||Ws||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof S=="function"&&(Lf(n,a,S,o),H=n.memoizedState),(G=Ws||Jg(n,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=oa(n,t.child,null,h),n.child=oa(n,null,a,h)):sn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=_s(t,n,h),t}function dy(t,n,a,o){return ta(),n.flags|=256,sn(t,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:ng()}}function Hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function my(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?tr(n):nr(),(t=yt)?(t=S_(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=n,n.child=a,tn=n,yt=null)):t=null,t===null)throw $s(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(nr(),h=n.mode,S=rc({mode:"hidden",children:S},h),o=ea(o,h,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,g,a),n.memoizedState=Bf,Tl(null,o)):(tr(n),Ff(n,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=Gf(t,n,a)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),S=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),S=ea(S,h,a,null),S.flags|=2,o.return=n,S.return=n,o.sibling=S,n.child=o,oa(n,t.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,g,a),n.memoizedState=Bf,n=Tl(null,o));else if(tr(n),wd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,ul({value:o,source:null,stack:null}),n=Gf(t,n,a)}else if(zt||Za(t,n,a,!1),g=(a&t.childLanes)!==0,zt||g){if(g=pt,g!==null&&(o=ji(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Zr(t,o),On(g,t,o),jf;bd(S)||mc(),n=Gf(t,n,a)}else bd(S)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,yt=ci(S.nextSibling),tn=n,He=!0,Xs=null,li=!1,t!==null&&$p(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(nr(),S=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=fs(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?S=fs(z,S):(S=ea(S,h,a,null),S.flags|=2),S.return=n,o.return=n,o.sibling=S,n.child=o,Tl(null,o),o=n.child,S=t.child.memoizedState,S===null?S=qf(a):(h=S.cachePool,h!==null?(C=Pt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ng(),S={baseLanes:S.baseLanes|a,cachePool:h}),o.memoizedState=S,o.childLanes=Hf(t,g,a),n.memoizedState=Bf,Tl(t.child,o)):(tr(n),a=t.child,t=a.sibling,a=fs(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Pn(22,t,null,n),t.lanes=0,t}function Gf(t,n,a){return oa(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function py(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),af(t.return,n,a)}function Kf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function gy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Vt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,ee(Vt,g),sn(t,n,o,a),o=He?ll:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,a,n);else if(t.tag===19)py(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(n,!0,a,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function _s(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),rr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Za(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=fs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=fs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function nS(t,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Js(n,Pt,t.memoizedState.cache),ta();break;case 27:case 5:nt(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(t,n,a):(tr(n),t=_s(t,n,a),t!==null?t.sibling:null);tr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Za(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return gy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Vt,Vt.current),o)break;return null;case 22:return n.lanes=0,ly(t,n,a,n.pendingProps);case 24:Js(n,Pt,t.memoizedState.cache)}return _s(t,n,a)}function yy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!Yf(t,a)&&(n.flags&128)===0)return zt=!1,nS(t,n,a);zt=(t.flags&131072)!==0}else zt=!1,He&&(n.flags&1048576)!==0&&Xp(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")Jh(t)?(o=ua(t,o),n.tag=1,n=fy(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){n.tag=11,n=ry(null,n,t,o,a);break e}else if(h===D){n.tag=14,n=ay(null,n,t,o,a);break e}}throw n=Le(t)||t,Error(r(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ua(o,n.pendingProps),fy(t,n,o,h,a);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),gl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Js(n,Pt,o),o!==f.cache&&of(n,[Pt],a,!0),pl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(t,n,o,a);break e}else if(o!==h){h=ri(Error(r(424)),n),ul(h),n=dy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ci(t.firstChild),tn=n,He=!0,Xs=null,li=!0,a=lg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),o===h){n=_s(t,n,a);break e}sn(t,n,o,a)}n=n.child}return n;case 26:return sc(t,n),t===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,o=Tc(_e.current).createElement(a),o[Rt]=n,o[Ut]=t,rn(o,a,t),Ge(o),n.stateNode=o):n.memoizedState=C_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return nt(n),t===null&&He&&(o=n.stateNode=w_(n.type,n.pendingProps,_e.current),tn=n,li=!0,h=yt,cr(n.type)?(Id=h,yt=ci(o.firstChild)):yt=h),sn(t,n,n.pendingProps.children,a),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=yt)&&(o=OS(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,tn=n,yt=ci(o.firstChild),li=!1,h=!0):h=!1),h||$s(n)),nt(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Td(h,f)?o=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,Y1,null,null,a),Ll._currentValue=h),sc(t,n),sn(t,n,o,a),n.child;case 6:return t===null&&He&&((t=a=yt)&&(a=MS(a,n.pendingProps,li),a!==null?(n.stateNode=a,tn=n,yt=null,t=!0):t=!1),t||$s(n)),null;case 13:return my(t,n,a);case 4:return Nt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=oa(n,null,o,a):sn(t,n,o,a),n.child;case 11:return ry(t,n,n.type,n.pendingProps,a);case 7:return sn(t,n,n.pendingProps,a),n.child;case 8:return sn(t,n,n.pendingProps.children,a),n.child;case 12:return sn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Js(n,n.type,o.value),sn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ia(n),h=nn(h),o=o(h),n.flags|=1,sn(t,n,o,a),n.child;case 14:return ay(t,n,n.type,n.pendingProps,a);case 15:return oy(t,n,n.type,n.pendingProps,a);case 19:return gy(t,n,a);case 31:return tS(t,n,a);case 22:return ly(t,n,a,n.pendingProps);case 24:return ia(n),o=nn(Pt),t===null?(h=cf(),h===null&&(h=pt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),Js(n,Pt,h)):((t.lanes&a)!==0&&(df(t,n),gl(n,null,null,a),pl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Js(n,Pt,o)):(o=f.cache,Js(n,Pt,o),o!==h.cache&&of(n,[Pt],a,!0))),sn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function vs(t){t.flags|=4}function Qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw aa=Hu,hf}else t.flags&=-16777217}function _y(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(n))if(Fy())t.flags|=8192;else throw aa=Hu,hf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Oa():536870912,t.lanes|=n,ho|=n)}function Sl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _t(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function iS(t,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return _t(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ps(Pt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wa(n)?vs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),_t(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(vs(n),f!==null?(_t(n),_y(n,f)):(_t(n),Qf(n,h,null,o,a))):f?f!==t.memoizedState?(vs(n),_t(n),_y(n,f)):(_t(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&vs(n),_t(n),Qf(n,h,t,o,a)),null;case 27:if(Wt(n),a=_e.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _t(n),null}t=ne.current,Wa(n)?Jp(n):(t=w_(h,o,a),n.stateNode=t,vs(n))}return _t(n),null;case 5:if(Wt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _t(n),null}if(f=ne.current,Wa(n))Jp(n);else{var g=Tc(_e.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Rt]=n,f[Ut]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vs(n)}}return _t(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&vs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=_e.current,Wa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(t.nodeValue,a)),t||$s(n,!0)}else t=Tc(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return _t(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Wa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return _t(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Rt]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),_t(n),null);case 4:return Je(),t===null&&gd(n.stateNode.containerInfo),_t(n),null;case 10:return ps(n.type),_t(n),null;case 19:if(Q(Vt),o=n.memoizedState,o===null)return _t(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Sl(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,Sl(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Kp(a,t),a=a.sibling;return ee(Vt,Vt.current&1|2),He&&ds(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Zt()>hc&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return _t(n),null}else 2*Zt()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,Sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,a=Vt.current,ee(Vt,h?a&1|2:a&1),He&&ds(n,o.treeForkCount),t):(_t(n),null);case 22:case 23:return zn(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ps(Pt),_t(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sS(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ps(Pt),Je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wt(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Vt),null;case 4:return Je(),null;case 10:return ps(n.type),null;case 22:case 23:return zn(n),yf(),t!==null&&Q(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ps(Pt),null;case 25:return null;default:return null}}function vy(t,n){switch(tf(n),n.tag){case 3:ps(Pt),Je();break;case 26:case 27:case 5:Wt(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:Q(Vt);break;case 10:ps(n.type);break;case 22:case 23:zn(n),yf(),t!==null&&Q(sa);break;case 24:ps(Pt)}}function Al(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(S){ot(n,n.return,S)}}function ir(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,h=n;var C=a,z=S;try{z()}catch(G){ot(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){ot(n,n.return,G)}}function Ey(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{cg(n,a)}catch(o){ot(t,t.return,o)}}}function Ty(t,n,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ot(t,n,o)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){ot(t,n,h)}}function Xi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ot(t,n,h)}else a.current=null}function Sy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ot(t,t.return,h)}}function Xf(t,n,a){try{var o=t.stateNode;IS(o,t.type,a,n),o[Ut]=n}catch(h){ot(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_i));else if(o!==4&&(o===27&&cr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function oc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function by(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,a),n[Rt]=t,n[Ut]=a}catch(f){ot(t,t.return,f)}}var Es=!1,Bt=!1,Wf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function rS(t,n){if(t=t.containerInfo,vd=Cc,t=Up(t),Fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,S=-1,C=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(S=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(S=g),B===f&&++G===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Cc=!1,$t=n;$t!==null;)if(n=$t,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,$t=t;else for(;$t!==null;){switch(n=$t,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=ua(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){ot(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,$t=t;break}$t=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(t,a),o&4&&Al(5,a);break;case 1:if(Ss(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ot(a,a.return,g)}else{var h=ua(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ot(a,a.return,g)}}o&64&&Ey(a),o&512&&bl(a,a.return);break;case 3:if(Ss(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cg(t,n)}catch(g){ot(a,a.return,g)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:Ss(t,a),n===null&&o&4&&Sy(a),o&512&&bl(a,a.return);break;case 12:Ss(t,a);break;case 31:Ss(t,a),o&4&&Dy(t,a);break;case 13:Ss(t,a),o&4&&xy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mS.bind(null,a),VS(t,a))));break;case 22:if(o=a.memoizedState!==null||Es,!o){n=n!==null&&n.memoizedState!==null||Bt,h=Es;var f=Bt;Es=o,(Bt=n)&&!f?As(t,a,(a.subtreeFlags&8772)!==0):Ss(t,a),Es=h,Bt=f}break;case 30:break;default:Ss(t,a)}}function Ry(t){var n=t.alternate;n!==null&&(t.alternate=null,Ry(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ps(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Cn=!1;function Ts(t,n,a){for(a=a.child;a!==null;)Cy(t,n,a),a=a.sibling}function Cy(t,n,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Xt,a)}catch{}switch(a.tag){case 26:Bt||Xi(a,n),Ts(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Xi(a,n);var o=At,h=Cn;cr(a.type)&&(At=a.stateNode,Cn=!1),Ts(t,n,a),Ml(a.stateNode),At=o,Cn=h;break;case 5:Bt||Xi(a,n);case 6:if(o=At,h=Cn,At=null,Ts(t,n,a),At=o,Cn=h,At!==null)if(Cn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){ot(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){ot(a,n,f)}break;case 18:At!==null&&(Cn?(t=At,E_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):E_(At,a.stateNode));break;case 4:o=At,h=Cn,At=a.stateNode.containerInfo,Cn=!0,Ts(t,n,a),At=o,Cn=h;break;case 0:case 11:case 14:case 15:ir(2,a,n),Bt||ir(4,a,n),Ts(t,n,a);break;case 1:Bt||(Xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),Ts(t,n,a);break;case 21:Ts(t,n,a);break;case 22:Bt=(o=Bt)||a.memoizedState!==null,Ts(t,n,a),Bt=o;break;default:Ts(t,n,a)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){ot(n,n.return,a)}}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){ot(n,n.return,a)}}function aS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(r(435,t.tag))}}function lc(t,n){var a=aS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=pS.bind(null,t,o);o.then(h,h)}})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(cr(S.type)){At=S.stateNode,Cn=!1;break e}break;case 5:At=S.stateNode,Cn=!1;break e;case 3:case 4:At=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(At===null)throw Error(r(160));Cy(f,g,h),At=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,t),n=n.sibling}var bi=null;function Ny(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),xn(t),o&4&&(ir(3,t,t.return),Al(3,t),ir(5,t,t.return));break;case 1:Dn(n,t),xn(t),o&512&&(Bt||a===null||Xi(a,a.return)),o&64&&Es&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=bi;if(Dn(n,t),xn(t),o&512&&(Bt||a===null||Xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Zn]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,a),f[Rt]=t,Ge(f),o=f;break e;case"link":var g=N_("link","href",h).get(o+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=N_("meta","content",h).get(o+(a.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break t}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Rt]=t,Ge(f),o=f}t.stateNode=o}else O_(h,t.type,t.stateNode);else t.stateNode=x_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?O_(h,t.type,t.stateNode):x_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(n,t),xn(t),o&512&&(Bt||a===null||Xi(a,a.return)),a!==null&&o&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(n,t),xn(t),o&512&&(Bt||a===null||Xi(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(oe){ot(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(Dn(n,t),xn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){ot(t,t.return,oe)}}break;case 3:if(bc=null,h=bi,bi=Sc(n.containerInfo),Dn(n,t),bi=h,xn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(n.containerInfo)}catch(oe){ot(t,t.return,oe)}Wf&&(Wf=!1,Oy(t));break;case 4:o=bi,bi=Sc(t.stateNode.containerInfo),Dn(n,t),xn(t),bi=o;break;case 12:Dn(n,t),xn(t);break;case 31:Dn(n,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:Dn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Es,G=Bt;if(Es=z||h,Bt=G||C,Dn(n,t),Bt=G,Es=z,xn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Es||Bt||ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){ot(C,C.return,oe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){ot(C,C.return,oe)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?T_(H,!0):T_(C.stateNode,!1)}catch(oe){ot(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(t,a))));break;case 19:Dn(n,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:Dn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);oc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(Rn(g,""),a.flags&=-33);var S=$f(t);oc(t,S,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=$f(t);Jf(t,z,C);break;default:throw Error(r(161))}}catch(G){ot(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ss(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),ca(n);break;case 1:Xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),ca(n);break;case 27:Ml(n.stateNode);case 26:case 5:Xi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function As(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:As(h,f,a),Al(4,f);break;case 1:if(As(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ot(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var S=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ug(C[h],S)}catch(z){ot(o,o.return,z)}}a&&g&64&&Ey(f),bl(f,f.return);break;case 27:by(f);case 26:case 5:As(h,f,a),a&&o===null&&g&4&&Sy(f),bl(f,f.return);break;case 12:As(h,f,a);break;case 31:As(h,f,a),a&&g&4&&Dy(h,f);break;case 13:As(h,f,a),a&&g&4&&xy(h,f);break;case 22:f.memoizedState===null&&As(h,f,a),bl(f,f.return);break;case 30:break;default:As(h,f,a)}n=n.sibling}}function Zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function wi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(t,n,a,o),n=n.sibling}function My(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(t,n,a,o),h&2048&&Al(9,n);break;case 1:wi(t,n,a,o);break;case 3:wi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){wi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ot(n,n.return,C)}}else wi(t,n,a,o);break;case 31:wi(t,n,a,o);break;case 13:wi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?wi(t,n,a,o):wl(t,n):f._visibility&2?wi(t,n,a,o):(f._visibility|=2,lo(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:wi(t,n,a,o),h&2048&&ed(n.alternate,n);break;default:wi(t,n,a,o)}}function lo(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:lo(f,g,S,C,h),Al(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?lo(f,g,S,C,h):wl(f,g):(G._visibility|=2,lo(f,g,S,C,h)),h&&z&2048&&Zf(g.alternate,g);break;case 24:lo(f,g,S,C,h),h&&z&2048&&ed(g.alternate,g);break;default:lo(f,g,S,C,h)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wl(a,o),h&2048&&Zf(o.alternate,o);break;case 24:wl(a,o),h&2048&&ed(o.alternate,o);break;default:wl(a,o)}n=n.sibling}}var Il=8192;function uo(t,n,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Vy(t,n,a),t=t.sibling}function Vy(t,n,a){switch(t.tag){case 26:uo(t,n,a),t.flags&Il&&t.memoizedState!==null&&KS(a,bi,t.memoizedState,t.memoizedProps);break;case 5:uo(t,n,a);break;case 3:case 4:var o=bi;bi=Sc(t.stateNode.containerInfo),uo(t,n,a),bi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Il,Il=16777216,uo(t,n,a),Il=o):uo(t,n,a));break;default:uo(t,n,a)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$t=o,Uy(o,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):Rl(t);break;default:Rl(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$t=o,Uy(o,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ir(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Uy(t,n){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,$t=o;else e:for(a=t;$t!==null;){o=$t;var h=o.sibling,f=o.return;if(Ry(o),o===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var oS={getCacheForType:function(t){var n=nn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return nn(Pt).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,et=0,pt=null,Ve=null,Ue=0,at=0,Bn=null,sr=!1,co=!1,td=!1,bs=0,xt=0,rr=0,ha=0,nd=0,qn=0,ho=0,Cl=null,Nn=null,id=!1,cc=0,Py=0,hc=1/0,fc=null,ar=null,Kt=0,or=null,fo=null,ws=0,sd=0,rd=null,jy=null,Dl=0,ad=null;function Hn(){return(et&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?fd():Va()}function zy(){if(qn===0)if((Ue&536870912)===0||He){var t=pi;pi<<=1,(pi&3932160)===0&&(pi=262144),qn=t}else qn=536870912;return t=jn.current,t!==null&&(t.flags|=32),qn}function On(t,n,a){(t===pt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(mo(t,0),lr(t,Ue,qn,!1)),Ui(t,a),((et&2)===0||t!==pt)&&(t===pt&&((et&2)===0&&(ha|=a),xt===4&&lr(t,Ue,qn,!1)),$i(t))}function By(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ye(t,n),h=o?hS(t,n):ld(t,n,!0),f=o;do{if(h===0){co&&!o&&lr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!uS(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;h=Cl;var C=S.current.memoizedState.isDehydrated;if(C&&(mo(S,g).flags|=256),g=ld(S,g,!1),g!==2){if(td&&!C){S.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break e}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){mo(t,0),lr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:lr(o,n,qn,!sr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cc+300-Zt(),10<h)){if(lr(o,n,qn,!sr),Xn(o,0,!0)!==0)break e;ws=n,o.timeoutHandle=__(qy.bind(null,o,a,Nn,fc,id,n,qn,ha,ho,sr,f,"Throttled",-0,0),h);break e}qy(o,a,Nn,fc,id,n,qn,ha,ho,sr,f,null,-0,0)}}break}while(!0);$i(t)}function qy(t,n,a,o,h,f,g,S,C,z,G,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Vy(n,f,X);var oe=(f&62914560)===f?cc-Zt():(f&4194048)===f?Py-Zt():0;if(oe=YS(X,oe),oe!==null){ws=f,t.cancelPendingCommit=oe($y.bind(null,t,n,f,a,o,h,g,S,C,G,X,null,B,H)),lr(t,f,g,!z);return}}$y(t,n,f,a,o,h,g,S,C)}function uS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,a,o){n&=~nd,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-gt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Pi(t,a,n)}function dc(){return(et&6)===0?(xl(0),!1):!0}function od(){if(Ve!==null){if(at===0)var t=Ve.return;else t=Ve,ms=na=null,Af(t),io=null,fl=0,t=Ve;for(;t!==null;)vy(t.alternate,t),t=t.return;Ve=null}}function mo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ws=0,od(),pt=t,Ve=a=fs(t.current,null),Ue=n,at=0,Bn=null,sr=!1,co=Ye(t,n),td=!1,ho=qn=nd=ha=rr=xt=0,Nn=Cl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-gt(o),f=1<<h;n|=t[h],o&=~f}return bs=n,Vu(),a}function Hy(t,n){Re=null,F.H=El,n===no||n===qu?(n=rg(),at=3):n===hf?(n=rg(),at=4):at=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Ve===null&&(xt=1,nc(t,ri(n,t.current)))}function Fy(){var t=jn.current;return t===null?!0:(Ue&4194048)===Ue?ui===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===ui:!1}function Gy(){var t=F.H;return F.H=El,t===null?El:t}function Ky(){var t=F.A;return F.A=oS,t}function mc(){xt=4,sr||(Ue&4194048)!==Ue&&jn.current!==null||(co=!0),(rr&134217727)===0&&(ha&134217727)===0||pt===null||lr(pt,Ue,qn,!1)}function ld(t,n,a){var o=et;et|=2;var h=Gy(),f=Ky();(pt!==t||Ue!==n)&&(fc=null,mo(t,n)),n=!1;var g=xt;e:do try{if(at!==0&&Ve!==null){var S=Ve,C=Bn;switch(at){case 8:od(),g=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var z=at;if(at=0,Bn=null,po(t,S,C,z),a&&co){g=0;break e}break;default:z=at,at=0,Bn=null,po(t,S,C,z)}}cS(),g=xt;break}catch(G){Hy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ms=na=null,et=o,F.H=h,F.A=f,Ve===null&&(pt=null,Ue=0,Vu()),g}function cS(){for(;Ve!==null;)Yy(Ve)}function hS(t,n){var a=et;et|=2;var o=Gy(),h=Ky();pt!==t||Ue!==n?(fc=null,hc=Zt()+500,mo(t,n)):co=Ye(t,n);e:do try{if(at!==0&&Ve!==null){n=Ve;var f=Bn;t:switch(at){case 1:at=0,Bn=null,po(t,n,f,1);break;case 2:case 9:if(ig(f)){at=0,Bn=null,Qy(n);break}n=function(){at!==2&&at!==9||pt!==t||(at=7),$i(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ig(f)?(at=0,Bn=null,Qy(n)):(at=0,Bn=null,po(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var S=Ve;if(g?M_(g):S.stateNode.complete){at=0,Bn=null;var C=S.sibling;if(C!==null)Ve=C;else{var z=S.return;z!==null?(Ve=z,pc(z)):Ve=null}break t}}at=0,Bn=null,po(t,n,f,5);break;case 6:at=0,Bn=null,po(t,n,f,6);break;case 8:od(),xt=6;break e;default:throw Error(r(462))}}fS();break}catch(G){Hy(t,G)}while(!0);return ms=na=null,F.H=o,F.A=h,et=a,Ve!==null?0:(pt=null,Ue=0,Vu(),xt)}function fS(){for(;Ve!==null&&!Vi();)Yy(Ve)}function Yy(t){var n=yy(t.alternate,t,bs);t.memoizedProps=t.pendingProps,n===null?pc(t):Ve=n}function Qy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Af(n);default:vy(a,n),n=Ve=Kp(n,bs),n=yy(a,n,bs)}t.memoizedProps=t.pendingProps,n===null?pc(t):Ve=n}function po(t,n,a,o){ms=na=null,Af(n),io=null,fl=0;var h=n.return;try{if(eS(t,h,n,a,Ue)){xt=1,nc(t,ri(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;xt=1,nc(t,ri(a,t.current)),Ve=null;return}n.flags&32768?(He||o===1?t=!0:co||(Ue&536870912)!==0?t=!1:(sr=t=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Xy(n,sr);return}t=n.return;var a=iS(n.alternate,n,bs);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);xt===0&&(xt=5)}function Xy(t,n){do{var a=sS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);xt=6,Ve=null}function $y(t,n,a,o,h,f,g,S,C){t.cancelPendingCommit=null;do gc();while(Kt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,Ma(t,a,f,g,S,C),t===pt&&(Ve=pt=null,Ue=0),fo=n,or=t,ws=a,sd=f,rd=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gS(ki,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,g=et,et|=4;try{rS(t,n,a)}finally{et=g,te.p=h,F.T=o}}Kt=1,Jy(),Wy(),Zy()}}function Jy(){if(Kt===1){Kt=0;var t=or,n=fo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Ny(n,t);var f=Ed,g=Up(t.containerInfo),S=f.focusedElem,C=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&Lp(S.ownerDocument.documentElement,S)){if(C!==null&&Fh(S)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(G,S.value.length);else{var X=S.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=S.textContent.length,pe=Math.min(C.start,oe),ft=C.end===void 0?pe:Math.min(C.end,oe);!H.extend&&pe>ft&&(g=ft,ft=pe,pe=g);var L=kp(S,pe),O=kp(S,ft);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),pe>ft?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=S;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<X.length;S++){var K=X[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cc=!!vd,Ed=vd=null}finally{et=h,te.p=o,F.T=a}}t.current=n,Kt=2}}function Wy(){if(Kt===2){Kt=0;var t=or,n=fo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Iy(t,n.alternate,n)}finally{et=h,te.p=o,F.T=a}}Kt=3}}function Zy(){if(Kt===4||Kt===3){Kt=0,Ur();var t=or,n=fo,a=ws,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,fo=or=null,e_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ar=null),Jn(a),n=n.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Xt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var S=o[g];f(S.value,{componentStack:S.stack})}}finally{F.T=n,te.p=h}}(ws&3)!==0&&gc(),$i(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ad?Dl++:(Dl=0,ad=t):Dl=0,xl(0)}}function e_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function gc(){return Jy(),Wy(),Zy(),t_()}function t_(){if(Kt!==5)return!1;var t=or,n=sd;sd=0;var a=Jn(ws),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=rd,rd=null;var f=or,g=ws;if(Kt=0,fo=or=null,ws=0,(et&6)!==0)throw Error(r(331));var S=et;if(et|=4,Ly(f.current),My(f,f.current,g,a),et=S,xl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Xt,f)}catch{}return!0}finally{te.p=h,F.T=o,e_(t,n)}}function n_(t,n,a){n=ri(a,n),n=Pf(t.stateNode,n,2),t=er(t,n,2),t!==null&&(Ui(t,2),$i(t))}function ot(t,n,a){if(t.tag===3)n_(t,t,a);else for(;n!==null;){if(n.tag===3){n_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ar===null||!ar.has(o))){t=ri(a,t),a=iy(2),o=er(n,a,2),o!==null&&(sy(a,o,n,t),Ui(o,2),$i(o));break}}n=n.return}}function ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new lS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),t=dS.bind(null,t,n,a),n.then(t,t))}function dS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(Ue&a)===a&&(xt===4||xt===3&&(Ue&62914560)===Ue&&300>Zt()-cc?(et&2)===0&&mo(t,0):nd|=a,ho===Ue&&(ho=0)),$i(t)}function i_(t,n){n===0&&(n=Oa()),t=Zr(t,n),t!==null&&(Ui(t,n),$i(t))}function mS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(t,a)}function pS(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),i_(t,a)}function gS(t,n){return Tt(t,n)}var yc=null,go=null,cd=!1,_c=!1,hd=!1,ur=0;function $i(t){t!==go&&t.next===null&&(go===null?yc=go=t:go=go.next=t),_c=!0,cd||(cd=!0,_S())}function xl(t,n){if(!hd&&_c){hd=!0;do for(var a=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(o,f))}else f=Ue,f=Xn(o,o===pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ye(o,f)||(a=!0,o_(o,f));o=o.next}while(a);hd=!1}}function yS(){s_()}function s_(){_c=cd=!1;var t=0;ur!==0&&CS()&&(t=ur);for(var n=Zt(),a=null,o=yc;o!==null;){var h=o.next,f=r_(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(go=a)):(a=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}Kt!==0&&Kt!==5||xl(t),ur!==0&&(ur=0)}function r_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-gt(f),S=1<<g,C=h[g];C===-1?((S&a)===0||(S&o)!==0)&&(h[g]=Na(S,n)):C<=n&&(t.expiredLanes|=S),f&=~S}if(n=pt,a=Ue,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Mi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ye(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Mi(o),Jn(a)){case 2:case 8:a=Pr;break;case 32:a=ki;break;case 268435456:a=An;break;default:a=ki}return o=a_.bind(null,t),a=Tt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Mi(o),t.callbackPriority=2,t.callbackNode=null,2}function a_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var o=Ue;return o=Xn(t,t===pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(By(t,o,n),r_(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?a_.bind(null,t):null)}function o_(t,n){if(gc())return null;By(t,n,!0)}function _S(){xS(function(){(et&6)!==0?Tt(Fe,yS):s_()})}function fd(){if(ur===0){var t=eo;t===0&&(t=bn,bn<<=1,(bn&261888)===0&&(bn=256)),ur=t}return ur}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function u_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=l_((h[Ut]||null).action),g=o.submitter;g&&(n=(n=g[Ut]||null)?l_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Hi("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ur!==0){var C=g?u_(h,g):new FormData(h);Of(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=g?u_(h,g):new FormData(h),Of(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var dd=0;dd<Qh.length;dd++){var md=Qh[dd],ES=md.toLowerCase(),TS=md[0].toUpperCase()+md.slice(1);Ai(ES,"on"+TS)}Ai(zp,"onAnimationEnd"),Ai(Bp,"onAnimationIteration"),Ai(qp,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(U1,"onTransitionRun"),Ai(P1,"onTransitionStart"),Ai(j1,"onTransitionCancel"),Ai(Hp,"onTransitionEnd"),Ot("onMouseEnter",["mouseout","mouseover"]),Ot("onMouseLeave",["mouseout","mouseover"]),Ot("onPointerEnter",["pointerout","pointerover"]),Ot("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function c_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var S=o[g],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=z;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(S=o[g],C=S.instance,z=S.currentTarget,S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=z;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=C}}}}function ke(t,n){var a=n[Us];a===void 0&&(a=n[Us]=new Set);var o=t+"__bubble";a.has(o)||(h_(n,t,2,!1),a.add(o))}function pd(t,n,a){var o=0;n&&(o|=4),h_(a,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[vc]){t[vc]=!0,mt.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||pd(a,!1,t),pd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,pd("selectionchange",!1,n))}}function h_(t,n,a,o){switch(z_(n)){case 2:var h=$S;break;case 8:h=JS;break;default:h=Nd}a=h.bind(null,n,a,t),h=void 0,!Gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var S=o.stateNode.containerInfo;if(S===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;S!==null;){if(g=ei(S),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}S=S.parentNode}}o=o.return}Fs(function(){var z=f,G=ti(a),X=[];e:{var B=Fp.get(t);if(B!==void 0){var H=Hi,oe=t;switch(t){case"keypress":if(Yr(a)===0)break e;case"keydown":case"keyup":H=xu;break;case"focusin":oe="focus",H=Xr;break;case"focusout":oe="blur",H=Xr;break;case"beforeblur":case"afterblur":H=Xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case zp:case Bp:case qp:H=Au;break;case Hp:H=A;break;case"scroll":case"scrollend":H=tl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=hs;break;case"toggle":case"beforetoggle":H=Ie}var pe=(n&4)!==0,ft=!pe&&(t==="scroll"||t==="scrollend"),L=pe?B!==null?B+"Capture":null:B;pe=[];for(var O=z,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=vi(O,L),K!=null&&pe.push(Ol(O,K,j))),ft)break;O=O.return}0<pe.length&&(B=new H(B,oe,null,a,G),X.push({event:B,listeners:pe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Wo&&(oe=a.relatedTarget||a.fromElement)&&(ei(oe)||oe[Wn]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=z,oe=oe?ei(oe):null,oe!==null&&(ft=c(oe),pe=oe.tag,oe!==ft||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(H=null,oe=z),H!==oe)){if(pe=nl,K="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=hs,K="onPointerLeave",L="onPointerEnter",O="pointer"),ft=H==null?B:T(H),j=oe==null?B:T(oe),B=new pe(K,O+"leave",H,a,G),B.target=ft,B.relatedTarget=j,K=null,ei(G)===z&&(pe=new pe(L,O+"enter",oe,a,G),pe.target=j,pe.relatedTarget=ft,K=pe),ft=K,H&&oe)t:{for(pe=AS,L=H,O=oe,j=0,K=L;K;K=pe(K))j++;K=0;for(var he=O;he;he=pe(he))K++;for(;0<j-K;)L=pe(L),j--;for(;0<K-j;)O=pe(O),K--;for(;j--;){if(L===O||O!==null&&L===O.alternate){pe=L;break t}L=pe(L),O=pe(O)}pe=null}else pe=null;H!==null&&f_(X,B,H,pe,!1),oe!==null&&ft!==null&&f_(X,ft,oe,pe,!0)}}e:{if(B=z?T(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qe=Dp;else if(Rp(B))if(xp)Qe=V1;else{Qe=O1;var le=N1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Pa(z.elementType)&&(Qe=Dp):Qe=M1;if(Qe&&(Qe=Qe(t,z))){Cp(X,Qe,a,G);break e}le&&le(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Xo(B,"number",B.value)}switch(le=z?T(z):window,t){case"focusin":(Rp(le)||le.contentEditable==="true")&&(Ka=le,Gh=z,ol=null);break;case"focusout":ol=Gh=Ka=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Pp(X,a,G);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":Pp(X,a,G)}var De;if(Ze)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ga?$r(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ki&&a.locale!=="ko"&&(Ga||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ga&&(De=el()):(qi=G,Zo="value"in qi?qi.value:qi.textContent,Ga=!0)),le=Ec(z,Pe),0<le.length&&(Pe=new Gi(Pe,t,null,a,G),X.push({event:Pe,listeners:le}),De?Pe.data=De:(De=Fa(a),De!==null&&(Pe.data=De)))),(De=ii?R1(t,a):C1(t,a))&&(Pe=Ec(z,"onBeforeInput"),0<Pe.length&&(le=new Gi("onBeforeInput","beforeinput",null,a,G),X.push({event:le,listeners:Pe}),le.data=De)),vS(X,t,z,a,G)}c_(X,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ec(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,a),h!=null&&o.unshift(Ol(t,h,f)),h=vi(t,n),h!=null&&o.push(Ol(t,h,f))),t.tag===3)return o;t=t.return}return[]}function AS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var S=a,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===o)break;S!==5&&S!==26&&S!==27||z===null||(C=z,h?(z=vi(a,f),z!=null&&g.unshift(Ol(a,z,C))):h||(z=vi(a,f),z!=null&&g.push(Ol(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var bS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(bS,`
`).replace(wS,"")}function m_(t,n){return n=d_(n),d_(t)===n}function ht(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(t,""+o);break;case"className":_n(t,"class",o);break;case"tabIndex":_n(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,o);break;case"style":Jo(t,o,f);break;case"data":if(n!=="object"){_n(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=_i);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),fn(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,fn(t,a,o))}}function _d(t,n,a,o,h,f){switch(a){case"style":Jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&Rn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fn(t,a,o)}}}function rn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,f,g,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),o&&ht(t,n,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ht(t,n,o,G,a,null)}}yu(t,f,S,C,z,g,h,!1);return;case"select":ke("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":o=S;default:ht(t,n,h,S,a,null)}n=f,a=g,t.multiple=!!o,n!=null?zs(t,!!o,n,!1):a!=null&&zs(t,!!o,a,!0);return;case"textarea":ke("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":o=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ht(t,n,g,S,a,null)}Bs(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ht(t,n,C,o,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Nl.length;o++)ke(Nl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,z,o,a,null)}return;default:if(Pa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&_d(t,n,G,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&ht(t,n,S,o,a,null))}function IS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,S=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ht(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&ht(t,n,B,H,o,X)}}Ua(t,g,S,C,z,G,f,h);return;case"select":H=g=S=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==C&&ht(t,n,h,f,o,C)}n=S,a=g,o=H,B!=null?zs(t,!!a,B,!1):!!o!=!!a&&(n!=null?zs(t,!!a,n,!0):zs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(t,n,S,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ht(t,n,g,h,o,f)}_u(t,B,H);return;case"option":for(var oe in a)B=a[oe],a.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ht(t,n,oe,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ht(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&ht(t,n,pe,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ht(t,n,z,B,o,H)}return;default:if(Pa(n)){for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!==void 0&&!o.hasOwnProperty(ft)&&_d(t,n,ft,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||_d(t,n,G,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ht(t,n,L,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ht(t,n,X,B,o,H)}function p_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,S=h.duration;if(f&&S&&p_(g)){for(g=0,S=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>S)break;var G=C.transferSize,X=C.initiatorType;G&&p_(X)&&(C=C.responseEnd,g+=G*(C<S?1:(S-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Ed=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function CS(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(NS)}:__;function NS(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function E_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Eo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[Zn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ml(t.ownerDocument.body);a=h}while(a);Eo(n)}function T_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function MS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function S_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ci(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Id=null;function A_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ci(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function w_(t,n,a){switch(n=Tc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ps(t)}var hi=new Map,I_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Is=te.d;te.d={f:kS,r:LS,D:US,C:PS,L:jS,m:zS,X:qS,S:BS,M:HS};function kS(){var t=Is.f(),n=dc();return t||n}function LS(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?Hg(n):Is.r(t)}var yo=typeof document>"u"?null:document;function R_(t,n,a){var o=yo;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",t),Ge(n),o.head.appendChild(n)))}}function US(t){Is.D(t),R_("dns-prefetch",t,null)}function PS(t,n){Is.C(t,n),R_("preconnect",t,n)}function jS(t,n,a){Is.L(t,n,a);var o=yo;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+In(a.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=_o(t);break;case"script":f=vo(t)}hi.has(f)||(t=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),hi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Vl(f))||n==="script"&&o.querySelector(kl(f))||(n=o.createElement("link"),rn(n,"link",t),Ge(n),o.head.appendChild(n)))}}function zS(t,n){Is.m(t,n);var a=yo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vo(t)}if(!hi.has(f)&&(t=I({rel:"modulepreload",href:t},n),hi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}o=a.createElement("link"),rn(o,"link",t),Ge(o),a.head.appendChild(o)}}}function BS(t,n,a){Is.S(t,n,a);var o=yo;if(o&&t){var h=ae(o).hoistableStyles,f=_o(t);n=n||"default";var g=h.get(f);if(!g){var S={loading:0,preload:null};if(g=o.querySelector(Vl(f)))S.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},a),(a=hi.get(f))&&Rd(t,a);var C=g=o.createElement("link");Ge(C),rn(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:S},h.set(f,g)}}}function qS(t,n){Is.X(t,n);var a=yo;if(a&&t){var o=ae(a).hoistableScripts,h=vo(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=I({src:t,async:!0},n),(n=hi.get(h))&&Cd(t,n),f=a.createElement("script"),Ge(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HS(t,n){Is.M(t,n);var a=yo;if(a&&t){var o=ae(a).hoistableScripts,h=vo(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=I({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&Cd(t,n),f=a.createElement("script"),Ge(f),rn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(t,n,a,o){var h=(h=_e.current)?Sc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_o(a.href),a=ae(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var f=ae(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Vl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||FS(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vo(a),a=ae(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function _o(t){return'href="'+In(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",a),Ge(n),t.head.appendChild(n))}function vo(t){return'[src="'+In(t)+'"]'}function kl(t){return"script[async]"+t}function x_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(a.href)+'"]');if(o)return n.instance=o,Ge(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ge(o),rn(o,"style",h),Ac(o,a.precedence,t),n.instance=o;case"stylesheet":h=_o(a.href);var f=t.querySelector(Vl(h));if(f)return n.state.loading|=4,n.instance=f,Ge(f),f;o=D_(a),(h=hi.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Ge(f);var g=f;return g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),rn(f,"link",o),n.state.loading|=4,Ac(f,a.precedence,t),n.instance=f;case"script":return f=vo(a.src),(h=t.querySelector(kl(f)))?(n.instance=h,Ge(h),h):(o=a,(h=hi.get(f))&&(o=I({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ge(h),rn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ac(o,a.precedence,t));return n.instance}function Ac(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var S=o[g];if(S.dataset.precedence===n)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function N_(t,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Zn]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=o.get(g);S?S.push(f):o.set(g,[f])}}return o}function O_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function GS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KS(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=_o(o.href),f=n.querySelector(Vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ge(f);return}f=n.ownerDocument||n,o=D_(o),(h=hi.get(h))&&Rd(o,h),f=f.createElement("link"),Ge(f);var g=f;g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),rn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function YS(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*RS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(QS,t),Ic=null,wc.call(t))}function QS(t,n){if(!(n.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function XS(t,n,a,o,h,f,g,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V_(t,n,a,o,h,f,g,S,C,z,G,X){return t=new XS(t,n,a,g,C,z,G,X,S),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),t}function k_(t){return t?(t=Xa,t):Xa}function L_(t,n,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=Zs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=er(t,o,n),a!==null&&(On(a,t,n),ml(a,t,n))}function U_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xd(t,n){U_(t,n),(t=t.alternate)&&U_(t,n)}function P_(t){if(t.tag===13||t.tag===31){var n=Zr(t,67108864);n!==null&&On(n,t,67108864),xd(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var n=Hn();n=gi(n);var a=Zr(t,n);a!==null&&On(a,t,n),xd(t,n)}}var Cc=!0;function $S(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Nd(t,n,a,o)}finally{te.p=f,F.T=h}}function JS(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Nd(t,n,a,o)}finally{te.p=f,F.T=h}}function Nd(t,n,a,o){if(Cc){var h=Od(o);if(h===null)yd(t,n,o,Dc,a),B_(t,o);else if(ZS(h,t,n,a,o))o.stopPropagation();else if(B_(t,o),n&4&&-1<WS.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Qn(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var C=1<<31-gt(g);S.entanglements[1]|=C,g&=~C}$i(f),(et&6)===0&&(hc=Zt()+500,xl(0))}}break;case 31:case 13:S=Zr(f,2),S!==null&&On(S,f,2),dc(),xd(f,2)}if(f=Od(o),f===null&&yd(t,n,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,a)}}function Od(t){return t=ti(t),Md(t)}var Dc=null;function Md(t){if(Dc=null,t=ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Fe:return 2;case Pr:return 8;case ki:case Li:return 32;case An:return 268435456;default:return 32}default:return 32}}var Vd=!1,hr=null,fr=null,dr=null,Ul=new Map,Pl=new Map,mr=[],WS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function jl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&P_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ZS(t,n,a,o,h){switch(n){case"focusin":return hr=jl(hr,t,n,a,o,h),!0;case"dragenter":return fr=jl(fr,t,n,a,o,h),!0;case"mouseover":return dr=jl(dr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ul.set(f,jl(Ul.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,jl(Pl.get(f)||null,t,n,a,o,h)),!0}return!1}function q_(t){var n=ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,kn(t.priority,function(){j_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,kn(t.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Wo=o,a.target.dispatchEvent(o),Wo=null}else return n=wn(a),n!==null&&P_(n),t.blockedOn=a,!1;n.shift()}return!0}function H_(t,n,a){xc(t)&&a.delete(n)}function eA(){Vd=!1,hr!==null&&xc(hr)&&(hr=null),fr!==null&&xc(fr)&&(fr=null),dr!==null&&xc(dr)&&(dr=null),Ul.forEach(H_),Pl.forEach(H_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eA)))}var Oc=null;function F_(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Eo(t){function n(C){return Nc(C,t)}hr!==null&&Nc(hr,t),fr!==null&&Nc(fr,t),dr!==null&&Nc(dr,t),Ul.forEach(n),Pl.forEach(n);for(var a=0;a<mr.length;a++){var o=mr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ut]||null;if(typeof f=="function")g||F_(a);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ut]||null)S=g.formAction;else if(Md(h)!==null)continue}else S=g.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Mc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Hn();L_(a,o,t,n,null,null)},Mc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L_(t.current,2,null,t,null,null),dc(),n[Wn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Va();t={blockedOn:null,target:t,priority:n};for(var a=0;a<mr.length&&n!==0&&n<mr[a].priority;a++);mr.splice(a,0,t),a===0&&q_(t)}};var K_=e.version;if(K_!=="19.2.4")throw Error(r(527,K_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Xt=Vc.inject(tA),Oe=Vc}catch{}}return Bl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Zg,f=ey,g=ty;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=V_(t,1,!1,null,null,a,o,null,h,f,g,G_),t[Wn]=n.current,gd(t),new kd(n)},Bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Zg,g=ey,S=ty,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=V_(t,1,!0,n,a??null,o,h,C,f,g,S,G_),n.context=k_(null),a=n.current,o=Hn(),o=gi(o),h=Zs(o),h.callback=null,er(a,h,o),a=o,n.current.lanes=a,Ui(n,a),$i(n),t[Wn]=n.current,gd(t),new Mc(n)},Bl.version="19.2.4",Bl}var nv;function hA(){if(nv)return Pd.exports;nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=cA(),Pd.exports}var fA=hA();const dA=()=>{};var iv={};const jE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},mA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,I=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(V=64)),r.push(i[b],i[I],i[V],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(jE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):mA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const I=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||I==null)throw new pA;const V=c<<2|p>>4;if(r.push(V),y!==64){const Y=p<<4&240|y>>2;if(r.push(Y),I!==64){const W=y<<6&192|I;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(s){const e=jE(s);return zE.encodeByteArray(e,!0)},Jc=function(s){return gA(s).replace(/\./g,"")},BE=function(s){try{return zE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},EA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&BE(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return dA()||_A()||vA()||EA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qE=s=>vh()?.emulatorHosts?.[s],TA=s=>{const e=qE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},HE=()=>vh()?.config,FE=s=>vh()?.[`_${s}`];class SA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function zo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(s){return(await fetch(s,{credentials:"include"})).ok}function AA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Yl={};function bA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?s.emulator.push(e):s.prod.push(e);return s}function wA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let sv=!1;function KE(s,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||Yl[s]===e||Yl[s]||sv)return;Yl[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=bA().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{sv=!0,d()},V}function b(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function I(){const V=wA(r),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),se=i("learnmore"),ie=document.getElementById(se)||document.createElement("a"),me=i("preprendIcon"),be=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ge=V.element;p(ge),b(ie,se);const Ce=y();_(be,me),ge.append(be,W,ie,Ce),document.body.appendChild(ge)}c?(W.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function RA(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function NA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}function OA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const MA="FirebaseError";class Oi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?VA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Oi(l,p,r)}}function VA(s,e){return s.replace(kA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function LA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Rr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(rv(c)&&rv(d)){if(!Rr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function rv(s){return s!==null&&typeof s=="object"}function lu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UA(s,e){const i=new PA(s,e);return i.subscribe.bind(i)}class PA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");jA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}const zA=1e3,BA=2,qA=14400*1e3,HA=.5;function av(s,e=zA,i=BA){const r=e*Math.pow(i,s),l=Math.round(HA*r*(Math.random()-.5)*2);return Math.min(qA,r+l)}function Gt(s){return s&&s._delegate?s._delegate:s}class Ni{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const da="[DEFAULT]";class FA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new SA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(s){return s===da?void 0:s}function KA(s){return s.instantiationMode==="EAGER"}class YA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const QA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},XA=je.INFO,$A={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},JA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=$A[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eh{constructor(e){this.name=e,this._logLevel=XA,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const WA=(s,e)=>e.some(i=>s instanceof i);let ov,lv;function ZA(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,sm=new WeakMap,JE=new WeakMap,Hd=new WeakMap,xm=new WeakMap;function tb(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$E.set(i,s)}).catch(()=>{}),xm.set(e,s),e}function nb(s){if(sm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||JE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ib(s){rm=s(rm)}function sb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Fd(this),e,...i);return JE.set(r,e.sort?e.sort():[e]),Ar(r)}:eb().includes(s)?function(...e){return s.apply(Fd(this),e),Ar($E.get(this))}:function(...e){return Ar(s.apply(Fd(this),e))}}function rb(s){return typeof s=="function"?sb(s):(s instanceof IDBTransaction&&nb(s),WA(s,ZA())?new Proxy(s,rm):s)}function Ar(s){if(s instanceof IDBRequest)return tb(s);if(Hd.has(s))return Hd.get(s);const e=rb(s);return e!==s&&(Hd.set(s,e),xm.set(e,s)),e}const Fd=s=>xm.get(s);function WE(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=Ar(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ar(d.result),_.oldVersion,_.newVersion,Ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const ab=["get","getKey","getAll","getAllKeys","count"],ob=["put","add","delete","clear"],Gd=new Map;function uv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=ob.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ab.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Gd.set(e,c),c}ib(s=>({...s,get:(e,i,r)=>uv(e,i)||s.get(e,i,r),has:(e,i)=>!!uv(e,i)||s.has(e,i)}));class lb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ub(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ub(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",cv="0.14.8";const Ns=new Eh("@firebase/app"),cb="@firebase/app-compat",hb="@firebase/analytics-compat",fb="@firebase/analytics",db="@firebase/app-check-compat",mb="@firebase/app-check",pb="@firebase/auth",gb="@firebase/auth-compat",yb="@firebase/database",_b="@firebase/data-connect",vb="@firebase/database-compat",Eb="@firebase/functions",Tb="@firebase/functions-compat",Sb="@firebase/installations",Ab="@firebase/installations-compat",bb="@firebase/messaging",wb="@firebase/messaging-compat",Ib="@firebase/performance",Rb="@firebase/performance-compat",Cb="@firebase/remote-config",Db="@firebase/remote-config-compat",xb="@firebase/storage",Nb="@firebase/storage-compat",Ob="@firebase/firestore",Mb="@firebase/ai",Vb="@firebase/firestore-compat",kb="firebase",Lb="12.9.0";const om="[DEFAULT]",Ub={[am]:"fire-core",[cb]:"fire-core-compat",[fb]:"fire-analytics",[hb]:"fire-analytics-compat",[mb]:"fire-app-check",[db]:"fire-app-check-compat",[pb]:"fire-auth",[gb]:"fire-auth-compat",[yb]:"fire-rtdb",[_b]:"fire-data-connect",[vb]:"fire-rtdb-compat",[Eb]:"fire-fn",[Tb]:"fire-fn-compat",[Sb]:"fire-iid",[Ab]:"fire-iid-compat",[bb]:"fire-fcm",[wb]:"fire-fcm-compat",[Ib]:"fire-perf",[Rb]:"fire-perf-compat",[Cb]:"fire-rc",[Db]:"fire-rc-compat",[xb]:"fire-gcs",[Nb]:"fire-gcs-compat",[Ob]:"fire-fst",[Vb]:"fire-fst-compat",[Mb]:"fire-vertex","fire-js":"fire-js",[kb]:"fire-js-all"};const Wc=new Map,Pb=new Map,lm=new Map;function hv(s,e){try{s.container.addComponent(e)}catch(i){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ns(s){const e=s.name;if(lm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Wc.values())hv(i,s);for(const i of Pb.values())hv(i,s);return!0}function Ra(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ii(s){return s==null?!1:s.settings!==void 0}const jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Ia("app","Firebase",jb);class zb{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Bo=Lb;function ZE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:om,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=HE()),!i)throw br.create("no-options");const c=Wc.get(l);if(c){if(Rr(i,c.options)&&Rr(r,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new YA(l);for(const _ of lm.values())d.addComponent(_);const p=new zb(i,r,d);return Wc.set(l,p),p}function Nm(s=om){const e=Wc.get(s);if(!e&&s===om&&HE())return ZE();if(!e)throw br.create("no-app",{appName:s});return e}function di(s,e,i){let r=Ub[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}ns(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bb="firebase-heartbeat-database",qb=1,Zl="firebase-heartbeat-store";let Kd=null;function e0(){return Kd||(Kd=WE(Bb,qb,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function Hb(s){try{const i=(await e0()).transaction(Zl),r=await i.objectStore(Zl).get(t0(s));return await i.done,r}catch(e){if(e instanceof Oi)Ns.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}async function fv(s,e){try{const r=(await e0()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,t0(s)),await r.done}catch(i){if(i instanceof Oi)Ns.warn(i.message);else{const r=br.create("idb-set",{originalErrorMessage:i?.message});Ns.warn(r.message)}}}function t0(s){return`${s.name}!${s.options.appId}`}const Fb=1024,Gb=30;class Kb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Qb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Gb){const l=Xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:i,unsentEntries:r}=Yb(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ns.warn(e),""}}}function dv(){return new Date().toISOString().substring(0,10)}function Yb(s,e=Fb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),mv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),mv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Qb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Hb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mv(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function Xb(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function $b(s){ns(new Ni("platform-logger",e=>new lb(e),"PRIVATE")),ns(new Ni("heartbeat",e=>new Kb(e),"PRIVATE")),di(am,cv,s),di(am,cv,"esm2020"),di("fire-js","")}$b("");var Jb="firebase",Wb="12.9.0";di(Jb,Wb,"app");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,n0;(function(){var s;function e(D,w){function x(){}x.prototype=w.prototype,D.F=w.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(k,N,U){for(var R=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)R[Le-2]=arguments[Le];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,x){x||(x=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)k[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=D.g[0],x=D.g[1],N=D.g[2];let U=D.g[3],R;R=w+(U^x&(N^U))+k[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(x^N))+k[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^U)+k[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~U))+k[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const x=w-this.blockSize,k=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=x;)l(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<w;)if(k[N++]=D.charCodeAt(U++),N==this.blockSize){l(this,k),N=0;break}}else for(;U<w;)if(k[N++]=D[U++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)D[w++]=this.g[x]>>>k&255;return D};function c(D,w){var x=p;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=w(D)}function d(D,w){this.h=w;const x=[];let k=!0;for(let N=D.length-1;N>=0;N--){const U=D[N]|0;k&&U==w||(x[N]=U,k=!1)}this.g=x}var p={};function _(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return I;if(D<0)return ie(y(-D));const w=[];let x=1;for(let k=0;D>=x;k++)w[k]=D/x|0,x*=4294967296;return new d(w,0)}function b(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return ie(b(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let k=I;for(let U=0;U<D.length;U+=8){var N=Math.min(8,D.length-U);const R=parseInt(D.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),k=k.j(N).add(y(R))):(k=k.j(x),k=k.add(y(R)))}return k}var I=_(0),V=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-ie(this).m();let D=0,w=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);D+=(k>=0?k:4294967296+k)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(se(this))return"-"+ie(this).toString(D);const w=y(Math.pow(D,6));var x=this;let k="";for(;;){const N=Ce(x,w).g;x=me(x,N.j(w));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=N,W(x))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function se(D){return D.h==-1}s.l=function(D){return D=me(this,D),se(D)?-1:W(D)?0:1};function ie(D){const w=D.g.length,x=[];for(let k=0;k<w;k++)x[k]=~D.g[k];return new d(x,~D.h).add(V)}s.abs=function(){return se(this)?ie(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),x=[];let k=0;for(let N=0;N<=w;N++){let U=k+(this.i(N)&65535)+(D.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function me(D,w){return D.add(ie(w))}s.j=function(D){if(W(this)||W(D))return I;if(se(this))return se(D)?ie(this).j(ie(D)):ie(ie(this).j(D));if(se(D))return ie(this.j(ie(D)));if(this.l(Y)<0&&D.l(Y)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,x=[];for(var k=0;k<2*w;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<D.g.length;N++){const U=this.i(k)>>>16,R=this.i(k)&65535,Le=D.i(N)>>>16,dt=D.i(N)&65535;x[2*k+2*N]+=R*dt,be(x,2*k+2*N),x[2*k+2*N+1]+=U*dt,be(x,2*k+2*N+1),x[2*k+2*N+1]+=R*Le,be(x,2*k+2*N+1),x[2*k+2*N+2]+=U*Le,be(x,2*k+2*N+2)}for(D=0;D<w;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=w;D<2*w;D++)x[D]=0;return new d(x,0)};function be(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ge(D,w){this.g=D,this.h=w}function Ce(D,w){if(W(w))throw Error("division by zero");if(W(D))return new ge(I,I);if(se(D))return w=Ce(ie(D),w),new ge(ie(w.g),ie(w.h));if(se(w))return w=Ce(D,ie(w)),new ge(ie(w.g),w.h);if(D.g.length>30){if(se(D)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var x=V,k=w;k.l(D)<=0;)x=tt(x),k=tt(k);var N=xe(x,1),U=xe(k,1);for(k=xe(k,2),x=xe(x,2);!W(k);){var R=U.add(k);R.l(D)<=0&&(N=N.add(x),U=R),k=xe(k,1),x=xe(x,1)}return w=me(D,N.j(w)),new ge(N,w)}for(N=I;D.l(w)>=0;){for(x=Math.max(1,Math.floor(D.m()/w.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(x),R=U.j(w);se(R)||R.l(D)>0;)x-=k,U=y(x),R=U.j(w);W(U)&&(U=V),N=N.add(U),D=me(D,R)}return new ge(N,D)}s.B=function(D){return Ce(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)&D.i(k);return new d(x,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)|D.i(k);return new d(x,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)^D.i(k);return new d(x,this.h^D.h)};function tt(D){const w=D.g.length+1,x=[];for(let k=0;k<w;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new d(x,D.h)}function xe(D,w){const x=w>>5;w%=32;const k=D.g.length-x,N=[];for(let U=0;U<k;U++)N[U]=w>0?D.i(U+x)>>>w|D.i(U+x+1)<<32-w:D.i(U+x);return new d(N,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,n0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,wr=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i0,Hl,s0,Bc,um,r0,a0,o0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function I(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var Z=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)Z[Ie-2]=arguments[Ie];return m.prototype[P].apply(A,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let Z=0;Z<q;Z++)u[v+Z]=P[Z]}else u.push(P)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function me(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const A=ge.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new se(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,xe=!1,D=new be,w=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(x)}};function x(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ie(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}I(Le,N),Le.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function $e(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const Z=_e(u,m,A,P);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new te(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function fe(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function _e(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Nt={};function Je(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Je(u,m[q],v,A,P);return null}return v=lt(v),u&&u[dt]?u.J(m,v,p(A)?!!A.capture:!1,P):nt(u,m,v,!1,A,P)}function nt(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const Z=p(P)?!!P.capture:!!P;let Ie=as(u);if(Ie||(u[Ne]=Ie=new ne(u)),v=Ie.add(m,v,A,Z,q),v.proxy)return v;if(A=Wt(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(P=Z),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(cn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wt(){function u(v){return m.call(u.src,u.listener,v)}const m=Lr;return u}function Kn(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Kn(u,m[q],v,A,P);else A=p(A)?!!A.capture:!!A,v=lt(v),u&&u[dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=_e(m,v,A,P),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=as(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_e(m,v,A,P)),(v=u>-1?m[u]:null)&&ks(v))}function ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])fe(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(cn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=as(m))?(fe(v,u),v.h==0&&(v.src=null,m[Ne]=null)):ue(u)}}}function cn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function Lr(u,m){if(u.da)u=!0;else{m=new Le(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ks(u),u=v.call(A,m)}return u}function as(u){return u=u[Ne],u instanceof ne?u:null}var Yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(u){return typeof u=="function"?u:(u[Yn]||(u[Yn]=function(m){return u.handleEvent(m)}),u[Yn])}function We(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}I(We,k),We.prototype[dt]=!0,We.prototype.removeEventListener=function(u,m,v,A){Kn(this,u,m,v,A)};function Tt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(A,u),ee(m,P)}P=!0;let q,Z;if(v)for(Z=v.length-1;Z>=0;Z--)q=m.g=v[Z],P=Mi(q,A,!0,m)&&P;if(q=m.g=u,P=Mi(q,A,!0,m)&&P,P=Mi(q,A,!1,m)&&P,v)for(Z=0;Z<v.length;Z++)q=m.g=v[Z],P=Mi(q,A,!1,m)&&P}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ue(v[A]);delete u.g[m],u.h--}}this.G=null},We.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},We.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Mi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const Z=m[q];if(Z&&!Z.da&&Z.capture==v){const Ie=Z.listener,Mt=Z.ha||Z.src;Z.fa&&fe(u.i,Z),P=Ie.call(Mt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Vi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ur(u){u.g=Vi(()=>{u.g=null,u.i&&(u.i=!1,Ur(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(u){k.call(this),this.h=u,this.g={}}I(Sn,k);var Fe=[];function Pr(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ks(m)},u),u.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),Pr(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=d.JSON.stringify,Li=d.JSON.parse,An=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jr(){}function xa(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){N.call(this,"d")}I(Oe,N);function wt(){N.call(this,"c")}I(wt,N);var gt={},zr=null;function mi(){return zr=zr||new We}gt.Ia="serverreachability";function Br(u){N.call(this,gt.Ia,u)}I(Br,N);function bn(u){const m=mi();Tt(m,new Br(m))}gt.STAT_EVENT="statevent";function pi(u,m){N.call(this,gt.STAT_EVENT,u),this.stat=m}I(pi,N);function It(u){const m=mi();Tt(m,new pi(m,u))}gt.Ja="timingevent";function Qn(u,m){N.call(this,gt.Ja,u),this.size=m}I(Qn,N);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ye(){this.g=!0}Ye.prototype.ua=function(){this.g=!1};function Na(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var Z="",Ie=q.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var Mt=Ie[Ze].split("=");if(Mt.length>1){const St=Mt[0];Mt=Mt[1];const ii=St.split("_");Z=ii.length>=2&&ii[1]=="type"?Z+(St+"="+Mt+"&"):Z+(St+"=redacted&")}}}else Z=null;else Z=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+Z})}function Oa(u,m,v,A,P,q,Z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+Z})}function $n(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ma(u,v)+(A?" "+A:"")})}function Ui(u,m){u.info(function(){return"TIMEOUT: "+m})}Ye.prototype.info=function(){};function Ma(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let Z=1;Z<A.length;Z++)A[Z]=""}}}}return ki(q)}catch{return m}}var Pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ji;function gi(){}I(gi,jr),gi.prototype.g=function(){return new XMLHttpRequest},ji=new gi;function Jn(u){return encodeURIComponent(String(u))}function Va(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var Rt={},Ut={};function Wn(u,m,v){u.M=1,u.A=qr(Ct(m)),u.u=v,u.R=!0,Us(u,null)}function Us(u,m){u.F=Date.now(),Zn(u),u.B=Ct(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Pa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Ln,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Zt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Fe[0]=P.toString()),P=Fe);for(let q=0;q<P.length;q++){const Z=Je(v,P[q],A||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bn(),Na(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ei(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Ei(this.g),Mt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ie!=4||Mt==7||(Mt==8||Ze<=0?bn(3):bn(2)),ei(this);var m=this.g.ca();this.X=m;var v=Yo(this);if(this.o=m==200,Oa(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ae(this,u);else{this.o=!1,this.m=3,It(12),T(this),wn(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=La(this,v),St==Ut){Ie==4&&(this.m=4,It(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Rt){this.m=4,It(15),$n(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,St,null),ae(this,St);if(ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,v,"[Invalid Chunked Response]"),T(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),il(Z),Z.P=!0,It(11))}}else $n(this.i,this.l,v,null),ae(this,v);Ie==4&&T(this),this.o&&!this.K&&(Ie==4?bu(this.j,this):(this.o=!1,Zn(this)))}else cs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),T(this),wn(this)}}}catch{}};function Yo(u){if(!ka(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const A=m.length,P=Ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return T(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ka(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function La(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ut:(v=Number(m.substring(v,A)),isNaN(v)?Rt:(A+=1,A+v>m.length?Ut:(m=m.slice(A,A+v),u.C=A+v,m)))}kn.prototype.cancel=function(){this.K=!0,T(this)};function Zn(u){u.T=Date.now()+u.H,Ps(u,u.H)}function Ps(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(y(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ui(this.i,this.B),this.M!=2&&(bn(),It(17)),T(this),this.m=2,wn(this)):Ps(this,this.T-u)};function wn(u){u.j.I==0||u.K||bu(u.j,u)}function T(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Pr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ae(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ot(v.h,u))){if(!u.L&&Ot(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ha(v),Ks(v);else break e;Xr(v),It(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(y(v.Va,v),6e3));hn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Gi(v,11)}else if((u.L||v.g==u)&&Ha(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ze=P[m];const St=Ze[0];if(!(St<=v.K))if(v.K=St,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const ii=Ze[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const Ki=Ze[4];Ki!=null&&(v.za=Ki,v.j.info("SVER="+v.za));const Ti=Ze[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(A=1.5*Ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Si=u.g;if(Si){const $r=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var q=A.h;q.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(os(q,q.h),q.h=null))}if(A.G){const Fa=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(A.wa=Fa,rt(A.J,A.G,Fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var Z=u;if(A.na=Ru(A,A.L?A.ba:null,A.W),Z.L){ls(A.h,Z);var Ie=Z,Mt=A.O;Mt&&(Ie.H=Mt),Ie.D&&(ei(Ie),Zn(Ie)),A.g=Z}else Su(A);v.i.length>0&&Fi(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Gi(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Gi(v,7):tl(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}bn(4)}catch{}}var Ge=class{constructor(u,m){this.g=u,this.map=m}};function mt(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hn(u){return u.h?1:u.g?u.g.size:0}function Ot(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function os(u,m){u.g?u.g.add(m):u.h=m}function ls(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mt.prototype.cancel=function(){if(this.i=Ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ee(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Me=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fn(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,it(this,u.j),this.o=u.o,this.g=u.g,js(this,u.u),this.h=u.h,Qo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(Me))?(this.l=!1,it(this,m[1]||"",!0),this.o=zi(m[2]||""),this.g=zi(m[3]||"",!0),js(this,m[4]),this.h=zi(m[5]||"",!0),Qo(this,m[6]||"",!0),this.m=zi(m[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Hr(m,Ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ua,!0),"@"),u.push(Jn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Hr(v,v.charAt(0)=="/"?Xo:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Hr(v,_u)),u.join("")},_n.prototype.resolve=function(u){const m=Ct(this);let v=!!u.j;v?it(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)js(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let Z=0;Z<P.length;){const Ie=P[Z++];Ie=="."?A&&Z==P.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&Z==P.length&&q.push("")):(q.push(Ie),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Qo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ct(u){return new _n(u)}function it(u,m,v){u.j=v?zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function js(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Qo(u,m,v){m instanceof Bs?(u.i=m,ja(u.i,u.l)):(v||(m=Hr(m,zs)),u.i=new Bs(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function qr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,In),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ua=/[#\/\?@]/g,yu=/[#\?:]/g,Xo=/[#\?]/g,zs=/[#\?@]/g,_u=/#/g;function Bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&fn(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Bs.prototype,s.add=function(u,m){Rn(this),this.i=null,u=qs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){Rn(u),m=qs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $o(u,m){return Rn(u),m=qs(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function Jo(u,m){Rn(u);let v=[];if(typeof m=="string")$o(u,m)&&(v=v.concat(u.g.get(qs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Rn(this),this.i=null,u=qs(this,u),$o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Jo(this,u),u.length>0?String(u[0]):m):m};function Pa(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(qs(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Jn(v);v=Jo(this,v);for(let q=0;q<v.length;q++){let Z=P;v[q]!==""&&(Z+="="+Jn(v[q])),u.push(Z)}}return this.i=u.join("&")};function Eu(u){const m=new Bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function qs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ja(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(vu(this,A),Pa(this,P,v))},u)),u.j=m}function _i(u,m){const v=new Ye;if(d.Image){const A=new Image;A.onload=b(ti,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(ti,v,"TestLoadImage: error",!1,m,A),A.onabort=b(ti,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(ti,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Wo(u,m){const v=new Ye,A=new AbortController,P=setTimeout(()=>{A.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ti(v,"TestPingServer: error",!1,m)})}function ti(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Hs(){this.g=new An}function Bi(u){this.i=u.Sb||null,this.h=u.ab||!1}I(Bi,jr),Bi.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(u,m){We.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(Fr,We),s=Fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,vi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fs(this):vi(this),this.readyState==3&&za(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Fs(this))},s.Na=function(u){this.g&&(this.response=u,Fs(this))},s.ga=function(){this.g&&Fs(this)};function Fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return qe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Gr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ni(v),typeof u=="string"?v!=null&&Jn(v):rt(u,m,v))}function ut(u){We.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(ut,We);var qi=/^https?$/i,Zo=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ji.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Kr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Zo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of v)this.g.setRequestHeader(q,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Kr(this,q)}};function Kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),us(u)}function el(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),us(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},s.Xa=function(){Yr(this)};function Yr(u){if(u.h&&typeof c<"u"){if(u.v&&Ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),Ei(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let Z=String(u.D).match(Me)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),A=!qi.test(Z?Z.toLowerCase():"")}v=A}if(v)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var P=Ei(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",el(u)}}finally{us(u)}}}}function us(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Li(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(u){const m={};u=(u.g&&Ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=Va(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}$e(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new Ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,u),this.Za=Hi("retryDelaySeedMs",1e4,u),this.Ta=Hi("forwardChannelMaxRetries",2,u),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mt(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){It(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ru(this,null,this.W),Fi(this)};function tl(u){if(Ba(u),u.I==3){var m=u.V++,v=Ct(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),Qr(u,v),m=new kn(u,u.j,m),m.M=2,m.A=qr(Ct(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}Iu(u)}function Ks(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function Ba(u){Ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Fi(u){if(!yi(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||w(),xe||(tt(),xe=!0),D.add(m,u),u.D=0}}function qa(u,m){return hn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new kn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),ee(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,P,m),v=Ct(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Qr(this,v),q&&(this.R?m="headers="+Jn(ni(q))+"&"+m:this.u&&Gr(v,this.u,q)),os(this.h,P),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),P.U=!0,Wn(P,v,null)):Wn(P,v,m),this.I=2}}else this.I==3&&(u?nl(this,u):this.i.length==0||yi(this.h)||nl(this))};function nl(u,m){var v;m?v=m.l:v=u.V++;const A=Ct(u.J);rt(A,"SID",u.M),rt(A,"RID",v),rt(A,"AID",u.K),Qr(u,A),u.u&&u.o&&Gr(A,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),os(u.h,v),Wn(v,A,m)}function Qr(u,m){u.H&&qe(u.H,function(v,A){rt(m,A,v)}),u.l&&qe({},function(v,A){rt(m,A,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ie=-1;for(;;){const Mt=["count="+v];Ie==-1?v>0?(Ie=P[0].g,Mt.push("ofs="+Ie)):Ie=0:Mt.push("ofs="+Ie);let Ze=!0;for(let St=0;St<v;St++){var q=P[St].g;const ii=P[St].map;if(q-=Ie,q<0)Ie=Math.max(0,P[St].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var Z=ii instanceof Map?ii:Object.entries(ii);for(const[Ki,Ti]of Z){let Si=Ti;p(Ti)&&(Si=ki(Ti)),Mt.push(q+Ki+"="+encodeURIComponent(Si))}}catch(Ki){throw Mt.push(q+"type="+encodeURIComponent("_badmap")),Ki}}catch{A&&A(ii)}}if(Ze){Z=Mt.join("&");break e}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||w(),xe||(tt(),xe=!0),D.add(m,u),u.A=0}}function Xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(y(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ks(this),Au(this))};function il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ct(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Qr(u,m),u.u&&u.o&&Gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=qr(Ct(m)),v.u=null,v.R=!0,Us(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ks(this),Xr(this),It(19))};function Ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){Ha(u),il(u),u.g=null;var A=2}else if(Ot(u.h,m))v=m.G,ls(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=mi(),Tt(A,new Qn(A,v)),Fi(u)}else Su(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&qa(u,m)||A==2&&Xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const P=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||it(A,"https"),qr(A),P?_i(A.toString(),v):Wo(A.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Iu(u),Ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Ee(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var A=v instanceof _n?Ct(v):new _n(v);if(A.g!="")m&&(A.g=m+"."+A.g),js(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new _n(null);A&&it(q,A),m&&(q.g=m),P&&js(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&rt(A,v,m),rt(A,"VER",u.ka),Qr(u,A),A}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Bi({ab:v})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){We.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hs(this)}I(vn,We),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){tl(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ki(u),u=v);m.i.push(new Ge(m.Ya++,u)),m.I==3&&Fi(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,vn.Z.N.call(this)};function xu(u){Oe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(xu,Oe);function Nu(){wt.call(this),this.status=1}I(Nu,wt);function hs(u){this.g=u}I(hs,Du),hs.prototype.ra=function(){Tt(this.g,"a")},hs.prototype.qa=function(u){Tt(this.g,new xu(u))},hs.prototype.pa=function(u){Tt(this.g,new Nu)},hs.prototype.oa=function(){Tt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,o0=function(){return new Ys},a0=function(){return mi()},r0=gt,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Bc=Pi,Ls.COMPLETE="complete",s0=Ls,xa.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",We.prototype.listen=We.prototype.J,Hl=xa,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,i0=ut}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let qo="12.9.0";function Zb(s){qo=s}const Ea=new Eh("@firebase/firestore");function So(){return Ea.logLevel}function re(s,...e){if(Ea.logLevel<=je.DEBUG){const i=e.map(Om);Ea.debug(`Firestore (${qo}): ${s}`,...i)}}function Os(s,...e){if(Ea.logLevel<=je.ERROR){const i=e.map(Om);Ea.error(`Firestore (${qo}): ${s}`,...i)}}function Ta(s,...e){if(Ea.logLevel<=je.WARN){const i=e.map(Om);Ea.warn(`Firestore (${qo}): ${s}`,...i)}}function Om(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ye(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,l0(s,r,i)}function l0(s,e,i){let r=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Os(r),new Error(r)}function st(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||l0(e,l,r)}function Ae(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Oi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ya{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class u0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class tw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nw{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ya,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ya)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new u0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class iw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new iw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const r=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=aw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Yd(l)===Yd(c)?ze(l,c):Yd(l)?1:-1}return ze(s.length,e.length)}const ow=55296,lw=57343;function Yd(s){const e=s.charCodeAt(0);return e>=ow&&e<=lw}function Mo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const yv="__name__";class Ji{constructor(e,i,r){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ye(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const r=Ji.isNumericId(e),l=Ji.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ji.extractNumericId(e).compare(Ji.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class vt extends Ji{construct(e,i,r){return new vt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ji{construct(e,i,r){return new ln(e,i,r)}static isValidIdentifier(e){return uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new ln([yv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(vt.fromString(e))}static fromName(e){return new de(vt.fromString(e).popFirst(5))}static empty(){return new de(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new vt(e.slice()))}}function c0(s,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cw(s,e,i,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _v(s){if(!de.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vv(s){if(de.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function h0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function xs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(s);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ht(s,e){const i={typeString:s};return e&&(i.value=e),i}function uu(s,e){if(!h0(s))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Tv);return new Et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ev)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Ht("string",Et._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Et(0,0))}static max(){return new Te(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function hw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(r===1e9?new Et(i+1,0):new Et(i,r));return new Cr(l,de.empty(),e)}function fw(s){return new Cr(s.readTime,s.key,eu)}class Cr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Cr(Te.min(),de.empty(),eu)}static max(){return new Cr(Te.max(),de.empty(),eu)}}function dw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ho(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==mw)throw s;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function gw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fo(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const km=-1;function Sh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function yw(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const f0="";function _w(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Sv(e)),e=vw(s.get(i),e);return Sv(e)}function vw(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case f0:i+="";break;default:i+=c}}return i}function Sv(s){return s+f0+""}function Av(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function d0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new on(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Qt(this.comparator);return i.data=e,i}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Qt(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new m0("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Ew=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=Ew.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const p0="server_timestamp",g0="__type__",y0="__previous_value__",_0="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===p0}function Ah(s){const e=s.mapValue.fields[y0];return Lm(e)?Ah(e):e}function tu(s){const e=Dr(s.mapValue.fields[_0].timestampValue);return new Et(e.seconds,e.nanos)}class Tw{constructor(e,i,r,l,c,d,p,_,y,b,I){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=I}}const eh="(default)";class nu{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}function Sw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(s.options.projectId,e)}const v0="__type__",Aw="__max__",Uc={mapValue:{}},E0="__vector__",th="value";function Nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:ww(s)?9007199254740991:bw(s)?10:11:ye(28295,{value:s})}function is(s,e){if(s===e)return!0;const i=Nr(s);if(i!==Nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return tu(s).isEqual(tu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Dr(l.timestampValue),p=Dr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return xr(l.bytesValue).isEqual(xr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Lt(l.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Lt(l.integerValue)===Lt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Lt(l.doubleValue),p=Lt(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Mo(s.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Av(d)!==Av(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!is(d[_],p[_])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function iu(s,e){return(s.values||[]).find((i=>is(i,e)))!==void 0}function Vo(s,e){if(s===e)return 0;const i=Nr(s),r=Nr(e);if(i!==r)return ze(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Lt(c.integerValue||c.doubleValue),_=Lt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return wv(s.timestampValue,e.timestampValue);case 4:return wv(tu(s),tu(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=xr(c),_=xr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=ze(p[y],_[y]);if(b!==0)return b}return ze(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(Lt(c.latitude),Lt(d.latitude));return p!==0?p:ze(Lt(c.longitude),Lt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Iv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[th]?.arrayValue,b=_[th]?.arrayValue,I=ze(y?.values?.length||0,b?.values?.length||0);return I!==0?I:Iv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let I=0;I<_.length&&I<b.length;++I){const V=cm(_[I],b[I]);if(V!==0)return V;const Y=Vo(p[_[I]],y[b[I]]);if(Y!==0)return Y}return ze(_.length,b.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function wv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=Dr(s),r=Dr(e),l=ze(i.seconds,r.seconds);return l!==0?l:ze(i.nanos,r.nanos)}function Iv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Vo(i[l],r[l]);if(c)return c}return ze(i.length,r.length)}function ko(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Dr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=hm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):ye(61005,{value:s})}function qc(s){switch(Nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+qc(e):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Vr(r.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw ye(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function Rv(s){return!!s&&"nullValue"in s}function Cv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function bw(s){return(s?.mapValue?.fields||{})[v0]?.stringValue===E0}function Ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(s.arrayValue.values[i]);return e}return{...s}}function ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Aw}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=ln.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Ql(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Vr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Vn(Ql(this.value))}}function T0(s){const e=[];return Vr(s.fields,((i,r)=>{const l=new ln([i]);if(Hc(r)){const c=T0(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Fn(e)}class gn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new gn(e,0,Te.min(),Te.min(),Te.min(),Vn.empty(),0)}static newFoundDocument(e,i,r,l){return new gn(e,1,i,Te.min(),r,l,0)}static newNoDocument(e,i){return new gn(e,2,i,Te.min(),Te.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,Te.min(),Te.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function Dv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=Vo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function xv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!is(s.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function Iw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class S0{}class Yt extends S0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Cw(e,i,r):i==="array-contains"?new Nw(e,r):i==="in"?new Ow(e,r):i==="not-in"?new Mw(e,r):i==="array-contains-any"?new Vw(e,r):new Yt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Dw(e,r):new xw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vo(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends S0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ss(e,i)}matches(e){return A0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(s){return s.op==="and"}function b0(s){return Rw(s)&&A0(s)}function Rw(s){for(const e of s.filters)if(e instanceof ss)return!1;return!0}function dm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+ko(s.value);if(b0(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function w0(s,e){return s instanceof Yt?(function(r,l){return l instanceof Yt&&r.op===l.op&&r.field.isEqual(l.field)&&is(r.value,l.value)})(s,e):s instanceof ss?(function(r,l){return l instanceof ss&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&w0(d,l.filters[p])),!0):!1})(s,e):void ye(19439)}function I0(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ko(i.value)}`})(s):s instanceof ss?(function(i){return i.op.toString()+" {"+i.getFilters().map(I0).join(" ,")+"}"})(s):"Filter"}class Cw extends Yt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Dw extends Yt{constructor(e,i){super(e,"in",i),this.keys=R0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xw extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=R0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function R0(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class Nw extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&iu(i.arrayValue,this.value)}}class Ow extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&iu(this.value.arrayValue,i)}}class Mw extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!iu(this.value.arrayValue,i)}}class Vw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}class kw{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new kw(s,e,i,r,l,c,d)}function Pm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Iw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!w0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!xv(s.startAt,e.startAt)&&xv(s.endAt,e.endAt)}function mm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Lw(s,e,i,r,l,c,d,p){return new bh(s,e,i,r,l,c,d,p)}function zm(s){return new bh(s)}function Ov(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Uw(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Pw(s){return s.collectionGroup!==null}function Xl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qt(ln.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,r))})),i.has(ln.keyField().canonicalString())||e.Ie.push(new ih(ln.keyField(),r))}return e.Ie}function Wi(s){const e=Ae(s);return e.Ee||(e.Ee=jw(e,Xl(s))),e.Ee}function jw(s,e){if(s.limitType==="F")return Nv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Nv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function pm(s,e,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return jm(Wi(s),Wi(e))&&s.limitType===e.limitType}function C0(s){return`${Pm(Wi(s))}|lt:${s.limitType}`}function Ao(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>I0(l))).join(", ")}]`),Sh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ko(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ko(l))).join(",")),`Target(${r})`})(Wi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Xl(r),l)||r.endAt&&!(function(d,p,_){const y=Dv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Xl(r),l))})(s,e)}function zw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D0(s){return(e,i)=>{let r=!1;for(const l of Xl(s)){const c=Bw(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Bw(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Vo(_,y):ye(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}class Ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}const qw=new bt(de.comparator);function Ms(){return qw}const x0=new bt(de.comparator);function Fl(...s){let e=x0;for(const i of s)e=e.insert(i.key,i);return e}function N0(s){let e=x0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ma(){return $l()}function O0(){return $l()}function $l(){return new Ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Hw=new bt(de.comparator),Fw=new Qt(de.comparator);function Be(...s){let e=Fw;for(const i of s)e=e.add(i);return e}const Gw=new Qt(ze);function Kw(){return Gw}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function M0(s){return{integerValue:""+s}}function Yw(s,e){return yw(e)?M0(e):Bm(s,e)}class Rh{constructor(){this._=void 0}}function Qw(s,e,i){return s instanceof sh?(function(l,c){const d={fields:{[g0]:{stringValue:p0},[_0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=Ah(c)),c&&(d.fields[y0]=c),{mapValue:d}})(i,e):s instanceof su?k0(s,e):s instanceof ru?L0(s,e):(function(l,c){const d=V0(l,c),p=Mv(d)+Mv(l.Ae);return fm(d)&&fm(l.Ae)?M0(p):Bm(l.serializer,p)})(s,e)}function Xw(s,e,i){return s instanceof su?k0(s,e):s instanceof ru?L0(s,e):i}function V0(s,e){return s instanceof rh?(function(r){return fm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class sh extends Rh{}class su extends Rh{constructor(e){super(),this.elements=e}}function k0(s,e){const i=U0(e);for(const r of s.elements)i.some((l=>is(l,r)))||i.push(r);return{arrayValue:{values:i}}}class ru extends Rh{constructor(e){super(),this.elements=e}}function L0(s,e){let i=U0(e);for(const r of s.elements)i=i.filter((l=>!is(l,r)));return{arrayValue:{values:i}}}class rh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Mv(s){return Lt(s.integerValue||s.doubleValue)}function U0(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $w(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof su&&l instanceof su||r instanceof ru&&l instanceof ru?Mo(r.elements,l.elements,is):r instanceof rh&&l instanceof rh?is(r.Ae,l.Ae):r instanceof sh&&l instanceof sh})(s.transform,e.transform)}class Jw{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function P0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qm(s.key,Ci.none()):new cu(s.key,s.data,Ci.none());{const i=s.data,r=Vn.empty();let l=new Qt(ln.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new kr(s.key,r,new Fn(l.toArray()),Ci.none())}}function Ww(s,e,i){s instanceof cu?(function(l,c,d){const p=l.value.clone(),_=kv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof kr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=kv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(j0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(s,e,i,r){return s instanceof cu?(function(c,d,p,_){if(!Fc(c.precondition,d))return p;const y=c.value.clone(),b=Lv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof kr?(function(c,d,p,_){if(!Fc(c.precondition,d))return p;const y=Lv(c.fieldTransforms,_,d),b=d.data;return b.setAll(j0(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(s,e,i,r):(function(c,d,p){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Zw(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=V0(r.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,c))}return i||null}function Vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Mo(r,l,((c,d)=>$w(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cu extends Ch{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class kr extends Ch{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function kv(s,e,i){const r=new Map;st(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,Xw(d,p,i[l]))}return r}function Lv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Qw(c,d,e))}return r}class qm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Ww(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Jl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Jl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=O0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=P0(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,((i,r)=>Vv(i,r)))&&Mo(this.baseMutations,e.baseMutations,((i,r)=>Vv(i,r)))}}class Hm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Hw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Hm(e,i,r,l)}}class nI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iI{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Ke;function sI(s){switch(s){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function z0(s){if(s===void 0)return Os("GRPC error has no .code"),J.UNKNOWN;switch(s){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:s})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function rI(){return new TextEncoder}const aI=new wr([4294967295,4294967295],0);function Uv(s){const e=rI().encode(s),i=new n0;return i.update(e),new Uint8Array(i.digest())}function Pv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wr([i,r],0),new wr([l,c],0)]}class Fm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(wr.fromNumber(r)));return l.compare(aI)===1&&(l=new wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Uv(e),[r,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Fm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Uv(e),[r,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dh(Te.min(),l,new bt(ze),Ms(),Be())}}class hu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new hu(r,i,Be(),Be(),Be())}}class Gc{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class B0{constructor(e,i){this.targetId=e,this.Ce=i}}class q0{constructor(e,i,r=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=zv(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ye(38017,{changeType:c})}})),new hu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=zv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.He=Pc(),this.Je=Pc(),this.Ze=new bt(ze)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(r===0){const d=new de(c.path);this.et(i,d,gn.newNoDocument(d,Te.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=xr(r).toUint8Array()}catch(_){if(_ instanceof m0)return Ta("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Fm(d,l,c)}catch(_){return Ta(_ instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&mm(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,gn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Be();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Dh(e,i,this.Ze,this.je,r);return this.je=Ms(),this.He=Pc(),this.Je=Pc(),this.Ze=new bt(ze),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new jv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Qt(ze),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Qt(ze),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new bt(de.comparator)}function zv(){return new bt(de.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},uI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class hI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function fI(s,e){return ah(s,e.toTimestamp())}function Zi(s){return st(!!s,49232),Te.fromTimestamp((function(i){const r=Dr(i);return new Et(r.seconds,r.nanos)})(s))}function Gm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(l){return new vt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function F0(s){const e=vt.fromString(s);return st(X0(e),10190,{key:e.toString()}),e}function _m(s,e){return Gm(s.databaseId,e.path)}function Qd(s,e){const i=F0(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(K0(i))}function G0(s,e){return Gm(s.databaseId,e)}function dI(s){const e=F0(s);return e.length===4?vt.emptyPath():K0(e)}function vm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K0(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Bv(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function mI(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(st(b===void 0||typeof b=="string",58123),un.fromBase64String(b||"")):(st(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),un.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:z0(y.code);return new ce(b,y.message||"")})(d);i=new q0(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Qd(s,r.document.name),c=Zi(r.document.updateTime),d=r.document.createTime?Zi(r.document.createTime):Te.min(),p=new Vn({mapValue:{fields:r.document.fields}}),_=gn.newFoundDocument(l,c,d,p),y=r.targetIds||[],b=r.removedTargetIds||[];i=new Gc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Qd(s,r.document),c=r.readTime?Zi(r.readTime):Te.min(),d=gn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Qd(s,r.document),c=r.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new iI(l,c),p=r.targetId;i=new B0(p,d)}}return i}function pI(s,e){let i;if(e instanceof cu)i={update:Bv(s,e.key,e.value)};else if(e instanceof qm)i={delete:_m(s,e.key)};else if(e instanceof kr)i={update:Bv(s,e.key,e.data),updateMask:bI(e.fieldMask)};else{if(!(e instanceof eI))return ye(16599,{dt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:fI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),i}function gI(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Zi(l.updateTime):Zi(c);return d.isEqual(Te.min())&&(d=Zi(c)),new Jw(d,l.transformResults||[])})(i,e)))):[]}function yI(s,e){return{documents:[G0(s,e.path)]}}function _I(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=G0(s,l);const c=(function(y){if(y.length!==0)return Q0(ss.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:bo(V.field),direction:TI(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function vI(s){let e=dI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){st(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(I){const V=Y0(I);return V instanceof ss&&b0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((V=>(function(W){return new ih(wo(W.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(I){let V;return V=typeof I=="object"?I.value:I,Sh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(I){const V=!!I.before,Y=I.values||[];return new nh(Y,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(I){const V=!I.before,Y=I.values||[];return new nh(Y,V)})(i.endAt)),Lw(e,l,d,c,p,"F",_,y)}function EI(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Y0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=wo(i.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=wo(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wo(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wo(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(wo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ss.create(i.compositeFilter.filters.map((r=>Y0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(s):ye(30097,{filter:s})}function TI(s){return lI[s]}function SI(s){return uI[s]}function AI(s){return cI[s]}function bo(s){return{fieldPath:s.canonicalString()}}function wo(s){return ln.fromServerFormat(s.fieldPath)}function Q0(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(Cv(i.value))return{unaryFilter:{field:bo(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:bo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Cv(i.value))return{unaryFilter:{field:bo(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:bo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(i.field),op:SI(i.op),value:i.value}}})(s):s instanceof ss?(function(i){const r=i.getFilters().map((l=>Q0(l)));return r.length===1?r[0]:{compositeFilter:{op:AI(i.op),filters:r}}})(s):ye(54877,{filter:s})}function bI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function X0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function $0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Sr{constructor(e,i,r,l,c=Te.min(),d=Te.min(),p=un.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wI{constructor(e){this.yt=e}}function II(s){const e=vI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class RI{constructor(){this.Sn=new CI}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Cr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class CI{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Qt(vt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Qt(vt.comparator)).toArray()}}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J0=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(J0,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Lo(0)}static ar(){return new Lo(-1)}}const Hv="LruGarbageCollector",DI=1048576;function Fv([s,e],[i,r]){const l=ze(s,i);return l===0?ze(e,r):l}class xI{constructor(e){this.Pr=e,this.buffer=new Qt(Fv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(Hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fo(i)?re(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await Ho(i)}await this.Ar(3e5)}))}}class OI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Th.ce);const r=new xI(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(qv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(e,l)))).next((I=>(r=I,p=Date.now(),this.removeTargets(e,r,i)))).next((I=>(c=I,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((I=>(y=Date.now(),So()<=je.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${I} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function MI(s,e){return new OI(s,e)}class VI{constructor(){this.changes=new Ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class LI{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Jl(r.mutation,l,Fn.empty(),Et.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Be()){const l=ma();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Fl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ma();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Be())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=Ms();const d=$l(),p=(function(){return $l()})();return i.forEach(((_,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof kr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Jl(b.mutation,y,b.mutation.getFieldMask(),Et.now())):d.set(y.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new kI(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=$l();let l=new bt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Fn.empty();b=p.applyToLocalView(y,b),r.set(_,b);const I=(l.get(p.batchId)||Be()).add(_);l=l.insert(p.batchId,I)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,I=O0();b.forEach((V=>{if(!c.has(V)){const Y=P0(i.get(V),r.get(V));Y!==null&&I.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,I))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return Uw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Pw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(ma());let p=eu,_=c;return d.next((y=>$.forEach(y,((b,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{_=_.insert(b,V)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Be()))).next((b=>({batchId:p,changes:N0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=Fl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(I,V){return new bh(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((I,V)=>{d=d.insert(I,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,gn.newInvalidDocument(b)))}));let p=Fl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Jl(b.mutation,y,Fn.empty(),Et.now()),Ih(i,y)&&(p=p.insert(_,y))})),p}))}}class UI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Zi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:II(l.bundledQuery),readTime:Zi(l.readTime)}})(i)),$.resolve()}}class PI{constructor(){this.overlays=new bt(de.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ma();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=ma(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new bt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=ma(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ma(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new nI(i,r));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class jI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Km{constructor(){this.kr=new Qt(Jt.Kr),this.qr=new Qt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Jt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Jt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new de(new vt([])),r=new Jt(i,e),l=new Jt(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new vt([])),r=new Jt(i,e),l=new Jt(i,e+1);let c=Be();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Jt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||ze(e.Hr,i.Hr)}static Ur(e,i){return ze(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class zI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(Jt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Jt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?km:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Jt(i,0),l=new Jt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Qt(ze);return i.forEach((l=>{const c=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Jt(new de(c),0);let p=new Qt(ze);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){st(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Jt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Jt(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class BI{constructor(e){this.ti=e,this.docs=(function(){return new bt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let r=Ms();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():gn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ms();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||dw(fw(b),r)<=0||(l.has(b.key)||Ih(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){ye(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new qI(this)}getSize(e){return $.resolve(this.size)}}class qI extends VI{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class HI{constructor(e){this.persistence=e,this.ri=new Ca((i=>Pm(i)),jm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=Lo._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Lo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class W0{constructor(e,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new jI,this.referenceDelegate=e(this),this.li=new HI(this),this.indexManager=new RI,this.remoteDocumentCache=(function(l){return new BI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new wI(i),this.Pi=new UI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new zI(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){re("MemoryPersistence","Starting transaction:",e);const l=new FI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class FI extends pw{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Km,this.Ai=null}static Vi(e){return new Ym(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=de.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.fi=new Ca((r=>_w(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=MI(this,i)}static Vi(e,i){return new oh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=Be(),l=Be();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(e,i.fromCache,r,l)}}class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NA()?8:gw(yn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new GI;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(So()<=je.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ao(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(So()<=je.DEBUG&&re("QueryEngine","Query:",Ao(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(So()<=je.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ao(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(i))):$.resolve())}gs(e,i){if(Ov(i))return $.resolve(null);let r=Wi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=pm(i,null,"F"),r=Wi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,l){return Ov(i)||l.isEqual(Te.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(So()<=je.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ao(i)),this.Ds(e,d,i,hw(l,eu)).next((p=>p)))}))}bs(e,i){let r=new Qt(D0(e));return i.forEach(((l,c)=>{Ih(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return So()<=je.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ao(i)),this.fs.getDocumentsMatchingQuery(e,i,Cr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",YI=3e8;class QI{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new bt(ze),this.Fs=new Ca((c=>Pm(c)),jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function XI(s,e,i,r){return new QI(s,e,i,r)}async function Z0(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Be();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function $I(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const I=y.batch,V=I.keys();let Y=$.resolve();return V.forEach((W=>{Y=Y.next((()=>b.getEntry(_,W))).next((se=>{const ie=y.docVersions.get(W);st(ie!==null,48541),se.version.compareTo(ie)<0&&(I.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),b.addEntry(se)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,I)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function eT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function JI(s,e){const i=Ae(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,I)=>{const V=l.get(I);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,I).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,I))));let Y=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(I)!==null?Y=Y.withResumeToken(un.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,r)),l=l.insert(I,Y),(function(se,ie,me){return se.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=YI?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(V,Y,b)&&p.push(i.li.updateTargetData(c,Y))}));let _=Ms(),y=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(WI(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!r.isEqual(Te.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((I=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function WI(s,e,i){let r=Be(),l=Be();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ms();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Te.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):re(Xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function ZI(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=km),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eR(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Sr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Em(s,e,i){const r=Ae(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Fo(d))throw d;re(Xm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function Gv(s,e,i){const r=Ae(s);let l=Te.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const I=Ae(_),V=I.Fs.get(b);return V!==void 0?$.resolve(I.vs.get(V)):I.li.getTargetData(y,b)})(r,d,Wi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:Te.min(),i?c:Be()))).next((p=>(tR(r,zw(e),p),{documents:p,ks:c})))))}function tR(s,e,i){let r=s.Ms.get(e)||Te.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class Kv{constructor(){this.activeTargetIds=Kw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.vo=new Kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Kv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iR{Mo(e){}shutdown(){}}const Yv="ConnectivityMonitor";class Qv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Tm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Xd="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=Tm(),p=this.Qo(e,i.toUriEncodedString());re(Xd,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=zo(y);return this.zo(e,p,_,r,b).then((I=>(re(Xd,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Ta(Xd,`RPC '${e}' ${d} failed with error: `,I,"url: ",p,"request:",r),I}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=sR[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class aR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",ql=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Io extends rR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Io.c_){const e=a0();ql(e,r0.STAT_EVENT,(i=>{i.stat===um.PROXY?re(mn,"STAT_EVENT: detected buffering proxy"):i.stat===um.NOPROXY&&re(mn,"STAT_EVENT: detected no buffering proxy")})),Io.c_=!0}}zo(e,i,r,l,c){const d=Tm();return new Promise(((p,_)=>{const y=new i0;y.setWithCredentials(!0),y.listenOnce(s0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const I=y.getResponseJson();re(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),p(I);break;case Bc.TIMEOUT:re(mn,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const V=y.getStatus();if(re(mn,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const se=(function(me){const be=me.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(W.status);_(new ce(se,W.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(mn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);re(mn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Tm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");re(mn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let I=!1,V=!1;const Y=new aR({Ho:W=>{V?re(mn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(I||(re(mn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),I=!0),re(mn,`RPC '${e}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return ql(b,Hl.EventType.OPEN,(()=>{V||(re(mn,`RPC '${e}' stream ${l} transport opened.`),Y.i_())})),ql(b,Hl.EventType.CLOSE,(()=>{V||(V=!0,re(mn,`RPC '${e}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),ql(b,Hl.EventType.ERROR,(W=>{V||(V=!0,Ta(mn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),ql(b,Hl.EventType.MESSAGE,(W=>{if(!V){const se=W.data[0];st(!!se,16349);const ie=se,me=ie?.error||ie[0]?.error;if(me){re(mn,`RPC '${e}' stream ${l} received error:`,me);const be=me.status;let ge=(function(xe){const D=qt[xe];if(D!==void 0)return z0(D)})(be),Ce=me.message;be==="NOT_FOUND"&&Ce.includes("database")&&Ce.includes("does not exist")&&Ce.includes(this.databaseId.database)&&Ta(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ge===void 0&&(ge=J.INTERNAL,Ce="Unknown error status: "+be+" with message "+me.message),V=!0,Y.o_(new ce(ge,Ce)),b.close()}else re(mn,`RPC '${e}' stream ${l} received:`,se),Y.__(se)}})),Io.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return o0()}}function oR(s){return new Io(s)}function $d(){return typeof document<"u"?document:null}function xh(s){return new hI(s,!0)}Io.c_=!1;class tT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Xv="PersistentStream";class nT{constructor(e,i,r,l,c,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lR extends nT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=mI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Zi(d.readTime):Te.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=mm(_)?{documents:yI(c,_)}:{query:_I(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=H0(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=EI(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.K_(i)}}class uR extends nT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=gI(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=vm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>pI(this.serializer,r)))};this.K_(i)}}class cR{}class hR extends cR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,ym(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ym(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function fR(s,e,i,r){return new hR(s,e,i,r)}class dR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class mR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Da(this)&&(re(Sa,"Restarting streams for network reachability change."),await(async function(_){const y=Ae(_);y.Ea.add(4),await fu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Nh(y)})(this))}))})),this.Va=new dR(r,l)}}async function Nh(s){if(Da(s))for(const e of s.Ra)await e(!0)}async function fu(s){for(const e of s.Ra)await e(!1)}function iT(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zm(i)?Wm(i):Go(i).O_()&&Jm(i,e))}function $m(s,e){const i=Ae(s),r=Go(i);i.Ia.delete(e),r.O_()&&sT(i,e),i.Ia.size===0&&(r.O_()?r.L_():Da(i)&&i.Va.set("Unknown"))}function Jm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Go(s).Z_(e)}function sT(s,e){s.da.$e(e),Go(s).X_(e)}function Wm(s){s.da=new oI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Go(s).start(),s.Va.ua()}function Zm(s){return Da(s)&&!Go(s).x_()&&s.Ia.size>0}function Da(s){return Ae(s).Ea.size===0}function rT(s){s.da=void 0}async function pR(s){s.Va.set("Online")}async function gR(s){s.Ia.forEach(((e,i)=>{Jm(s,e)}))}async function yR(s,e){rT(s),Zm(s)?(s.Va.ha(e),Wm(s)):s.Va.set("Unknown")}async function _R(s,e,i){if(s.Va.set("Online"),e instanceof q0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){re(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(s,r)}else if(e instanceof Gc?s.da.Xe(e):e instanceof B0?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const r=await eT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),sT(c,_);const I=new Sr(b.target,_,y,b.sequenceNumber);Jm(c,I)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){re(Sa,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,e,i){if(!Fo(e))throw e;s.Ea.add(1),await fu(s),s.Va.set("Offline"),i||(i=()=>eT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(Sa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function aT(s,e){return e().catch((i=>lh(s,i,e)))}async function Oh(s){const e=Ae(s),i=Or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:km;for(;vR(e);)try{const l=await ZI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,ER(e,l)}catch(l){await lh(e,l)}oT(e)&&lT(e)}function vR(s){return Da(s)&&s.Ta.length<10}function ER(s,e){s.Ta.push(e);const i=Or(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function oT(s){return Da(s)&&!Or(s).x_()&&s.Ta.length>0}function lT(s){Or(s).start()}async function TR(s){Or(s).ra()}async function SR(s){const e=Or(s);for(const i of s.Ta)e.ea(i.mutations)}async function AR(s,e,i){const r=s.Ta.shift(),l=Hm.from(r,e,i);await aT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function bR(s,e){e&&Or(s).Y_&&await(async function(r,l){if((function(d){return sI(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Or(r).B_(),await aT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(r)}})(s,e),oT(s)&&lT(s)}async function $v(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),re(Sa,"RemoteStore received new credentials");const r=Da(i);i.Ea.add(3),await fu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function wR(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await fu(i),i.Va.set("Unknown"))}function Go(s){return s.ma||(s.ma=(function(i,r,l){const c=Ae(i);return c.sa(),new lR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:pR.bind(null,s),Yo:gR.bind(null,s),t_:yR.bind(null,s),J_:_R.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Zm(s)?Wm(s):s.Va.set("Unknown")):(await s.ma.stop(),rT(s))}))),s.ma}function Or(s){return s.fa||(s.fa=(function(i,r,l){const c=Ae(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TR.bind(null,s),t_:bR.bind(null,s),ta:SR.bind(null,s),na:AR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(Sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ep{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new ep(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(s,e){if(Os("AsyncQueue",`${e}: ${s}`),Fo(s))return new ce(J.UNAVAILABLE,`${e}: ${s}`);throw s}class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Fl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Jv{constructor(){this.ga=new bt(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Uo{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Uo(e,i,Ro.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class IR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class RR{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ae(i),c=l.queries;l.queries=Wv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function Wv(){return new Ca((s=>C0(s)),wh)}async function CR(s,e){const i=Ae(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new IR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=tp(d,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&np(i)}async function DR(s,e){const i=Ae(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xR(s,e){const i=Ae(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&np(i)}function NR(s,e,i){const r=Ae(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function np(s){s.Ca.forEach((e=>{e.next()}))}var Sm,Zv;(Zv=Sm||(Sm={})).Ma="default",Zv.Cache="cache";class OR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class MR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=D0(e),this.tu=new Ro(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new Jv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,I)=>{const V=l.get(b),Y=Ih(this.query,I)?I:null,W=!!V&&this.mutatedKeys.has(V.key),se=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ie=!1;V&&Y?V.data.isEqual(Y.data)?W!==se&&(r.track({type:3,doc:Y}),ie=!0):this.su(V,Y)||(r.track({type:2,doc:Y}),ie=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!V&&Y?(r.track({type:0,doc:Y}),ie=!0):V&&!Y&&(r.track({type:1,doc:V}),ie=!0,(_||y)&&(p=!0)),ie&&(Y?(d=d.add(Y),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,I)=>(function(Y,W){const se=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:ie})}};return se(Y)-se(W)})(b.type,I.type)||this.eu(b.doc,I.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new Uo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new cT(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new uT(r))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ip="SyncEngine";class VR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class kR{constructor(e){this.key=e,this.hu=!1}}class LR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ca((p=>C0(p)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(de.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=Lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UR(s,e,i=!0){const r=gT(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await hT(r,e,i,!0),l}async function PR(s,e){const i=gT(s);await hT(i,e,!0,!1)}async function hT(s,e,i,r){const l=await eR(s.localStore,Wi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await jR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&iT(s.remoteStore,l),p}async function jR(s,e,i,r,l){s.pu=(I,V,Y)=>(async function(se,ie,me,be){let ge=ie.view.ru(me);ge.Ss&&(ge=await Gv(se.localStore,ie.query,!1).then((({documents:D})=>ie.view.ru(D,ge))));const Ce=be&&be.targetChanges.get(ie.targetId),tt=be&&be.targetMismatches.get(ie.targetId)!=null,xe=ie.view.applyChanges(ge,se.isPrimaryClient,Ce,tt);return tE(se,ie.targetId,xe.au),xe.snapshot})(s,I,V,Y);const c=await Gv(s.localStore,e,!0),d=new MR(e,c.ks),p=d.ru(c.documents),_=hu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);tE(s,i,y.au);const b=new VR(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function zR(s,e,i){const r=Ae(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!wh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&$m(r.remoteStore,l.targetId),Am(r,l.targetId)})).catch(Ho)):(Am(r,l.targetId),await Em(r.localStore,l.targetId,!0))}async function BR(s,e){const i=Ae(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$m(i.remoteStore,r.targetId))}async function qR(s,e,i){const r=XR(s);try{const l=await(function(d,p){const _=Ae(d),y=Et.now(),b=p.reduce(((Y,W)=>Y.add(W.key)),Be());let I,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=Ms(),se=Be();return _.xs.getEntries(Y,b).next((ie=>{W=ie,W.forEach(((me,be)=>{be.isValidDocument()||(se=se.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,W))).next((ie=>{I=ie;const me=[];for(const be of p){const ge=Zw(be,I.get(be.key).overlayedDocument);ge!=null&&me.push(new kr(be.key,ge,T0(ge.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,me,p)})).next((ie=>{V=ie;const me=ie.applyToLocalDocumentSet(I,se);return _.documentOverlayCache.saveOverlays(Y,ie.batchId,me)}))})).then((()=>({batchId:V.batchId,changes:N0(I)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new bt(ze)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await du(r,l.changes),await Oh(r.remoteStore)}catch(l){const c=tp(l,"Failed to persist write");i.reject(c)}}async function fT(s,e){const i=Ae(s);try{const r=await JI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(st(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?st(d.hu,14607):l.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await du(i,r,e)}catch(r){await Ho(r)}}function eE(s,e,i){const r=Ae(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ae(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,I)=>{for(const V of I.ba)V.va(p)&&(y=!0)})),y&&np(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HR(s,e,i){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new bt(de.comparator);d=d.insert(c,gn.newNoDocument(c,Te.min()));const p=Be().add(c),_=new Dh(Te.min(),new Map,new bt(ze),d,p);await fT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),sp(r)}else await Em(r.localStore,e,!1).then((()=>Am(r,e,i))).catch(Ho)}async function FR(s,e){const i=Ae(s),r=e.batch.batchId;try{const l=await $I(i.localStore,e);mT(i,r,null),dT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await du(i,l)}catch(l){await Ho(l)}}async function GR(s,e,i){const r=Ae(s);try{const l=await(function(d,p){const _=Ae(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((I=>(st(I!==null,37113),b=I.keys(),_.mutationQueue.removeMutationBatch(y,I)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);mT(r,e,i),dT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await du(r,l)}catch(l){await Ho(l)}}function dT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function mT(s,e,i){const r=Ae(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||pT(s,r)}))}function pT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&($m(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),sp(s))}function tE(s,e,i){for(const r of i)r instanceof uT?(s.Vu.addReference(r.key,e),KR(s,r)):r instanceof cT?(re(ip,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||pT(s,r.key)):ye(19791,{wu:r})}function KR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(re(ip,"New document in limbo: "+i),s.Eu.add(r),sp(s))}function sp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(vt.fromString(e)),r=s.fu.next();s.Au.set(r,new kR(i)),s.Ru=s.Ru.insert(i,r),iT(s.remoteStore,new Sr(Wi(zm(i.path)),r,"TargetPurposeLimboResolution",Th.ce))}}async function du(s,e,i){const r=Ae(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Qm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const b=Ae(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>$.forEach(y,(V=>$.forEach(V.Ts,(Y=>b.persistence.referenceDelegate.addReference(I,V.targetId,Y))).next((()=>$.forEach(V.Is,(Y=>b.persistence.referenceDelegate.removeReference(I,V.targetId,Y)))))))))}catch(I){if(!Fo(I))throw I;re(Xm,"Failed to update sequence numbers: "+I)}for(const I of y){const V=I.targetId;if(!I.fromCache){const Y=b.vs.get(V),W=Y.snapshotVersion,se=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(V,se)}}})(r.localStore,c))}async function YR(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){re(ip,"User change. New user:",e.toKey());const r=await Z0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(i,r.Ns)}}function QR(s,e){const i=Ae(s),r=i.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function gT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.Pu.J_=xR.bind(null,e.eventManager),e.Pu.yu=NR.bind(null,e.eventManager),e}function XR(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return XI(this.persistence,new KI,e.initialUser,this.serializer)}Cu(e){return new W0(Ym.Vi,this.serializer)}Du(e){return new nR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class $R extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NI(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new W0((r=>oh.Vi(r,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await wR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RR})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=oR(e.databaseInfo);return fR(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new mR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>eE(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new iR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const I=new LR(l,c,d,p,_,y);return b&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ae(i);re(Sa,"RemoteStore shutting down."),r.Ea.add(5),await fu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class JR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Mr="FirestoreClient";class WR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{re(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(re(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=tp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),re(Mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Z0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function nE(s,e){s.asyncQueue.verifyOperationInProgress();const i=await ZR(s);re(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>$v(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>$v(e.remoteStore,l))),s._onlineComponents=e}async function ZR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(Mr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ta("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new uh)}}else re(Mr,"Using default OfflineComponentProvider"),await Jd(s,new $R(void 0));return s._offlineComponents}async function yT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(Mr,"Using user provided OnlineComponentProvider"),await nE(s,s._uninitializedComponentsProvider._online)):(re(Mr,"Using default OnlineComponentProvider"),await nE(s,new bm))),s._onlineComponents}function eC(s){return yT(s).then((e=>e.syncEngine))}async function iE(s){const e=await yT(s),i=e.eventManager;return i.onListen=UR.bind(null,e.syncEngine),i.onUnlisten=zR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=PR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=BR.bind(null,e.syncEngine),i}function tC(s,e,i,r){const l=new JR(r),c=new OR(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>CR(await iE(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>DR(await iE(s),c)))}}function nC(s,e){const i=new ya;return s.asyncQueue.enqueueAndForget((async()=>qR(await eC(s),e,i))),i.promise}function _T(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const iC="ComponentProvider",sE=new Map;function sC(s,e,i,r,l){return new Tw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_T(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const vT="firestore.googleapis.com",rE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DI)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ew;switch(r.type){case"firstParty":return new sw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=sE.get(i);r&&(re(iC,"Removing Datastore"),sE.delete(i),r.terminate())})(this),Promise.resolve()}}function rC(s,e,i,r={}){s=xs(s,Mh);const l=zo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(GE(`https://${p}`),KE("Firestore",!0)),c.host!==vT&&c.host!==p&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Rr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=pn.MOCK_USER;else{y=AA(r.mockUserToken,s._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new pn(I)}s._authCredentials=new tw(new u0(y,b))}}class Vh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Ft{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(uu(i,Ft._jsonSchema))return new Ft(e,r||null,new de(vt.fromString(i.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Ht("string",Ft._jsonSchemaVersion),referencePath:Ht("string")};class Ir extends Vh{constructor(e,i,r){super(e,i,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new de(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function aC(s,e,...i){if(s=Gt(s),c0("collection","path",e),s instanceof Mh){const r=vt.fromString(e,...i);return vv(r),new Ir(s,null,r)}{if(!(s instanceof Ft||s instanceof Ir))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(vt.fromString(e,...i));return vv(r),new Ir(s.firestore,null,r)}}function oC(s,e,...i){if(s=Gt(s),arguments.length===1&&(e=Mm.newId()),c0("doc","path",e),s instanceof Mh){const r=vt.fromString(e,...i);return _v(r),new Ft(s,null,new de(r))}{if(!(s instanceof Ft||s instanceof Ir))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(vt.fromString(e,...i));return _v(r),new Ft(s.firestore,s instanceof Ir?s.converter:null,new de(r))}}const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&re(oE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;re(oE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",uE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ep.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function uE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Po extends Mh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new lE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function lC(s,e){const i=typeof s=="object"?s:Nm(),r=typeof s=="string"?s:eh,l=Ra(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=TA("firestore");c&&rC(l,...c)}return l}function ET(s){if(s._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uC(s),s._firestoreClient}function uC(s){const e=s._freezeSettings(),i=sC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new WR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(un.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new fi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Ht("string",fi._jsonSchemaVersion),bytes:Ht("string")};class rp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ap{constructor(e){this._methodName=e}}class es{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(uu(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Ht("string",es._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ht("string",Di._jsonSchemaVersion),vectorValues:Ht("object")};const cC=/^__.*__$/;class hC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new cu(e,this.data,i,this.fieldTransforms)}}class TT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function ST(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:s})}}class op{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ch(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ST(this.dataSource)&&cC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}createContext(e,i,r,l=!1){return new op({dataSource:e,methodName:i,targetDoc:r,path:ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AT(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new fC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function dC(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);lp("Data must be an object, but it was:",d,r);const p=bT(r,d);let _,y;if(c.merge)_=new Fn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const I of c.mergeFields){const V=au(e,I,i);if(!d.contains(V))throw new ce(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);RT(b,V)||b.push(V)}_=new Fn(b),y=d.fieldTransforms.filter((I=>_.covers(I.field)))}else _=null,y=d.fieldTransforms;return new hC(new Vn(p),_,y)}class kh extends ap{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function mC(s,e,i,r){const l=s.createContext(1,e,i);lp("Data must be an object, but it was:",l,r);const c=[],d=Vn.empty();Vr(r,((_,y)=>{const b=IT(e,_,i);y=Gt(y);const I=l.childContextForFieldPath(b);if(y instanceof kh)c.push(b);else{const V=Lh(y,I);V!=null&&(c.push(b),d.set(b,V))}}));const p=new Fn(c);return new TT(d,p,l.fieldTransforms)}function pC(s,e,i,r,l,c){const d=s.createContext(1,e,i),p=[au(e,r,i)],_=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(au(e,c[V])),_.push(c[V+1]);const y=[],b=Vn.empty();for(let V=p.length-1;V>=0;--V)if(!RT(y,p[V])){const Y=p[V];let W=_[V];W=Gt(W);const se=d.childContextForFieldPath(Y);if(W instanceof kh)y.push(Y);else{const ie=Lh(W,se);ie!=null&&(y.push(Y),b.set(Y,ie))}}const I=new Fn(y);return new TT(b,I,d.fieldTransforms)}function Lh(s,e){if(wT(s=Gt(s)))return lp("Unsupported field value:",e,s),bT(s,e);if(s instanceof ap)return(function(r,l){if(!ST(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Lh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Et.fromDate(r);return{timestampValue:ah(l.serializer,c)}}if(r instanceof Et){const c=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:H0(l.serializer,r._byteString)};if(r instanceof Ft){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,p){const _=d instanceof Di?d.toArray():d;return{mapValue:{fields:{[v0]:{stringValue:E0},[th]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Bm(p.serializer,b)}))}}}}}})(r,l);if($0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vm(r)}`)})(s,e)}function bT(s,e){const i={};return d0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,((r,l)=>{const c=Lh(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function wT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof es||s instanceof fi||s instanceof Ft||s instanceof ap||s instanceof Di||$0(s))}function lp(s,e,i){if(!wT(i)||!h0(i)){const r=Vm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function au(s,e,i){if((e=Gt(e))instanceof rp)return e._internalPath;if(typeof e=="string")return IT(s,e);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const gC=new RegExp("[~\\*/\\[\\]]");function IT(s,e,i){if(e.search(gC)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new rp(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ce(J.INVALID_ARGUMENT,p+s+_)}function RT(s,e){return s.some((i=>i.isEqual(e)))}class yC{convertValue(e,i="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Vr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new Di(i)}convertGeoPoint(e){return new es(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ah(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=vt.fromString(e);st(X0(r),9688,{name:e});const l=new nu(r.get(1),r.get(3)),c=new de(r.popFirst(5));return l.isEqual(i)||Os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class CT extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,i)}}const cE="@firebase/firestore",hE="4.11.0";function fE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class DT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(au("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _C extends DT{data(){return super.data()}}function vC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function EC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends DT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(au("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Ht("string",_a._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Kc extends _a{data(e={}){return super.data(e)}}class Co{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Kc(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:TC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Ht("string",Co._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function gr(s,e,i){s=xs(s,Ft);const r=xs(s.firestore,Po),l=EC(s.converter,e),c=AT(r);return up(r,[dC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ci.none())])}function fa(s,e,i,...r){s=xs(s,Ft);const l=xs(s.firestore,Po),c=AT(l);let d;return d=typeof(e=Gt(e))=="string"||e instanceof rp?pC(c,"updateDoc",s._key,e,i,r):mC(c,"updateDoc",s._key,e),up(l,[d.toMutation(s._key,Ci.exists(!0))])}function To(s){return up(xs(s.firestore,Po),[new qm(s._key,Ci.none())])}function yr(s,...e){s=Gt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fE(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fE(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Ft)d=xs(s.firestore,Po),p=zm(s._key.path),c={next:y=>{e[r]&&e[r](SC(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=xs(s,Vh);d=xs(y.firestore,Po),p=y._query;const b=new CT(d);c={next:I=>{e[r]&&e[r](new Co(d,b,y,I))},error:e[r+1],complete:e[r+2]},vC(s._query)}const _=ET(d);return tC(_,p,l,c)}function up(s,e){const i=ET(s);return nC(i,e)}function SC(s,e,i){const r=i.docs.get(e._key),l=new CT(s);return new _a(s,l,e._key,r,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Zb(Bo),ns(new Ni("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Po(new nw(r.getProvider("auth-internal")),new rw(d,r.getProvider("app-check-internal")),Sw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),di(cE,hE,e),di(cE,hE,"esm2020")})();const xT="@firebase/installations",cp="0.6.19";const NT=1e4,OT=`w:${cp}`,MT="FIS_v2",AC="https://firebaseinstallations.googleapis.com/v1",bC=3600*1e3,wC="installations",IC="Installations";const RC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Aa=new Ia(wC,IC,RC);function VT(s){return s instanceof Oi&&s.code.includes("request-failed")}function kT({projectId:s}){return`${AC}/projects/${s}/installations`}function LT(s){return{token:s.token,requestStatus:2,expiresIn:DC(s.expiresIn),creationTime:Date.now()}}async function UT(s,e){const r=(await e.json()).error;return Aa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function PT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function CC(s,{refreshToken:e}){const i=PT(s);return i.append("Authorization",xC(e)),i}async function jT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function DC(s){return Number(s.replace("s","000"))}function xC(s){return`${MT} ${s}`}async function NC({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=kT(s),l=PT(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:MT,appId:s.appId,sdkVersion:OT},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await jT(()=>fetch(r,p));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:LT(y.authToken)}}else throw await UT("Create Installation",_)}function zT(s){return new Promise(e=>{setTimeout(e,s)})}function OC(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const MC=/^[cdef][\w-]{21}$/,wm="";function VC(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=kC(s);return MC.test(i)?i:wm}catch{return wm}}function kC(s){return OC(s).substr(0,22)}function Uh(s){return`${s.appName}!${s.appId}`}const BT=new Map;function qT(s,e){const i=Uh(s);HT(i,e),LC(i,e)}function HT(s,e){const i=BT.get(s);if(i)for(const r of i)r(e)}function LC(s,e){const i=UC();i&&i.postMessage({key:s,fid:e}),PC()}let pa=null;function UC(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=s=>{HT(s.data.key,s.data.fid)}),pa}function PC(){BT.size===0&&pa&&(pa.close(),pa=null)}const jC="firebase-installations-database",zC=1,ba="firebase-installations-store";let Wd=null;function hp(){return Wd||(Wd=WE(jC,zC,{upgrade:(s,e)=>{e===0&&s.createObjectStore(ba)}})),Wd}async function hh(s,e){const i=Uh(s),l=(await hp()).transaction(ba,"readwrite"),c=l.objectStore(ba),d=await c.get(i);return await c.put(e,i),await l.done,(!d||d.fid!==e.fid)&&qT(s,e.fid),e}async function FT(s){const e=Uh(s),r=(await hp()).transaction(ba,"readwrite");await r.objectStore(ba).delete(e),await r.done}async function Ph(s,e){const i=Uh(s),l=(await hp()).transaction(ba,"readwrite"),c=l.objectStore(ba),d=await c.get(i),p=e(d);return p===void 0?await c.delete(i):await c.put(p,i),await l.done,p&&(!d||d.fid!==p.fid)&&qT(s,p.fid),p}async function fp(s){let e;const i=await Ph(s.appConfig,r=>{const l=BC(r),c=qC(s,l);return e=c.registrationPromise,c.installationEntry});return i.fid===wm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function BC(s){const e=s||{fid:VC(),registrationStatus:0};return GT(e)}function qC(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Aa.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HC(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FC(s)}:{installationEntry:e}}async function HC(s,e){try{const i=await NC(s,e);return hh(s.appConfig,i)}catch(i){throw VT(i)&&i.customData.serverCode===409?await FT(s.appConfig):await hh(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function FC(s){let e=await dE(s.appConfig);for(;e.registrationStatus===1;)await zT(100),e=await dE(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await fp(s);return r||i}return e}function dE(s){return Ph(s,e=>{if(!e)throw Aa.create("installation-not-found");return GT(e)})}function GT(s){return GC(s)?{fid:s.fid,registrationStatus:0}:s}function GC(s){return s.registrationStatus===1&&s.registrationTime+NT<Date.now()}async function KC({appConfig:s,heartbeatServiceProvider:e},i){const r=YC(s,i),l=CC(s,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:OT,appId:s.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await jT(()=>fetch(r,p));if(_.ok){const y=await _.json();return LT(y)}else throw await UT("Generate Auth Token",_)}function YC(s,{fid:e}){return`${kT(s)}/${e}/authTokens:generate`}async function dp(s,e=!1){let i;const r=await Ph(s.appConfig,c=>{if(!KT(c))throw Aa.create("not-registered");const d=c.authToken;if(!e&&$C(d))return c;if(d.requestStatus===1)return i=QC(s,e),c;{if(!navigator.onLine)throw Aa.create("app-offline");const p=WC(c);return i=XC(s,p),p}});return i?await i:r.authToken}async function QC(s,e){let i=await mE(s.appConfig);for(;i.authToken.requestStatus===1;)await zT(100),i=await mE(s.appConfig);const r=i.authToken;return r.requestStatus===0?dp(s,e):r}function mE(s){return Ph(s,e=>{if(!KT(e))throw Aa.create("not-registered");const i=e.authToken;return ZC(i)?{...e,authToken:{requestStatus:0}}:e})}async function XC(s,e){try{const i=await KC(s,e),r={...e,authToken:i};return await hh(s.appConfig,r),i}catch(i){if(VT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await FT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hh(s.appConfig,r)}throw i}}function KT(s){return s!==void 0&&s.registrationStatus===2}function $C(s){return s.requestStatus===2&&!JC(s)}function JC(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+bC}function WC(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function ZC(s){return s.requestStatus===1&&s.requestTime+NT<Date.now()}async function e2(s){const e=s,{installationEntry:i,registrationPromise:r}=await fp(e);return r?r.catch(console.error):dp(e).catch(console.error),i.fid}async function t2(s,e=!1){const i=s;return await n2(i),(await dp(i,e)).token}async function n2(s){const{registrationPromise:e}=await fp(s);e&&await e}function i2(s){if(!s||!s.options)throw Zd("App Configuration");if(!s.name)throw Zd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw Zd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Zd(s){return Aa.create("missing-app-config-values",{valueName:s})}const YT="installations",s2="installations-internal",r2=s=>{const e=s.getProvider("app").getImmediate(),i=i2(e),r=Ra(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a2=s=>{const e=s.getProvider("app").getImmediate(),i=Ra(e,YT).getImmediate();return{getId:()=>e2(i),getToken:l=>t2(i,l)}};function o2(){ns(new Ni(YT,r2,"PUBLIC")),ns(new Ni(s2,a2,"PRIVATE"))}o2();di(xT,cp);di(xT,cp,"esm2020");const fh="analytics",l2="firebase_id",u2="origin",c2=60*1e3,h2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mp="https://www.googletagmanager.com/gtag/js";const Tn=new Eh("@firebase/analytics");const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gn=new Ia("analytics","Analytics",f2);function d2(s){if(!s.startsWith(mp)){const e=Gn.create("invalid-gtag-resource",{gtagURL:s});return Tn.warn(e.message),""}return s}function QT(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function m2(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function p2(s,e){const i=m2("firebase-js-sdk-policy",{createScriptURL:d2}),r=document.createElement("script"),l=`${mp}?l=${s}&id=${e}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function g2(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function y2(s,e,i,r,l,c){const d=r[l];try{if(d)await e[d];else{const _=(await QT(i)).find(y=>y.measurementId===l);_&&await e[_.appId]}}catch(p){Tn.error(p)}s("config",l,c)}async function _2(s,e,i,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const p=await QT(i);for(const _ of d){const y=p.find(I=>I.measurementId===_),b=y&&e[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,l||{})}catch(c){Tn.error(c)}}function v2(s,e,i,r){async function l(c,...d){try{if(c==="event"){const[p,_]=d;await _2(s,e,i,p,_)}else if(c==="config"){const[p,_]=d;await y2(s,e,i,r,p,_)}else if(c==="consent"){const[p,_]=d;s("consent",p,_)}else if(c==="get"){const[p,_,y]=d;s("get",p,_,y)}else if(c==="set"){const[p]=d;s("set",p)}else s(c,...d)}catch(p){Tn.error(p)}}return l}function E2(s,e,i,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=v2(c,s,e,i),{gtagCore:c,wrappedGtag:window[l]}}function T2(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(mp)&&i.src.includes(s))return i;return null}const S2=30,A2=1e3;class b2{constructor(e={},i=A2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XT=new b2;function w2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function I2(s){const{appId:e,apiKey:i}=s,r={method:"GET",headers:w2(i)},l=h2.replace("{app-id}",e),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();p.error?.message&&(d=p.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function R2(s,e=XT,i){const{appId:r,apiKey:l,measurementId:c}=s.options;if(!r)throw Gn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw Gn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new x2;return setTimeout(async()=>{p.abort()},c2),$T({appId:r,apiKey:l,measurementId:c},d,p,e)}async function $T(s,{throttleEndTimeMillis:e,backoffCount:i},r,l=XT){const{appId:c,measurementId:d}=s;try{await C2(r,e)}catch(p){if(d)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw p}try{const p=await I2(s);return l.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!D2(_)){if(l.deleteThrottleMetadata(c),d)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw p}const y=Number(_?.customData?.httpStatus)===503?av(i,l.intervalMillis,S2):av(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,b),Tn.debug(`Calling attemptFetch again in ${y} millis`),$T(s,b,r,l)}}function C2(s,e){return new Promise((i,r)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(c),r(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D2(s){if(!(s instanceof Oi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class x2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function N2(s,e,i,r,l){if(l&&l.global){s("event",i,r);return}else{const c=await e,d={...r,send_to:c};s("event",i,d)}}async function O2(s,e,i,r){if(r&&r.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:i})}}async function M2(){if(QE())try{await XE()}catch(s){return Tn.warn(Gn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return Tn.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V2(s,e,i,r,l,c,d){const p=R2(s);p.then(V=>{i[V.measurementId]=V.appId,s.options.measurementId&&V.measurementId!==s.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Tn.error(V)),e.push(p);const _=M2().then(V=>{if(V)return r.getId()}),[y,b]=await Promise.all([p,_]);T2(c)||p2(c,y.measurementId),l("js",new Date);const I=d?.config??{};return I[u2]="firebase",I.update=!0,b!=null&&(I[l2]=b),l("config",y.measurementId,I),y.measurementId}class k2{constructor(e){this.app=e}_delete(){return delete Do[this.app.options.appId],Promise.resolve()}}let Do={},pE=[];const gE={};let em="dataLayer",L2="gtag",yE,pp,_E=!1;function U2(){const s=[];if(YE()&&s.push("This is a browser extension environment."),OA()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=Gn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(i.message)}}function P2(s,e,i){U2();const r=s.options.appId;if(!r)throw Gn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(Do[r]!=null)throw Gn.create("already-exists",{id:r});if(!_E){g2(em);const{wrappedGtag:c,gtagCore:d}=E2(Do,pE,gE,em,L2);pp=c,yE=d,_E=!0}return Do[r]=V2(s,pE,gE,e,yE,em,i),new k2(s)}function j2(s=Nm()){s=Gt(s);const e=Ra(s,fh);return e.isInitialized()?e.getImmediate():z2(s)}function z2(s,e={}){const i=Ra(s,fh);if(i.isInitialized()){const l=i.getImmediate();if(Rr(e,i.getOptions()))return l;throw Gn.create("already-initialized")}return i.initialize({options:e})}function B2(s,e,i){s=Gt(s),O2(pp,Do[s.app.options.appId],e,i).catch(r=>Tn.error(r))}function q2(s,e,i,r){s=Gt(s),N2(pp,Do[s.app.options.appId],e,i,r).catch(l=>Tn.error(l))}const vE="@firebase/analytics",EE="0.10.19";function H2(){ns(new Ni(fh,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return P2(r,l,i)},"PUBLIC")),ns(new Ni("analytics-internal",s,"PRIVATE")),di(vE,EE),di(vE,EE,"esm2020");function s(e){try{const i=e.getProvider(fh).getImmediate();return{logEvent:(r,l,c)=>q2(i,r,l,c),setUserProperties:(r,l)=>B2(i,r,l)}}catch(i){throw Gn.create("interop-component-reg-failed",{reason:i})}}}H2();function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=JT,WT=new Ia("auth","Firebase",JT());const dh=new Eh("@firebase/auth");function G2(s,...e){dh.logLevel<=je.WARN&&dh.warn(`Auth (${Bo}): ${s}`,...e)}function Yc(s,...e){dh.logLevel<=je.ERROR&&dh.error(`Auth (${Bo}): ${s}`,...e)}function rs(s,...e){throw yp(s,...e)}function xi(s,...e){return yp(s,...e)}function gp(s,e,i){const r={...F2(),[e]:i};return new Ia("auth","Firebase",r).create(e,{appName:s.name})}function va(s){return gp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&rs(s,"argument-error"),gp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return WT.create(s,...e)}function ve(s,e,...i){if(!s)throw yp(e,...i)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function Vs(s,e){s||Cs(e)}function Im(){return typeof self<"u"&&self.location?.href||""}function Y2(){return TE()==="http:"||TE()==="https:"}function TE(){return typeof self<"u"&&self.location?.protocol||null}function Q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||YE()||"connection"in navigator)?navigator.onLine:!0}function X2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Vs(i>e,"Short delay should be less than long delay!"),this.isMobile=IA()||DA()}get(){return Q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _p(s,e){Vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class ZT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const J2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new mu(3e4,6e4);function vp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ko(s,e,i,r,l={}){return e1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=lu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return CA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&zo(s.emulatorConfig.host)&&(y.credentials="include"),ZT.fetch()(await t1(s,s.config.apiHost,i,p),y)})}async function e1(s,e,i){s._canInitEmulator=!1;const r={...$2,...e};try{const l=new eD(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw zc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gp(s,b,y);rs(s,b)}}catch(l){if(l instanceof Oi)throw l;rs(s,"network-request-failed",{message:String(l)})}}async function Z2(s,e,i,r,l={}){const c=await Ko(s,e,i,r,l);return"mfaPendingCredential"in c&&rs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function t1(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?_p(s.config,l):`${s.config.apiScheme}://${l}`;return J2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),W2.get())})}}function zc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,e,r);return l.customData._tokenResponse=i,l}async function tD(s,e){return Ko(s,"POST","/v1/accounts:delete",e)}async function mh(s,e){return Ko(s,"POST","/v1/accounts:lookup",e)}function Wl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nD(s,e=!1){const i=Gt(s),r=await i.getIdToken(e),l=Ep(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Wl(tm(l.auth_time)),issuedAtTime:Wl(tm(l.iat)),expirationTime:Wl(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(s){return Number(s)*1e3}function Ep(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=BE(i);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function SE(s){const e=Ep(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Oi&&iD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function iD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ph(s){const e=s.auth,i=await s.getIdToken(),r=await ou(s,mh(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?n1(l.providerUserInfo):[],d=aD(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function rD(s){const e=Gt(s);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function n1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oD(s,e){const i=await e1(s,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await t1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&zo(s.emulatorConfig.host)&&(_.credentials="include"),ZT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lD(s,e){return Ko(s,"POST","/v2/accounts:revokeToken",vp(s,e))}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=SE(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await oD(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new xo;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function _r(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ou(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return nD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(va(this.auth));const e=await this.getIdToken();return await ou(this,tD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:I,emailVerified:V,isAnonymous:Y,providerData:W,stsTokenManager:se}=i;ve(I&&se,e,"internal-error");const ie=xo.fromJSON(this.name,se);ve(typeof I=="string",e,"internal-error"),_r(r,e.name),_r(l,e.name),ve(typeof V=="boolean",e,"internal-error"),ve(typeof Y=="boolean",e,"internal-error"),_r(c,e.name),_r(d,e.name),_r(p,e.name),_r(_,e.name),_r(y,e.name),_r(b,e.name);const me=new Ri({uid:I,auth:e,email:l,emailVerified:V,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ie,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(me.providerData=W.map(be=>({...be}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,r=!1){const l=new xo;l.updateFromServerResponse(i);const c=new Ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ph(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?n1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new xo;p.updateFromIdToken(r);const _=new Ri({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const AE=new Map;function Ds(s){Vs(s instanceof Function,"Expected a class definition");let e=AE.get(s);return e?(Vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,AE.set(s,e),e)}class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}i1.type="NONE";const bE=i1;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class No{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await mh(this.auth,{idToken:e}).catch(()=>{});return i?Ri._fromGetAccountInfoResponse(this.auth,i,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new No(Ds(bE),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ds(bE);const d=Qc(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let I;if(typeof b=="string"){const V=await mh(e,{idToken:b}).catch(()=>{});if(!V)break;I=await Ri._fromGetAccountInfoResponse(e,V,b)}else I=Ri._fromJSON(e,b);y!==c&&(p=I),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new No(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new No(c,e,r))}}function wE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u1(e))return"Blackberry";if(c1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function s1(s=yn()){return/firefox\//i.test(s)}function r1(s=yn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(s=yn()){return/crios\//i.test(s)}function o1(s=yn()){return/iemobile/i.test(s)}function l1(s=yn()){return/android/i.test(s)}function u1(s=yn()){return/blackberry/i.test(s)}function c1(s=yn()){return/webos/i.test(s)}function Tp(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uD(s=yn()){return Tp(s)&&!!window.navigator?.standalone}function cD(){return xA()&&document.documentMode===10}function h1(s=yn()){return Tp(s)||l1(s)||c1(s)||u1(s)||/windows phone/i.test(s)||o1(s)}function f1(s,e=[]){let i;switch(s){case"Browser":i=wE(yn());break;case"Worker":i=`${wE(yn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Bo}/${r}`}class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fD(s,e={}){return Ko(s,"GET","/v2/passwordPolicy",vp(s,e))}const dD=6;class mD{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dD,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pD{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await mh(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(va(this));const i=e?Gt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),i=new mD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await lD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ds(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jh(s){return Gt(s)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=UA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gD(s){Sp=s}function yD(s){return Sp.loadJS(s)}function _D(){return Sp.gapiScript}function vD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ED(s,e){const i=Ra(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Rr(c,e??{}))return l;rs(l,"already-initialized")}return i.initialize({options:e})}function TD(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function SD(s,e,i){const r=jh(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=d1(e),{host:d,port:p}=AD(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Rr(y,r.config.emulator)&&Rr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,zo(d)?(GE(`${c}//${d}${_}`),KE("Auth",!0)):bD()}function d1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function AD(s){const e=d1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:RE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:RE(d)}}}function RE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bD(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class m1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,i){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function Oo(s,e){return Z2(s,"POST","/v1/accounts:signInWithIdp",vp(s,e))}const wD="http://localhost";class wa extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new wa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Oo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Oo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Oo(e,i)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=lu(i)}return e}}class Ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends Ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vr extends pu{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class Rs extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return wa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Rs.credential(i,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class Er extends pu{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";class Tr extends pu{constructor(){super("twitter.com")}static credential(e,i){return wa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Tr.credential(i,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Ri._fromIdTokenResponse(e,r,l),d=CE(r);return new jo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=CE(r);return new jo({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function CE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class gh extends Oi{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new gh(e,i,r,l)}}function p1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,e,r):c})}async function ID(s,e,i=!1){const r=await ou(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return jo._forOperation(s,"link",r)}async function RD(s,e,i=!1){const{auth:r}=s;if(Ii(r.app))return Promise.reject(va(r));const l="reauthenticate";try{const c=await ou(s,p1(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=Ep(c.idToken);ve(d,r,"internal-error");const{sub:p}=d;return ve(s.uid===p,r,"user-mismatch"),jo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(r,"user-mismatch"),c}}async function CD(s,e,i=!1){if(Ii(s.app))return Promise.reject(va(s));const r="signIn",l=await p1(s,r,e),c=await jo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function DD(s,e,i,r){return Gt(s).onIdTokenChanged(e,i,r)}function xD(s,e,i){return Gt(s).beforeAuthStateChanged(e,i)}function ND(s,e,i,r){return Gt(s).onAuthStateChanged(e,i,r)}function OD(s){return Gt(s).signOut()}const yh="__sak";class g1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MD=1e3,VD=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);cD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,VD):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const kD=y1;class _1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function LD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await LD(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function bp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class UD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=bp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(I){const V=I;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ts(){return window}function PD(s){ts().location.href=s}function E1(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function jD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zD(){return navigator?.serviceWorker?.controller||null}function BD(){return E1()?self:null}const T1="firebaseLocalStorageDb",qD=1,_h="firebaseLocalStorage",S1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Bh(s,e){return s.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function HD(){const s=indexedDB.deleteDatabase(T1);return new gu(s).toPromise()}function Cm(){const s=indexedDB.open(T1,qD);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(_h,{keyPath:S1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await HD(),e(await Cm()))})})}async function DE(s,e,i){const r=Bh(s,!0).put({[S1]:e,value:i});return new gu(r).toPromise()}async function FD(s,e){const i=Bh(s,!1).get(e),r=await new gu(i).toPromise();return r===void 0?null:r.value}function xE(s,e){const i=Bh(s,!0).delete(e);return new gu(i).toPromise()}const GD=800,KD=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>KD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new UD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await DE(e,yh,"1"),await xE(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>DE(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>FD(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>xE(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Bh(l,!1).getAll();return new gu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const YD=A1;new mu(3e4,6e4);function b1(s,e){return e?Ds(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class wp extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function QD(s){return CD(s.auth,new wp(s),s.bypassAuthState)}function XD(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),RD(i,new wp(s),s.bypassAuthState)}async function $D(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),ID(i,new wp(s),s.bypassAuthState)}class w1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:rs(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JD=new mu(2e3,1e4);async function WD(s,e,i){if(Ii(s.app))return Promise.reject(xi(s,"operation-not-supported-in-this-environment"));const r=jh(s);K2(s,e,Ap);const l=b1(r,i);return new ga(r,"signInViaPopup",e,l).executeNotNull()}class ga extends w1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JD.get())};e()}}ga.currentPopupAction=null;const ZD="pendingRedirect",Xc=new Map;class ex extends w1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await tx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(s,e){const i=sx(e),r=ix(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function nx(s,e){Xc.set(s._key(),e)}function ix(s){return Ds(s._redirectPersistence)}function sx(s){return Qc(ZD,s.config.apiKey,s.name)}async function rx(s,e,i=!1){if(Ii(s.app))return Promise.reject(va(s));const r=jh(s),l=b1(r,e),d=await new ex(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const ax=600*1e3;class ox{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!I1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function I1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function lx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I1(s);default:return!1}}async function ux(s,e={}){return Ko(s,"GET","/v1/projects",e)}const cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function fx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ux(s);for(const i of e)try{if(dx(i))return}catch{}rs(s,"unauthorized-domain")}function dx(s){const e=Im(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!hx.test(i))return!1;if(cx.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const mx=new mu(3e4,6e4);function OE(){const s=ts().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function px(s){return new Promise((e,i)=>{function r(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),i(xi(s,"network-request-failed"))},timeout:mx.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)r();else{const l=vD("iframefcb");return ts()[l]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},yD(`${_D()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw $c=null,e})}let $c=null;function gx(s){return $c=$c||px(s),$c}const yx=new mu(5e3,15e3),_x="__/auth/iframe",vx="emulator/auth/iframe",Ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sx(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?_p(e,vx):`https://${s.config.authDomain}/${_x}`,r={apiKey:e.apiKey,appName:s.name,v:Bo},l=Tx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${lu(r).slice(1)}`}async function Ax(s){const e=await gx(s),i=ts().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:Sx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ex,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=ts().setTimeout(()=>{c(d)},yx.get());function _(){ts().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,Ix=600,Rx="_blank",Cx="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(s,e,i,r=wx,l=Ix){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...bx,width:r.toString(),height:l.toString(),top:c,left:d},y=yn().toLowerCase();i&&(p=a1(y)?Rx:i),s1(y)&&(e=e||Cx,_.scrollbars="yes");const b=Object.entries(_).reduce((V,[Y,W])=>`${V}${Y}=${W},`,"");if(uD(y)&&p!=="_self")return xx(e||"",p),new ME(null);const I=window.open(e||"",p,b);ve(I,s,"popup-blocked");try{I.focus()}catch{}return new ME(I)}function xx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Nx="__/auth/handler",Ox="emulator/auth/handler",Mx=encodeURIComponent("fac");async function VE(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Bo,eventId:l};if(e instanceof Ap){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",LA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,I]of Object.entries({}))d[b]=I}if(e instanceof pu){const b=e.getScopes().filter(I=>I!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),y=_?`#${Mx}=${encodeURIComponent(_)}`:"";return`${Vx(s)}?${lu(p).slice(1)}${y}`}function Vx({config:s}){return s.emulator?_p(s,Ox):`https://${s.authDomain}/${Nx}`}const nm="webStorageSupport";class kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=rx,this._overrideRedirectResult=nx}async _openPopup(e,i,r,l){Vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await VE(e,i,r,Im(),l);return Dx(e,c,bp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await VE(e,i,r,Im(),l);return PD(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Vs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Ax(e),r=new ox(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nm,{type:nm},l=>{const c=l?.[0]?.[nm];c!==void 0&&i(!!c),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return h1()||r1()||Tp()}}const Lx=kx;var kE="@firebase/auth",LE="1.12.0";class Ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Px(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jx(s){ns(new Ni("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f1(s)},y=new pD(r,l,c,_);return TD(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ns(new Ni("auth-internal",e=>{const i=jh(e.getProvider("auth").getImmediate());return(r=>new Ux(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(kE,LE,Px(s)),di(kE,LE,"esm2020")}const zx=300,Bx=FE("authIdTokenMaxAge")||zx;let UE=null;const qx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Bx)return;const l=i?.token;UE!==l&&(UE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Hx(s=Nm()){const e=Ra(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ED(s,{popupRedirectResolver:Lx,persistence:[YD,kD,v1]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=qx(c.toString());xD(i,d,()=>d(i.currentUser)),DD(i,p=>d(p))}}const l=qE("auth");return l&&SD(i,`http://${l}`),i}function Fx(){return document.getElementsByTagName("head")?.[0]??document}gD({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Fx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jx("Browser");const Gx={apiKey:"AIzaSyCwt8aPWg-O2k9hxTAqxE-7Sbv8OxwflR0",authDomain:"ferapp-9a4eb.firebaseapp.com",projectId:"ferapp-9a4eb",storageBucket:"ferapp-9a4eb.firebasestorage.app",messagingSenderId:"392403129654",appId:"1:392403129654:web:3ffacefd56809fdbb54f97",measurementId:"G-W2LZSLNP59"},Ip=ZE(Gx),PE=lC(Ip),im=Hx(Ip),Kx=new Rs;typeof window<"u"&&j2(Ip);const an=()=>{const s={timeZone:"America/Argentina/Buenos_Aires",year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",s).format(new Date)};function Yx(){const[s,e]=we.useState(null),[i,r]=we.useState(!0),[l,c]=we.useState([]),[d,p]=we.useState([]),[_,y]=we.useState(""),[b,I]=we.useState(null),[V,Y]=we.useState(""),[W,se]=we.useState([]),[ie,me]=we.useState(!1),[be,ge]=we.useState(!1),[Ce,tt]=we.useState({name:"",phone:"",address:"",observations:""}),[xe,D]=we.useState(null),[w,x]=we.useState([]),[k,N]=we.useState(!1),[U,R]=we.useState(!1),[Le,dt]=we.useState({name:"",phone:"",address:"",observations:""}),[F,te]=we.useState(null),[ue,qe]=we.useState([]),[$e,M]=we.useState(!1),[Q,ee]=we.useState(!1),[ne,fe]=we.useState({name:"",role:"",phone:"",observations:""}),[_e,Ne]=we.useState(null),[Nt,Je]=we.useState(!1),[nt,Wt]=we.useState({id:0,providerId:0,orderDate:an(),deliveryDate:"",orderDetails:"",observations:"",taskId:0}),[Kn,ks]=we.useState([]),[cn,Lr]=we.useState([]),[as,Yn]=we.useState(!1),[lt,We]=we.useState({id:0,serviceId:0,requestDate:an(),executionDate:"",details:"",observations:"",taskId:0}),[Tt,Mi]=we.useState([]),[Vi,Ur]=we.useState([]),[Zt,Sn]=we.useState(!1),[Fe,Pr]=we.useState(""),[ki,Li]=we.useState(!1),[An,jr]=we.useState(null),[xa,Xt]=we.useState(!1),[Oe,wt]=we.useState({id:0,employeeId:0,callDate:an(),reason:"",observations:"",taskId:0}),[gt,zr]=we.useState(""),[mi,Br]=we.useState(null),[bn,pi]=we.useState("");we.useEffect(()=>{console.log("Iniciando escucha de autenticacin...");const T=ND(im,ae=>{console.log("Firebase Auth State:",ae?`Conectado como ${ae.email}`:"Desconectado"),e(ae),r(!1)});return()=>T()},[]);const It=async()=>{try{await WD(im,Kx)}catch(T){console.error("Error al iniciar sesin:",T),alert("Hubo un error al iniciar sesin con Google.")}},Qn=async()=>{try{await OD(im)}catch(T){console.error("Error al cerrar sesin:",T)}};we.useEffect(()=>{if(!s)return;console.log("Usuario autenticado, iniciando sincronizacin...");const T=Ee=>aC(PE,`users/${s.uid}/${Ee}`),ae=yr(T("tasks"),Ee=>{console.log("Tareas cargadas:",Ee.size);const Me=Ee.docs.map(fn=>({...fn.data(),id:fn.data().id||Number(fn.id)}));c(Me.filter(fn=>!fn.completed)),p(Me.filter(fn=>fn.completed))},Ee=>console.error("Error tasks:",Ee)),Ge=yr(T("providers"),Ee=>{console.log("Proveedores cargados:",Ee.size),se(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>alert("Error cargando proveedores: "+Ee.message)),mt=yr(T("service_providers"),Ee=>{console.log("Servicios cargados:",Ee.size),x(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error services:",Ee)),yi=yr(T("employees"),Ee=>{console.log("Empleados cargados:",Ee.size),qe(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error employees:",Ee)),hn=yr(T("orders"),Ee=>{ks(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error orders:",Ee)),Ot=yr(T("service_requests"),Ee=>{Lr(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error requests:",Ee)),os=yr(T("calls"),Ee=>{Mi(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error calls:",Ee)),ls=yr(T("reminders"),Ee=>{Ur(Ee.docs.map(Me=>({...Me.data(),id:Me.data().id||Number(Me.id)})))},Ee=>console.error("Error reminders:",Ee));return()=>{ae(),Ge(),mt(),yi(),hn(),Ot(),os(),ls()}},[s]),we.useEffect(()=>{const T=an(),ae=Vi.filter(Ge=>Ge.date===T);if(ae.length>0){const Ge=ae.map(mt=>({id:Date.now()+Math.random(),text:mt.text.toUpperCase(),completed:!1,date:T}));c(mt=>[...mt,...Ge]),Ur(mt=>mt.filter(yi=>yi.date!==T))}},[Vi]);const Xn=T=>{Pr(T),Wt(ae=>({...ae,orderDate:T})),We(ae=>({...ae,requestDate:T})),wt(ae=>({...ae,callDate:T})),Sn(!0)},Ye=(T,ae)=>{if(!s)throw new Error("User not authenticated");return oC(PE,`users/${s.uid}/${T}`,ae.toString())},Na=async()=>{if(gt.trim()&&s){const T=Date.now();await gr(Ye("reminders",T),{date:Fe,text:gt.trim().toUpperCase()}),zr("")}},Oa=async T=>{confirm("DESEA ELIMINAR ESTE RECORDATORIO?")&&s&&await To(Ye("reminders",T))},$n=T=>{Br(T.id),pi(T.text)},Ui=async()=>{mi&&bn.trim()&&s&&(await fa(Ye("reminders",mi),{text:bn.trim().toUpperCase()}),Br(null),pi(""))},Ma=async()=>{if(_.trim()&&s){const T=Date.now();await gr(Ye("tasks",T),{text:_.trim().toUpperCase(),completed:!1,date:an()}),y("")}},Pi=async T=>{confirm("DECEAS ELIMINAR ESTA TAREA?")&&s&&await To(Ye("tasks",T))},Ls=T=>{I(T.id),Y(T.text)},ji=async()=>{V.trim()&&b&&s&&(await fa(Ye("tasks",b),{text:V.trim().toUpperCase()}),I(null))},gi=async T=>{!T||T===0||!s||await fa(Ye("tasks",T),{completed:!0})},Jn=async(T,ae)=>{s&&await fa(Ye("tasks",T),{completed:!ae})},Va=async()=>{if(Ce.name.trim()&&s)try{if(xe)await fa(Ye("providers",xe.id),Ce),D(null);else{const T=Date.now();await gr(Ye("providers",T),{...Ce,id:T})}ge(!1),tt({name:"",phone:"",address:"",observations:""})}catch(T){console.error("Error saving provider:",T)}},kn=async T=>{if(confirm("DECEAS ELIMINAR ESTE PROVEEDOR?")&&s)try{await To(Ye("providers",T))}catch(ae){console.error("Error deleting provider:",ae)}},Ln=T=>{D(T),tt({name:T.name,phone:T.phone,address:T.address,observations:T.observations}),ge(!0)},Rt=async()=>{if(Le.name.trim()&&s)try{if(F)await fa(Ye("service_providers",F.id),Le),te(null);else{const T=Date.now();await gr(Ye("service_providers",T),{...Le,id:T})}R(!1),dt({name:"",phone:"",address:"",observations:""})}catch(T){console.error("Error saving service:",T)}},Ut=async T=>{if(confirm("Ests seguro de que deseas eliminar este servicio?")&&s)try{await To(Ye("service_providers",T))}catch(ae){console.error("Error deleting service:",ae)}},Wn=T=>{te(T),dt({name:T.name,phone:T.phone,address:T.address,observations:T.observations}),R(!0)},Us=async()=>{if(ne.name.trim()&&s)try{if(_e)await fa(Ye("employees",_e.id),ne),Ne(null);else{const T=Date.now();await gr(Ye("employees",T),{...ne,id:T})}ee(!1),fe({name:"",role:"",phone:"",observations:""})}catch(T){console.error("Error saving employee:",T)}},Yo=async T=>{if(confirm("DECEAS ELIMINAR ESTE EMPLEADO?")&&s)try{await To(Ye("employees",T))}catch(ae){console.error("Error deleting employee:",ae)}},ka=T=>{Ne(T),fe({name:T.name,role:T.role,phone:T.phone,observations:T.observations}),ee(!0)},La=async()=>{if(nt.providerId!==0&&nt.orderDetails.trim()&&s){const T=nt.id!==0?nt.id:Date.now();await gr(Ye("orders",T),{...nt,id:T,type:"order"}),nt.taskId&&nt.taskId!==0&&gi(nt.taskId),Je(!1),Wt({id:0,providerId:0,orderDate:an(),deliveryDate:"",orderDetails:"",observations:"",taskId:0})}else console.warn("Incomplete order data or user not logged in")},Zn=async()=>{if(lt.serviceId!==0&&lt.details.trim()&&s){const T=lt.id!==0?lt.id:Date.now();await gr(Ye("service_requests",T),{...lt,id:T,type:"service"}),lt.taskId&&lt.taskId!==0&&gi(lt.taskId),Yn(!1),We({id:0,serviceId:0,requestDate:an(),executionDate:"",details:"",observations:"",taskId:0})}else console.warn("Incomplete service request data or user not logged in")},Ps=async()=>{if(Oe.employeeId!==0&&Oe.reason.trim()&&s){const T=Oe.id!==0?Oe.id:Date.now();await gr(Ye("calls",T),{...Oe,id:T,type:"call"}),Oe.taskId&&Oe.taskId!==0&&gi(Oe.taskId),Xt(!1),wt({id:0,employeeId:0,callDate:an(),reason:"",observations:"",taskId:0})}else console.warn("Incomplete call data or user not logged in")},ei=async T=>{if(!window.confirm("Est seguro de que desea eliminar este registro?")||!s)return;const ae=T.type==="order"?"orders":T.type==="service"?"service_requests":T.type==="call"?"calls":"";ae&&await To(Ye(ae,T.id)),Li(!1)},wn=T=>{Li(!1),T.type==="order"?(Wt({...T,taskId:T.taskId||0}),Je(!0)):T.type==="service"?(We({...T,taskId:T.taskId||0}),Yn(!0)):T.type==="call"&&(wt({...T,taskId:T.taskId||0}),Xt(!0))};return i?E.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"var(--bg-gradient)"},children:E.jsx("h2",{style:{color:"var(--primary-navy)"},children:"Cargando..."})}):s?E.jsxs("div",{className:"dashboard-grid",children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[E.jsx("img",{src:"/FerApp/logo.png",alt:"FerApp Logo",style:{width:"160px",height:"160px",objectFit:"contain"}}),s&&E.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.5rem",background:"rgba(255,255,255,0.5)",borderRadius:"12px",border:"1px solid rgba(0,0,0,0.05)"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:"var(--primary-navy)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.displayName?.toUpperCase()||"USUARIO"}),E.jsx("button",{onClick:Qn,title:"Cerrar Sesin",style:{background:"none",border:"none",cursor:"pointer",color:"#e63946",display:"flex",alignItems:"center",padding:"4px",transition:"transform 0.2s"},onMouseOver:T=>T.currentTarget.style.transform="scale(1.2)",onMouseOut:T=>T.currentTarget.style.transform="scale(1)",children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),E.jsx("polyline",{points:"16 17 21 12 16 7"}),E.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),E.jsx("button",{className:"btn-navy",onClick:()=>me(!0),children:"Proveedores"}),E.jsx("button",{className:"btn-orange",onClick:()=>N(!0),children:"Servicios"}),E.jsx("button",{className:"btn-violet",onClick:()=>M(!0),children:"Empleados"})]}),E.jsxs("div",{className:"card",style:{textAlign:"center",padding:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{marginBottom:"1rem"},children:new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:"America/Argentina/Buenos_Aires"}).toUpperCase()}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.4rem"},children:[["D","L","M","X","J","V","S"].map(T=>E.jsx("span",{style:{fontSize:"0.9rem",fontWeight:900,color:"#000"},children:T},T)),Array.from({length:30},(T,ae)=>{const Ge=an(),[mt,yi]=Ge.split("-"),hn=ae+1,Ot=`${mt}-${yi}-${hn.toString().padStart(2,"0")}`,os=Ot===an(),ls=Kn.some(it=>it.orderDate===Ot),Ee=Kn.some(it=>it.deliveryDate===Ot),Me=cn.some(it=>it.requestDate===Ot),fn=cn.some(it=>it.executionDate===Ot),_n=Tt.some(it=>it.callDate===Ot),Ct=Vi.some(it=>it.date===Ot);return E.jsxs("div",{onClick:()=>Xn(Ot),className:`calendar-day ${os?"today":""}`,children:[E.jsx("span",{style:{fontSize:"1rem"},children:hn}),E.jsxs("div",{style:{display:"flex",gap:"2px",height:"6px"},children:[(ls||Ee)&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-navy)"},title:"Pedido/Entrega"}),(Me||fn)&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-orange)"},title:"Servicio"}),_n&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-violet)"},title:"Llamada"}),Ct&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#2196F3"},title:"Recordatorio"})]})]},hn)})]})]}),E.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{marginBottom:"1rem"},children:"TAREAS PENDIENTES"}),E.jsx("hr",{style:{border:"0",borderTop:"1px solid #eee",marginBottom:"0.8rem"}}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"1.5rem"},children:[E.jsx("input",{type:"text",placeholder:"Qu falta hacer?",value:_,onChange:T=>y(T.target.value.toUpperCase()),onKeyDown:T=>T.key==="Enter"&&Ma(),className:"modal-input",style:{fontSize:"1.1rem"}}),E.jsx("button",{onClick:Ma,className:"btn-navy",style:{padding:"1rem 2rem",fontSize:"1rem",width:"auto"},children:"AADIR"})]}),E.jsx("ul",{style:{maxHeight:"250px",overflowY:"auto"},children:l.map(T=>E.jsxs("li",{style:{justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:1},children:[E.jsx("input",{type:"checkbox",checked:T.completed,onChange:()=>Jn(T.id,T.completed)}),b===T.id?E.jsx("input",{type:"text",value:V,onChange:ae=>Y(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&ji(),className:"modal-input",style:{padding:"0.3rem",fontSize:"0.9rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:T.text}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[" ",T.date.split("-").reverse().join("/")]})]})]}),E.jsxs("div",{style:{display:"flex",gap:"4px"},children:[b===T.id?E.jsx("button",{onClick:()=>ji(),className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>Ls(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Pi(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]}),E.jsxs("div",{className:"btn-action-row",style:{gridColumn:"1 / span 3",display:"flex",gap:"1rem"},children:[E.jsx("button",{className:"btn-action",onClick:()=>{Wt(T=>({...T,orderDate:an(),id:0})),Je(!0)},children:" Realizar pedido"}),E.jsx("button",{className:"btn-action-orange",onClick:()=>{We(T=>({...T,requestDate:an(),id:0})),Yn(!0)},children:" Solicitar servicio"}),E.jsx("button",{className:"btn-action-violet",onClick:()=>{wt(T=>({...T,callDate:an(),id:0})),Xt(!0)},children:" Realizar llamada"})]}),E.jsxs("div",{className:"card completed-tasks",style:{gridColumn:"1 / span 2"},children:[E.jsx("h2",{className:"section-title",children:"TAREAS REALIZADAS"}),E.jsx("ul",{children:d.map(T=>E.jsxs("li",{style:{justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:1},children:[E.jsx("input",{type:"checkbox",checked:T.completed,onChange:()=>Jn(T.id,T.completed)}),b===T.id?E.jsx("input",{type:"text",value:V,onChange:ae=>Y(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&ji(),className:"modal-input",style:{padding:"0.3rem",fontSize:"0.9rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[E.jsx("span",{style:{textDecoration:"line-through",color:"var(--text-muted)",fontWeight:"bold"},children:T.text}),E.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",opacity:.7},children:T.date.split("-").reverse().join("/")})]})]}),E.jsxs("div",{style:{display:"flex",gap:"4px"},children:[b===T.id?E.jsx("button",{onClick:()=>ji(),className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>Ls(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Pi(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"section-title",children:"RECORDATORIO"}),E.jsx("hr",{style:{border:"0",borderTop:"1px solid #eee",marginBottom:"1rem"}}),E.jsx("div",{className:"modal-input",style:{height:"250px",width:"100%",overflowY:"auto",background:"transparent",border:"none",fontSize:"1.2rem",lineHeight:"1.6"},children:Vi.length>0&&E.jsxs("div",{style:{color:"var(--primary-navy)"},children:[E.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"1rem",opacity:.7},children:"PRXIMAS FECHAS:"}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:Vi.sort((T,ae)=>T.date.localeCompare(ae.date)).map(T=>E.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.8rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("div",{style:{flex:1},children:mi===T.id?E.jsx("input",{type:"text",value:bn,onChange:ae=>pi(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&Ui(),className:"modal-input",style:{padding:"0.3rem",fontSize:"1rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[E.jsx("span",{style:{fontSize:"1rem",fontWeight:900},children:T.text}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[" ",T.date.split("-").reverse().slice(0,2).join("/")]})]})}),E.jsxs("div",{style:{display:"flex",gap:"8px",marginLeft:"10px"},children:[mi===T.id?E.jsx("button",{onClick:Ui,className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>$n(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Oa(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]})})]}),ie&&E.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"800px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE PROVEEDORES"}),E.jsx("button",{onClick:()=>me(!1),style:{background:"none",border:"none",fontSize:"2.5rem",cursor:"pointer",color:"#000"},children:""})]}),E.jsx("button",{onClick:()=>{D(null),tt({name:"",phone:"",address:"",observations:""}),ge(!0)},className:"btn-navy",style:{padding:"1.2rem",marginBottom:"2rem",fontSize:"1.1rem"},children:"+ AGREGAR NUEVO PROVEEDOR"}),E.jsxs("ul",{style:{maxHeight:"450px",overflowY:"auto",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[W.length===0&&E.jsx("p",{style:{textAlign:"center",gridColumn:"span 2",color:"#666"},children:"NO HAY PROVEEDORES AGENDADOS."}),W.map(T=>E.jsxs("li",{onClick:()=>Ln(T),style:{padding:"1.2rem",background:"white",border:"3px solid #eee",borderRadius:"15px",display:"flex",flexDirection:"column",gap:"0.4rem",cursor:"pointer"},children:[E.jsx("span",{style:{fontSize:"1.2rem",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"1rem",color:"#444"},children:[E.jsxs("div",{children:[" ",T.phone]}),E.jsxs("div",{children:[" ",T.address]})]})]},T.id))]})]})}),be&&E.jsx("div",{className:"modal-overlay",onClick:()=>ge(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"650px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:xe?"EDITAR PROVEEDOR":"NUEVO PROVEEDOR"}),E.jsx("button",{onClick:()=>ge(!1),style:{background:"none",border:"none",fontSize:"2.5rem",cursor:"pointer",color:"#000"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"NOMBRE / COMERCIO"}),E.jsx("input",{type:"text",placeholder:"Ej: Pinturera Central",value:Ce.name,onChange:T=>tt({...Ce,name:T.target.value.toUpperCase()}),className:"modal-input"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"TELFONO"}),E.jsx("input",{type:"text",placeholder:"11 2233-4455",value:Ce.phone,onChange:T=>tt({...Ce,phone:T.target.value.toUpperCase()}),className:"modal-input"})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"DIRECCIN"}),E.jsx("input",{type:"text",placeholder:"Calle Falsa 123",value:Ce.address,onChange:T=>tt({...Ce,address:T.target.value.toUpperCase()}),className:"modal-input"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"OBSERVACIONES"}),E.jsx("textarea",{placeholder:"Detalles de entrega, cobro, etc...",value:Ce.observations,onChange:T=>tt({...Ce,observations:T.target.value.toUpperCase()}),className:"modal-input",style:{height:"120px",resize:"none"}})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[xe&&E.jsx("button",{onClick:()=>{kn(xe.id),ge(!1)},style:{flex:1,padding:"1.2rem",background:"#e63946",color:"white",border:"none",borderRadius:"15px",cursor:"pointer",fontSize:"1.1rem"},children:"ELIMINAR"}),E.jsx("button",{onClick:Va,className:"btn-navy",style:{flex:2,padding:"1.2rem",fontSize:"1.3rem"},children:xe?"GUARDAR CAMBIOS":"GUARDAR PROVEEDOR"})]})]})]})}),k&&E.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE SERVICIOS"}),E.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx("button",{onClick:()=>{te(null),dt({name:"",phone:"",address:"",observations:""}),R(!0)},style:{width:"100%",padding:"1rem",background:"var(--primary-navy)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"+ AGREGAR NUEVO SERVICIO"})}),E.jsxs("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:[w.length===0&&E.jsx("li",{style:{textAlign:"center",padding:"1rem",color:"#666"},children:"NO HAY SERVICIOS REGISTRADOS."}),w.map(T=>E.jsxs("li",{onClick:()=>Wn(T),style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:ae=>ae.currentTarget.style.background="#f8f9fa",onMouseLeave:ae=>ae.currentTarget.style.background="transparent",children:[E.jsx("span",{style:{fontWeight:"bold",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:[E.jsxs("div",{children:[" ",T.phone]}),E.jsxs("div",{children:[" ",T.address]})]})]},T.id))]})]})}),U&&E.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:F?"EDITAR SERVICIO":"NUEVO SERVICIO"}),E.jsx("button",{onClick:()=>R(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"NOMBRE DEL SERVICIO"}),E.jsx("input",{type:"text",value:Le.name,onChange:T=>dt({...Le,name:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: Mantenimiento Aires"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"TELFONO"}),E.jsx("input",{type:"text",value:Le.phone,onChange:T=>dt({...Le,phone:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"11 2233-4455"})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DIRECCIN"}),E.jsx("input",{type:"text",value:Le.address,onChange:T=>dt({...Le,address:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Calle Falsa 123"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{value:Le.observations,onChange:T=>dt({...Le,observations:T.target.value.toUpperCase()}),className:"modal-input",rows:4,style:{resize:"none",textTransform:"uppercase"},placeholder:"Notas adicionales..."})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F&&E.jsx("button",{onClick:()=>Ut(F.id),style:{flex:1,padding:"1rem",background:"#e63946",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"ELIMINAR"}),E.jsx("button",{onClick:Rt,className:"btn-navy",style:{flex:2,padding:"1rem"},children:F?"GUARDAR CAMBIOS":"GUARDAR SERVICIO"})]})]})]})}),$e&&E.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE EMPLEADOS"}),E.jsx("button",{onClick:()=>M(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx("button",{onClick:()=>{Ne(null),fe({name:"",role:"",phone:"",observations:""}),ee(!0)},style:{width:"100%",padding:"1rem",background:"var(--primary-navy)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"+ AGREGAR NUEVO EMPLEADO"})}),E.jsxs("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:[ue.length===0&&E.jsx("li",{style:{textAlign:"center",padding:"1rem",color:"#666"},children:"NO HAY EMPLEADOS REGISTRADOS."}),ue.map(T=>E.jsxs("li",{onClick:()=>ka(T),style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:ae=>ae.currentTarget.style.background="#f8f9fa",onMouseLeave:ae=>ae.currentTarget.style.background="transparent",children:[E.jsx("span",{style:{fontWeight:"bold",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:[E.jsxs("div",{children:[" ",T.role]}),E.jsxs("div",{children:[" ",T.phone]})]})]},T.id))]})]})}),Q&&E.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:_e?"EDITAR EMPLEADO":"NUEVO EMPLEADO"}),E.jsx("button",{onClick:()=>ee(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"NOMBRE COMPLETO"}),E.jsx("input",{type:"text",value:ne.name,onChange:T=>fe({...ne,name:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: JUAN PREZ"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"PUESTO / ROL"}),E.jsx("input",{type:"text",value:ne.role,onChange:T=>fe({...ne,role:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: VENDEDOR"})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"TELFONO"}),E.jsx("input",{type:"text",value:ne.phone,onChange:T=>fe({...ne,phone:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"11 2233-4455"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{value:ne.observations,onChange:T=>fe({...ne,observations:T.target.value.toUpperCase()}),className:"modal-input",rows:4,style:{resize:"none"},placeholder:"TURNOS, DISPONIBILIDAD, ETC..."})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[_e&&E.jsx("button",{onClick:()=>Yo(_e.id),style:{flex:1,padding:"1rem",background:"#e63946",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"ELIMINAR"}),E.jsx("button",{onClick:Us,className:"btn-navy",style:{flex:2,padding:"1rem"},children:_e?"GUARDAR CAMBIOS":"GUARDAR EMPLEADO"})]})]})]})}),Nt&&E.jsx("div",{className:"modal-overlay",onClick:()=>Je(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"700px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"REALIZAR NUEVO PEDIDO"}),E.jsx("button",{onClick:()=>Je(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR PROVEEDOR"}),E.jsxs("select",{className:"modal-input",value:nt.providerId,onChange:T=>Wt({...nt,providerId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un proveedor..."}),W.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:nt.taskId||"0",onChange:T=>Wt({...nt,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-navy-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DEL PEDIDO"}),E.jsx("input",{type:"date",className:"modal-input",value:nt.orderDate,onChange:T=>Wt({...nt,orderDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE ENTREGA ESTIMADA"}),E.jsx("input",{type:"date",className:"modal-input",value:nt.deliveryDate,onChange:T=>Wt({...nt,deliveryDate:T.target.value})})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DETALLE DEL PEDIDO"}),E.jsx("textarea",{className:"modal-input",rows:5,value:nt.orderDetails,onChange:T=>Wt({...nt,orderDetails:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Escriba aqu los productos y cantidades..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:3,value:nt.observations,onChange:T=>Wt({...nt,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales sobre la entrega, pago, etc..."})]}),E.jsx("button",{onClick:La,className:"btn-navy",style:{padding:"1rem",marginTop:"1rem"},disabled:nt.providerId===0||!nt.orderDetails.trim(),children:"REGISTRAR PEDIDO"})]})]})}),as&&E.jsx("div",{className:"modal-overlay",onClick:()=>Yn(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"700px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"SOLICITAR NUEVO SERVICIO"}),E.jsx("button",{onClick:()=>Yn(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR PROVEEDOR DE SERVICIO"}),E.jsxs("select",{className:"modal-input",value:lt.serviceId,onChange:T=>We({...lt,serviceId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un prestador..."}),w.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:lt.taskId||"0",onChange:T=>We({...lt,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-orange-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE SOLICITUD"}),E.jsx("input",{type:"date",className:"modal-input",value:lt.requestDate,onChange:T=>We({...lt,requestDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE EJECUCIN / VISITA"}),E.jsx("input",{type:"date",className:"modal-input",value:lt.executionDate,onChange:T=>We({...lt,executionDate:T.target.value})})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DETALLE DEL TRABAJO / PROBLEMA"}),E.jsx("textarea",{className:"modal-input",rows:5,value:lt.details,onChange:T=>We({...lt,details:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Describa el servicio solicitado..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:3,value:lt.observations,onChange:T=>We({...lt,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales..."})]}),E.jsx("button",{onClick:Zn,className:"btn-orange",style:{padding:"1rem",marginTop:"1rem"},disabled:lt.serviceId===0||!lt.details.trim(),children:"REGISTRAR SOLICITUD"})]})]})}),xa&&E.jsx("div",{className:"modal-overlay",onClick:()=>Xt(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"REGISTRAR LLAMADA"}),E.jsx("button",{onClick:()=>Xt(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR EMPLEADO"}),E.jsxs("select",{className:"modal-input",value:Oe.employeeId,onChange:T=>wt({...Oe,employeeId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un empleado..."}),ue.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:Oe.taskId||"0",onChange:T=>wt({...Oe,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-violet-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE LA LLAMADA"}),E.jsx("input",{type:"date",className:"modal-input",value:Oe.callDate,onChange:T=>wt({...Oe,callDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"MOTIVO DE LA LLAMADA"}),E.jsx("textarea",{className:"modal-input",rows:4,value:Oe.reason,onChange:T=>wt({...Oe,reason:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Describa el motivo o resultado de la llamada..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:2,value:Oe.observations,onChange:T=>wt({...Oe,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales..."})]}),E.jsx("button",{onClick:Ps,className:"btn-violet",style:{padding:"1rem",marginTop:"1rem"},disabled:Oe.employeeId===0||!Oe.reason.trim(),children:"REGISTRAR LLAMADA"})]})]})}),Zt&&E.jsx("div",{className:"modal-overlay",onClick:()=>Sn(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsxs("h2",{className:"section-title",style:{margin:0},children:["DA: ",Fe]}),E.jsx("button",{onClick:()=>Sn(!1),style:{background:"none",border:"none",fontSize:"2rem",cursor:"pointer"},children:""})]}),new Date(Fe+"T00:00:00")>=new Date(an()+"T00:00:00")?E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[Fe===an()&&E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[E.jsxs("button",{className:"btn-action",onClick:()=>{Sn(!1),Je(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," REALIZAR PEDIDO"]}),E.jsxs("button",{className:"btn-action-orange",onClick:()=>{Sn(!1),Yn(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," SOLICITAR SERVICIO"]}),E.jsxs("button",{className:"btn-action-violet",onClick:()=>{Sn(!1),Xt(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," REGISTRAR LLAMADA"]}),E.jsx("hr",{style:{border:"0",borderTop:"2px dashed #eee",margin:"0.8rem 0"}})]}),Fe!==an()&&E.jsxs("div",{className:"card",style:{padding:"1.5rem",background:"#f8fafc"},children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"AGREGAR RECORDATORIO"}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[E.jsx("input",{type:"text",className:"modal-input",placeholder:"Ej: Comprar pintura...",value:gt,onChange:T=>zr(T.target.value.toUpperCase()),onKeyDown:T=>T.key==="Enter"&&Na()}),E.jsx("button",{onClick:Na,className:"btn-navy",style:{width:"auto",padding:"0 1.5rem"},children:"+"})]})]}),Fe!==an()&&E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"RECORDATORIOS DEL DA"}),E.jsx("ul",{children:Vi.filter(T=>T.date===Fe).map(T=>E.jsx("li",{style:{fontSize:"1rem",padding:"1rem"},children:T.text},T.id))})]}),[...Kn.filter(T=>T.orderDate===Fe||T.deliveryDate===Fe).map(T=>({...T,displayType:T.orderDate===Fe?"PEDIDO":"ENTREGA"})),...cn.filter(T=>T.requestDate===Fe||T.executionDate===Fe).map(T=>({...T,displayType:T.requestDate===Fe?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Tt.filter(T=>T.callDate===Fe).map(T=>({...T,displayType:"LLAMADA"}))].length>0&&E.jsxs("div",{style:{marginTop:"1.5rem"},children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"ACCIONES PROGRAMADAS"}),E.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[...Kn.filter(T=>T.orderDate===Fe||T.deliveryDate===Fe).map(T=>({...T,displayType:T.orderDate===Fe?"PEDIDO":"ENTREGA"})),...cn.filter(T=>T.requestDate===Fe||T.executionDate===Fe).map(T=>({...T,displayType:T.requestDate===Fe?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Tt.filter(T=>T.callDate===Fe).map(T=>({...T,displayType:"LLAMADA"}))].map((T,ae)=>{const Ge=T.type==="order"?W.find(mt=>mt.id===T.providerId)?.name:T.type==="service"?w.find(mt=>mt.id===T.serviceId)?.name:T.type==="call"?ue.find(mt=>mt.id===T.employeeId)?.name:"N/A";return E.jsxs("li",{onClick:()=>{jr({...T,personName:Ge}),Li(!0)},style:{cursor:"pointer",display:"flex",flexDirection:"column",padding:"1rem",background:"#f0f9ff",border:"2px solid #bae6fd",alignItems:"stretch"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[E.jsx("span",{style:{fontWeight:900,color:"var(--primary-navy)"},children:T.displayType}),E.jsx("span",{style:{fontSize:"0.8rem"},children:"VER DETALLE "})]}),E.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",marginTop:"0.2rem",color:"#000"},children:Ge})]},ae)})})]})]}):E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"ACCIONES REALIZADAS"}),E.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[...Kn.filter(T=>T.orderDate===Fe||T.deliveryDate===Fe).map(T=>({...T,displayType:T.orderDate===Fe?"PEDIDO":"ENTREGA"})),...cn.filter(T=>T.requestDate===Fe||T.executionDate===Fe).map(T=>({...T,displayType:T.requestDate===Fe?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Tt.filter(T=>T.callDate===Fe).map(T=>({...T,displayType:"LLAMADA"}))].map((T,ae)=>{const Ge=T.type==="order"?W.find(mt=>mt.id===T.providerId)?.name:T.type==="service"?w.find(mt=>mt.id===T.serviceId)?.name:T.type==="call"?ue.find(mt=>mt.id===T.employeeId)?.name:"N/A";return E.jsxs("li",{onClick:()=>{jr({...T,personName:Ge}),Li(!0)},style:{cursor:"pointer",display:"flex",flexDirection:"column",padding:"1.2rem",background:"#f8fafc",alignItems:"stretch"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[E.jsx("span",{style:{fontWeight:900,color:"var(--primary-navy)"},children:T.displayType}),E.jsx("span",{style:{fontSize:"0.8rem"},children:"VER DETALLE "})]}),E.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",marginTop:"0.2rem"},children:Ge})]},ae)})})]})]})}),ki&&E.jsx("div",{className:"modal-overlay",onClick:()=>Li(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"500px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"DETALLE"}),E.jsx("button",{onClick:()=>Li(!1),style:{background:"none",border:"none",fontSize:"2rem",cursor:"pointer"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem",fontSize:"1.1rem"},children:[E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"TIPO"}),E.jsx("div",{style:{fontWeight:900},children:An?.displayType})]}),E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"NOMBRE / RESPONSABLE"}),E.jsx("div",{style:{fontWeight:900},children:An?.personName})]}),E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"DETALLE / MOTIVO"}),E.jsx("div",{style:{whiteSpace:"pre-wrap"},children:An?.orderDetails||An?.details||An?.reason})]}),An?.observations&&E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"OBSERVACIONES"}),E.jsx("div",{style:{whiteSpace:"pre-wrap"},children:An.observations})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[E.jsx("button",{className:"btn-navy",onClick:()=>wn(An),style:{flex:1,padding:"1rem"},children:"EDITAR"}),E.jsx("button",{className:"btn-orange",onClick:()=>ei(An),style:{flex:1,padding:"1rem"},children:"ELIMINAR"})]})]})]})})]}):E.jsx("div",{className:"login-container",children:E.jsxs("div",{className:"card login-card",style:{maxWidth:"400px",textAlign:"center"},children:[E.jsx("img",{src:"/FerApp/logo.png",alt:"FerApp Logo",style:{width:"180px",height:"180px",marginBottom:"2rem"}}),E.jsx("h1",{style:{fontSize:"2.5rem",color:"var(--primary-navy)",marginBottom:"1rem"},children:"BIENVENIDO"}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2.5rem"},children:"Gestiona tus tareas y servicios de forma profesional."}),E.jsxs("button",{onClick:It,className:"google-btn",children:[E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M19.6429 10.2272C19.6429 9.5539 19.5824 8.90617 19.4699 8.28409H10V12.0114H15.4058C15.1724 13.2727 14.4633 14.338 13.3981 15.0483V17.5199H16.6494C18.5523 15.7671 19.6429 13.179 19.6429 10.2272Z",fill:"#4285F4"}),E.jsx("path",{d:"M10 20C12.7 20 14.9659 19.1051 16.6494 17.5199L13.3981 15.0483C12.4972 15.6506 11.3523 16.0114 10 16.0114C7.39205 16.0114 5.18466 14.2528 4.39773 11.8892H1.05398V14.483C2.70455 17.7614 6.08807 20 10 20Z",fill:"#34A853"}),E.jsx("path",{d:"M4.39773 11.8892C4.19886 11.2926 4.08523 10.6562 4.08523 10C4.08523 9.34375 4.19886 8.70739 4.39773 8.1108V5.51705H1.05398C0.380682 6.86364 0 8.38921 0 10C0 11.6108 0.380682 13.1364 1.05398 14.483L4.39773 11.8892Z",fill:"#FBBC05"}),E.jsx("path",{d:"M10 3.98864C11.4716 3.98864 12.7926 4.49716 13.8324 5.4858L16.7188 2.59943C14.9659 0.988636 12.7 0 10 0C6.08807 0 2.70455 2.23864 1.05398 5.51705L4.39773 8.1108C5.18466 5.74716 7.39205 3.98864 10 3.98864Z",fill:"#EA4335"})]}),"INICIAR SESIN CON GOOGLE"]})]})})}fA.createRoot(document.getElementById("root")).render(E.jsx(we.StrictMode,{children:E.jsx(Yx,{})}));
