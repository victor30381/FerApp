(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var jd={exports:{}},Hl={};var $_;function sA(){if($_)return Hl;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var J_;function aA(){return J_||(J_=1,jd.exports=sA()),jd.exports}var E=aA(),zd={exports:{}},Te={};var W_;function oA(){if(W_)return Te;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.iterator;function Y(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ie={};function me(M,Q,ee){this.props=M,this.context=Q,this.refs=ie,this.updater=ee||W}me.prototype.isReactComponent={},me.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},me.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ae(){}Ae.prototype=me.prototype;function ge(M,Q,ee){this.props=M,this.context=Q,this.refs=ie,this.updater=ee||W}var De=ge.prototype=new Ae;De.constructor=ge,re(De,me.prototype),De.isPureReactComponent=!0;var tt=Array.isArray;function Ne(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(M,Q,ee){var ne=ee.ref;return{$$typeof:r,type:M,key:Q,ref:ne!==void 0?ne:null,props:ee}}function k(M,Q){return x(M.type,Q,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return Q[ee]})}var R=/\/+/g;function Ue(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Q.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ne,Ne):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Q,ee,ne,fe){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case e:Oe=!0;break;case b:return Oe=M._init,F(Oe(M._payload),Q,ee,ne,fe)}}if(Oe)return fe=fe(M),Oe=ne===""?"."+Ue(M,0):ne,tt(fe)?(ee="",Oe!=null&&(ee=Oe.replace(R,"$&/")+"/"),F(fe,Q,ee,"",function(nt){return nt})):fe!=null&&(N(fe)&&(fe=k(fe,ee+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(R,"$&/")+"/")+Oe)),Q.push(fe)),1;Oe=0;var xt=ne===""?".":ne+":";if(tt(M))for(var Je=0;Je<M.length;Je++)ne=M[Je],_e=xt+Ue(ne,Je),Oe+=F(ne,Q,ee,_e,fe);else if(Je=Y(M),typeof Je=="function")for(M=Je.call(M),Je=0;!(ne=M.next()).done;)ne=ne.value,_e=xt+Ue(ne,Je++),Oe+=F(ne,Q,ee,_e,fe);else if(_e==="object"){if(typeof M.then=="function")return F(dt(M),Q,ee,ne,fe);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function te(M,Q,ee){if(M==null)return M;var ne=[],fe=0;return F(M,ne,"","",function(_e){return Q.call(ee,_e,fe++)}),ne}function ue(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var He=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$e={map:te,forEach:function(M,Q,ee){te(M,function(){Q.apply(this,arguments)},ee)},count:function(M){var Q=0;return te(M,function(){Q++}),Q},toArray:function(M){return te(M,function(Q){return Q})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=I,Te.Children=$e,Te.Component=me,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=ge,Te.StrictMode=s,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,Q,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=re({},M.props),fe=M.key;if(Q!=null)for(_e in Q.key!==void 0&&(fe=""+Q.key),Q)!w.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(ne[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)ne.children=ee;else if(1<_e){for(var Oe=Array(_e),xt=0;xt<_e;xt++)Oe[xt]=arguments[xt+2];ne.children=Oe}return x(M.type,fe,ne)},Te.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Te.createElement=function(M,Q,ee){var ne,fe={},_e=null;if(Q!=null)for(ne in Q.key!==void 0&&(_e=""+Q.key),Q)w.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=Q[ne]);var Oe=arguments.length-2;if(Oe===1)fe.children=ee;else if(1<Oe){for(var xt=Array(Oe),Je=0;Je<Oe;Je++)xt[Je]=arguments[Je+2];fe.children=xt}if(M&&M.defaultProps)for(ne in Oe=M.defaultProps,Oe)fe[ne]===void 0&&(fe[ne]=Oe[ne]);return x(M,_e,fe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:p,render:M}},Te.isValidElement=N,Te.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ue}},Te.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},Te.startTransition=function(M){var Q=D.T,ee={};D.T=ee;try{var ne=M(),fe=D.S;fe!==null&&fe(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ne,He)}catch(_e){He(_e)}finally{Q!==null&&ee.types!==null&&(Q.types=ee.types),D.T=Q}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(M){return D.H.use(M)},Te.useActionState=function(M,Q,ee){return D.H.useActionState(M,Q,ee)},Te.useCallback=function(M,Q){return D.H.useCallback(M,Q)},Te.useContext=function(M){return D.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,Q){return D.H.useDeferredValue(M,Q)},Te.useEffect=function(M,Q){return D.H.useEffect(M,Q)},Te.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(M,Q,ee){return D.H.useImperativeHandle(M,Q,ee)},Te.useInsertionEffect=function(M,Q){return D.H.useInsertionEffect(M,Q)},Te.useLayoutEffect=function(M,Q){return D.H.useLayoutEffect(M,Q)},Te.useMemo=function(M,Q){return D.H.useMemo(M,Q)},Te.useOptimistic=function(M,Q){return D.H.useOptimistic(M,Q)},Te.useReducer=function(M,Q,ee){return D.H.useReducer(M,Q,ee)},Te.useRef=function(M){return D.H.useRef(M)},Te.useState=function(M){return D.H.useState(M)},Te.useSyncExternalStore=function(M,Q,ee){return D.H.useSyncExternalStore(M,Q,ee)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.4",Te}var Z_;function Om(){return Z_||(Z_=1,zd.exports=oA()),zd.exports}var we=Om(),Bd={exports:{}},Fl={},qd={exports:{}},Hd={};var ev;function lA(){return ev||(ev=1,(function(r){function e(F,te){var ue=F.length;F.push(te);e:for(;0<ue;){var He=ue-1>>>1,$e=F[He];if(0<l($e,te))F[He]=te,F[ue]=$e,ue=He;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var te=F[0],ue=F.pop();if(ue!==te){F[0]=ue;e:for(var He=0,$e=F.length,M=$e>>>1;He<M;){var Q=2*(He+1)-1,ee=F[Q],ne=Q+1,fe=F[ne];if(0>l(ee,ue))ne<$e&&0>l(fe,ee)?(F[He]=fe,F[ne]=ue,He=ne):(F[He]=ee,F[Q]=ue,He=Q);else if(ne<$e&&0>l(fe,ue))F[He]=fe,F[ne]=ue,He=ne;else break e}}return te}function l(F,te){var ue=F.sortIndex-te.sortIndex;return ue!==0?ue:F.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,I=null,V=3,Y=!1,W=!1,re=!1,ie=!1,me=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function De(F){for(var te=i(y);te!==null;){if(te.callback===null)s(y);else if(te.startTime<=F)s(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function tt(F){if(re=!1,De(F),!W)if(i(_)!==null)W=!0,Ne||(Ne=!0,U());else{var te=i(y);te!==null&&dt(tt,te.startTime-F)}}var Ne=!1,D=-1,w=5,x=-1;function k(){return ie?!0:!(r.unstable_now()-x<w)}function N(){if(ie=!1,Ne){var F=r.unstable_now();x=F;var te=!0;try{e:{W=!1,re&&(re=!1,Ae(D),D=-1),Y=!0;var ue=V;try{t:{for(De(F),I=i(_);I!==null&&!(I.expirationTime>F&&k());){var He=I.callback;if(typeof He=="function"){I.callback=null,V=I.priorityLevel;var $e=He(I.expirationTime<=F);if(F=r.unstable_now(),typeof $e=="function"){I.callback=$e,De(F),te=!0;break t}I===i(_)&&s(_),De(F)}else s(_);I=i(_)}if(I!==null)te=!0;else{var M=i(y);M!==null&&dt(tt,M.startTime-F),te=!1}}break e}finally{I=null,V=ue,Y=!1}te=void 0}}finally{te?U():Ne=!1}}}var U;if(typeof ge=="function")U=function(){ge(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ue=R.port2;R.port1.onmessage=N,U=function(){Ue.postMessage(null)}}else U=function(){me(N,0)};function dt(F,te){D=me(function(){F(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var ue=V;V=te;try{return F()}finally{V=ue}},r.unstable_requestPaint=function(){ie=!0},r.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ue=V;V=F;try{return te()}finally{V=ue}},r.unstable_scheduleCallback=function(F,te,ue){var He=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?He+ue:He):ue=He,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ue+$e,F={id:b++,callback:te,priorityLevel:F,startTime:ue,expirationTime:$e,sortIndex:-1},ue>He?(F.sortIndex=ue,e(y,F),i(_)===null&&F===i(y)&&(re?(Ae(D),D=-1):re=!0,dt(tt,ue-He))):(F.sortIndex=$e,e(_,F),W||Y||(W=!0,Ne||(Ne=!0,U()))),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var te=V;return function(){var ue=V;V=te;try{return F.apply(this,arguments)}finally{V=ue}}}})(Hd)),Hd}var tv;function uA(){return tv||(tv=1,qd.exports=lA()),qd.exports}var Fd={exports:{}},fn={};var nv;function cA(){if(nv)return fn;nv=1;var r=Om();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,b)},fn.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},fn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},fn.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},fn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,I=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:V,fetchPriority:Y}):b==="script"&&s.d.X(_,{crossOrigin:I,integrity:V,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},fn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,I=p(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},fn.requestFormReset=function(_){s.d.r(_)},fn.unstable_batchedUpdates=function(_,y){return _(y)},fn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var iv;function hA(){if(iv)return Fd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=cA(),Fd.exports}var rv;function fA(){if(rv)return Fl;rv=1;var r=uA(),e=Om(),i=hA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,S=h.child;S;){if(S===a){g=!0,a=h,o=f;break}if(S===o){g=!0,o=h,a=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===a){g=!0,a=f,o=h;break}if(S===o){g=!0,o=f,a=h;break}S=S.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var I=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case ie:return"StrictMode";case tt:return"Suspense";case Ne:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ge:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Ue(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ue(t(n))}catch{}}return null}var dt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},He=[],$e=-1;function M(t){return{current:t}}function Q(t){0>$e||(t.current=He[$e],He[$e]=null,$e--)}function ee(t,n){$e++,He[$e]=t.current,t.current=n}var ne=M(null),fe=M(null),_e=M(null),Oe=M(null);function xt(t,n){switch(ee(_e,n),ee(fe,t),ee(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v_(n),t=E_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ne),ee(ne,t)}function Je(){Q(ne),Q(fe),Q(_e)}function nt(t){t.memoizedState!==null&&ee(Oe,t);var n=ne.current,a=E_(n,t.type);n!==a&&(ee(fe,t),ee(ne,a))}function Zt(t){fe.current===t&&(Q(ne),Q(fe)),Oe.current===t&&(Q(Oe),jl._currentValue=ue)}var Qn,Lr;function hn(t){if(Qn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Qn=n&&n[1]||"",Lr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+t+Lr}var Ps=!1;function lr(t,n){if(!t||Ps)return"";Ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var C=g.split(`
`),z=S.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hn(a):""}function Xn(t,n){switch(t.tag){case 26:case 27:case 5:return hn(t.type);case 16:return hn("Lazy");case 13:return t.child!==n&&n!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return hn("Activity");default:return""}}function lt(t){try{var n="",a=null;do n+=Xn(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var We=Object.prototype.hasOwnProperty,Et=r.unstable_scheduleCallback,Vi=r.unstable_cancelCallback,ki=r.unstable_shouldYield,js=r.unstable_requestPaint,en=r.unstable_now,Sn=r.unstable_getCurrentPriorityLevel,Ge=r.unstable_ImmediatePriority,zs=r.unstable_UserBlockingPriority,Li=r.unstable_NormalPriority,Ui=r.unstable_LowPriority,An=r.unstable_IdlePriority,Bs=r.log,Oa=r.unstable_setDisableYieldValue,Xt=null,Me=null;function wt(t){if(typeof Bs=="function"&&Oa(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Xt,t)}catch{}}var pt=Math.clz32?Math.clz32:Hs,qs=Math.log,mi=Math.LN2;function Hs(t){return t>>>=0,t===0?32:31-(qs(t)/mi|0)|0}var bn=256,pi=262144,It=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?h=$n(o):(g&=S,g!==0?h=$n(g):a||(a=S&~t,a!==0&&(h=$n(a))))):(S=o&~f,S!==0?h=$n(S):g!==0?h=$n(g):a||(a=o&~t,a!==0&&(h=$n(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Ln(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Va(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-pt(a),X=1<<G;S[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&ji(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ji(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function zi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-pt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function ur(t,n){var a=n&-n;return a=(a&42)!==0?1:Bi(a),(a&(t.suspendedLanes|n))!==0?0:a}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ka(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function Un(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Pn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Pn,Ut="__reactProps$"+Pn,Wn="__reactContainer$"+Pn,Ur="__reactEvents$"+Pn,$o="__reactListeners$"+Pn,La="__reactHandles$"+Pn,Ua="__reactResources$"+Pn,Zn="__reactMarker$"+Pn;function Pr(t){delete t[Rt],delete t[Ut],delete t[Ur],delete t[$o],delete t[La]}function ei(t){var n=t[Rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[Rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=R_(t);t!==null;){if(a=t[Rt])return a;t=R_(t)}return n}t=a,a=t.parentNode}return null}function T(t){if(t=t[Rt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ae(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Tt(t){var n=t[Ua];return n||(n=t[Ua]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(t){t[Zn]=!0}var yi=new Set,_i={};function Nt(t,n){In(t,n),In(t+"Capture",n)}function In(t,n){for(_i[t]=n,t=0;t<n.length;t++)yi.add(n[t])}var be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ve={},yn={};function Pa(t){return We.call(yn,t)?!0:We.call(Ve,t)?!1:be.test(t)?yn[t]=!0:(Ve[t]=!0,!1)}function jr(t,n,a){if(Pa(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function _n(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ye(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=zr(t)?"checked":"value";t._valueTracker=Jo(t,n,""+t[n])}}function Fs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=zr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gs=/[\n"\\]/g;function Rn(t){return t.replace(Gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ja(t,n,a,o,h,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Wo(t,g,$t(n)):a!=null?Wo(t,g,$t(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+$t(S):t.removeAttribute("name")}function Eu(t,n,a,o,h,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,S||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),rt(t)}function Wo(t,n,a){n==="number"&&qi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Tu(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function qr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),rt(t)}function Cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Su.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function el(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Zo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Zo(t,f,n[f])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vi(){}var tl=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Hi=null;function Ks(t){var n=T(t);if(n&&(t=n.stateNode)){var a=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(s(90));ja(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Fs(o)}break e;case"textarea":Tu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Br(t,!!a.multiple,n,!1)}}}var qa=!1;function Gr(t,n,a){if(qa)return t(n,a);qa=!0;try{var o=t(n);return o}finally{if(qa=!1,(Fr!==null||Hi!==null)&&(gc(),Fr&&(n=Fr,t=Hi,Hi=Fr=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function Ei(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(ni)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ys=!1}var Fi=null,nl=null,Qs=null;function il(){if(Qs)return Qs;var t,n=nl,a=n.length,o,h="value"in Fi?Fi.value:Fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Qs=h.slice(t,1<o?1-o:void 0)}function Xs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function cr(){return!0}function Ti(){return!1}function tn(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cr:Ti,this.isPropagationStopped=Ti,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=tn(hr),Kr=I({},hr,{view:0,detail:0}),rl=tn(Kr),Yr,Ha,Ki,Fa=I({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(Yr=t.screenX-Ki.screenX,Ha=t.screenY-Ki.screenY):Ha=Yr=0,Ki=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),sl=tn(Fa),$s=I({},Fa,{dataTransfer:0}),bu=tn($s),wu=I({},Kr,{relatedTarget:0}),Js=tn(wu),al=I({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=tn(al),Ga=I({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=tn(Ga),Cu=I({},hr,{data:0}),Yi=tn(Cu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Qr(){return Ou}var vn=I({},Kr,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=tn(vn),Vu=I({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=tn(Vu),u=I({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),m=tn(u),v=I({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(v),P=I({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=tn(P),Z=I({},hr,{newState:0,oldState:0}),Re=tn(Z),Ot=[9,13,27,32],Ze=ni&&"CompositionEvent"in window,St=null;ni&&"documentMode"in document&&(St=document.documentMode);var ii=ni&&"TextEvent"in window&&!St,Qi=ni&&(!Ze||St&&8<St&&11>=St),Si=" ",Ai=!1;function Ws(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function DS(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Ai=!0,Si);case"textInput":return t=n.data,t===Si&&Ai?null:t;default:return null}}function xS(t,n){if(Ya)return t==="compositionend"||!Ze&&Ws(t,n)?(t=il(),Qs=nl=Fi=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qi&&n.locale!=="ko"?null:n.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!NS[t.type]:n==="textarea"}function Np(t,n,a,o){Fr?Hi?Hi.push(o):Hi=[o]:Fr=o,n=Ac(n,"onChange"),0<n.length&&(a=new Gi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ol=null,ll=null;function OS(t){d_(t,0)}function ku(t){var n=ae(t);if(Fs(n))return t}function Op(t,n){if(t==="change")return n}var Mp=!1;if(ni){var Gh;if(ni){var Kh="oninput"in document;if(!Kh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Kh=typeof Vp.oninput=="function"}Gh=Kh}else Gh=!1;Mp=Gh&&(!document.documentMode||9<document.documentMode)}function kp(){ol&&(ol.detachEvent("onpropertychange",Lp),ll=ol=null)}function Lp(t){if(t.propertyName==="value"&&ku(ll)){var n=[];Np(n,ll,t,ti(t)),Gr(OS,n)}}function MS(t,n,a){t==="focusin"?(kp(),ol=n,ll=a,ol.attachEvent("onpropertychange",Lp)):t==="focusout"&&kp()}function VS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(ll)}function kS(t,n){if(t==="click")return ku(n)}function LS(t,n){if(t==="input"||t==="change")return ku(n)}function US(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:US;function ul(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!We.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var a=Up(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=qi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=qi(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var PS=ni&&"documentMode"in document&&11>=document.documentMode,Qa=null,Qh=null,cl=null,Xh=!1;function Bp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||Qa==null||Qa!==qi(o)||(o=Qa,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),cl&&ul(cl,o)||(cl=o,o=Ac(Qh,"onSelect"),0<o.length&&(n=new Gi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Qa)))}function Zs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Xa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},$h={},qp={};ni&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ea(t){if($h[t])return $h[t];if(!Xa[t])return t;var n=Xa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qp)return $h[t]=n[a];return t}var Hp=ea("animationend"),Fp=ea("animationiteration"),Gp=ea("animationstart"),jS=ea("transitionrun"),zS=ea("transitionstart"),BS=ea("transitioncancel"),Kp=ea("transitionend"),Yp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function bi(t,n){Yp.set(t,n),Nt(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ri=[],$a=0,Wh=0;function Uu(){for(var t=$a,n=Wh=$a=0;n<t;){var a=ri[n];ri[n++]=null;var o=ri[n];ri[n++]=null;var h=ri[n];ri[n++]=null;var f=ri[n];if(ri[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Qp(a,h,f)}}function Pu(t,n,a,o){ri[$a++]=t,ri[$a++]=n,ri[$a++]=a,ri[$a++]=o,Wh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,n,a,o){return Pu(t,n,a,o),ju(t)}function ta(t,n){return Pu(t,null,null,n),ju(t)}function Qp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ju(t){if(50<Ol)throw Ol=0,ud=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ja={};function qS(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,a,o){return new qS(t,n,a,o)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dr(t,n){var a=t.alternate;return a===null?(a=zn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")ef(t)&&(g=1);else if(typeof t=="string")g=Y1(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=zn(31,a,n,h),t.elementType=x,t.lanes=f,t;case re:return na(a.children,h,f,n);case ie:g=8,h|=24;break;case me:return t=zn(12,a,n,h|2),t.elementType=me,t.lanes=f,t;case tt:return t=zn(13,a,n,h),t.elementType=tt,t.lanes=f,t;case Ne:return t=zn(19,a,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:g=10;break e;case Ae:g=9;break e;case De:g=11;break e;case D:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=zn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function na(t,n,a,o){return t=zn(7,t,o,n),t.lanes=a,t}function tf(t,n,a){return t=zn(6,t,null,n),t.lanes=a,t}function $p(t){var n=zn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,a){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function si(t,n){if(typeof t=="object"&&t!==null){var a=Jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:lt(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var Wa=[],Za=0,Bu=null,hl=0,ai=[],oi=0,Xr=null,Xi=1,$i="";function mr(t,n){Wa[Za++]=hl,Wa[Za++]=Bu,Bu=t,hl=n}function Wp(t,n,a){ai[oi++]=Xi,ai[oi++]=$i,ai[oi++]=Xr,Xr=t;var o=Xi;t=$i;var h=32-pt(o)-1;o&=~(1<<h),a+=1;var f=32-pt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Xi=1<<32-pt(n)+h|a<<h|o,$i=f+t}else Xi=1<<f|a<<h|o,$i=t}function rf(t){t.return!==null&&(mr(t,1),Wp(t,1,0))}function sf(t){for(;t===Bu;)Bu=Wa[--Za],Wa[Za]=null,hl=Wa[--Za],Wa[Za]=null;for(;t===Xr;)Xr=ai[--oi],ai[oi]=null,$i=ai[--oi],ai[oi]=null,Xi=ai[--oi],ai[oi]=null}function Zp(t,n){ai[oi++]=Xi,ai[oi++]=$i,ai[oi++]=Xr,Xi=n.id,$i=n.overflow,Xr=t}var nn=null,gt=null,Fe=!1,$r=null,li=!1,af=Error(s(519));function Jr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(si(n,t)),af}function eg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[Ut]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Le(Vl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),qr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y_(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=vi),n=!0):n=!1,n||Jr(t,!0)}function tg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:nn=nn.return}}function eo(t){if(t!==nn)return!1;if(!Fe)return tg(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&gt&&Jr(t),tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=I_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=I_(t)}else n===27?(n=gt,hs(t.type)?(t=Dd,Dd=null,gt=t):gt=n):gt=nn?ci(t.stateNode.nextSibling):null;return!0}function ia(){gt=nn=null,Fe=!1}function of(){var t=$r;return t!==null&&(On===null?On=t:On.push.apply(On,t),$r=null),t}function fl(t){$r===null?$r=[t]:$r.push(t)}var lf=M(null),ra=null,pr=null;function Wr(t,n,a){ee(lf,n._currentValue),n._currentValue=a}function gr(t){t._currentValue=lf.current,Q(lf)}function uf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function cf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),uf(f.return,a,t),o||(g=null);break e}f=S.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),uf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function to(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var S=h.type;jn(h.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(h===Oe.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&cf(n,t,a,o),n.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ra=t,pr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return ng(ra,t)}function Hu(t,n){return ra===null&&sa(t),ng(t,n)}function ng(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pr===null){if(t===null)throw Error(s(308));pr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pr=pr.next=n;return a}var HS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},FS=r.unstable_scheduleCallback,GS=r.unstable_NormalPriority,Pt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new HS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var ml=null,ff=0,no=0,io=null;function KS(t,n){if(ml===null){var a=ml=[];ff=0,no=pd(),io={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,n.then(ig,ig),n}function ig(){if(--ff===0&&ml!==null){io!==null&&(io.status="fulfilled");var t=ml;ml=null,no=0,io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function YS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=F.S;F.S=function(t,n){By=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KS(t,n),rg!==null&&rg(t,n)};var aa=M(null);function df(){var t=aa.current;return t!==null?t:mt.pooledCache}function Fu(t,n){n===null?ee(aa,aa.current):ee(aa,n.pool)}function sg(){var t=df();return t===null?null:{parent:Pt._currentValue,pool:t}}var ro=Error(s(460)),mf=Error(s(474)),Gu=Error(s(542)),Ku={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(vi,vi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t;default:if(typeof n.status=="string")n.then(vi,vi);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t}throw la=n,ro}}function oa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(la=a,ro):a}}var la=null;function lg(){if(la===null)throw Error(s(459));var t=la;return la=null,t}function ug(t){if(t===ro||t===Gu)throw Error(s(483))}var so=null,pl=0;function Yu(t){var n=pl;return pl+=1,so===null&&(so=[]),og(so,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){function n(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=dr(L,O),L.index=0,L.sibling=null,L}function f(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,O,j,K){return O===null||O.tag!==6?(O=tf(j,L.mode,K),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,K){var he=j.type;return he===re?G(L,O,j.props.children,K,j.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&oa(he)===O.type)?(O=h(O,j.props),gl(O,j),O.return=L,O):(O=zu(j.type,j.key,j.props,null,L.mode,K),gl(O,j),O.return=L,O)}function z(L,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=nf(j,L.mode,K),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function G(L,O,j,K,he){return O===null||O.tag!==7?(O=na(j,L.mode,K,he),O.return=L,O):(O=h(O,j),O.return=L,O)}function X(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return j=zu(O.type,O.key,O.props,null,L.mode,j),gl(j,O),j.return=L,j;case W:return O=nf(O,L.mode,j),O.return=L,O;case w:return O=oa(O),X(L,O,j)}if(dt(O)||U(O))return O=na(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return X(L,Yu(O),j);if(O.$$typeof===ge)return X(L,Hu(L,O),j);Qu(L,O)}return null}function B(L,O,j,K){var he=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:S(L,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===he?C(L,O,j,K):null;case W:return j.key===he?z(L,O,j,K):null;case w:return j=oa(j),B(L,O,j,K)}if(dt(j)||U(j))return he!==null?null:G(L,O,j,K,null);if(typeof j.then=="function")return B(L,O,Yu(j),K);if(j.$$typeof===ge)return B(L,O,Hu(L,j),K);Qu(L,j)}return null}function H(L,O,j,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,S(O,L,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return L=L.get(K.key===null?j:K.key)||null,C(O,L,K,he);case W:return L=L.get(K.key===null?j:K.key)||null,z(O,L,K,he);case w:return K=oa(K),H(L,O,j,K,he)}if(dt(K)||U(K))return L=L.get(j)||null,G(O,L,K,he,null);if(typeof K.then=="function")return H(L,O,j,Yu(K),he);if(K.$$typeof===ge)return H(L,O,j,Hu(O,K),he);Qu(O,K)}return null}function oe(L,O,j,K){for(var he=null,Qe=null,le=O,xe=O=0,je=null;le!==null&&xe<j.length;xe++){le.index>xe?(je=le,le=null):je=le.sibling;var Xe=B(L,le,j[xe],K);if(Xe===null){le===null&&(le=je);break}t&&le&&Xe.alternate===null&&n(L,le),O=f(Xe,O,xe),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe,le=je}if(xe===j.length)return a(L,le),Fe&&mr(L,xe),he;if(le===null){for(;xe<j.length;xe++)le=X(L,j[xe],K),le!==null&&(O=f(le,O,xe),Qe===null?he=le:Qe.sibling=le,Qe=le);return Fe&&mr(L,xe),he}for(le=o(le);xe<j.length;xe++)je=H(le,L,xe,j[xe],K),je!==null&&(t&&je.alternate!==null&&le.delete(je.key===null?xe:je.key),O=f(je,O,xe),Qe===null?he=je:Qe.sibling=je,Qe=je);return t&&le.forEach(function(gs){return n(L,gs)}),Fe&&mr(L,xe),he}function pe(L,O,j,K){if(j==null)throw Error(s(151));for(var he=null,Qe=null,le=O,xe=O=0,je=null,Xe=j.next();le!==null&&!Xe.done;xe++,Xe=j.next()){le.index>xe?(je=le,le=null):je=le.sibling;var gs=B(L,le,Xe.value,K);if(gs===null){le===null&&(le=je);break}t&&le&&gs.alternate===null&&n(L,le),O=f(gs,O,xe),Qe===null?he=gs:Qe.sibling=gs,Qe=gs,le=je}if(Xe.done)return a(L,le),Fe&&mr(L,xe),he;if(le===null){for(;!Xe.done;xe++,Xe=j.next())Xe=X(L,Xe.value,K),Xe!==null&&(O=f(Xe,O,xe),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe);return Fe&&mr(L,xe),he}for(le=o(le);!Xe.done;xe++,Xe=j.next())Xe=H(le,L,xe,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&le.delete(Xe.key===null?xe:Xe.key),O=f(Xe,O,xe),Qe===null?he=Xe:Qe.sibling=Xe,Qe=Xe);return t&&le.forEach(function(rA){return n(L,rA)}),Fe&&mr(L,xe),he}function ft(L,O,j,K){if(typeof j=="object"&&j!==null&&j.type===re&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:e:{for(var he=j.key;O!==null;){if(O.key===he){if(he=j.type,he===re){if(O.tag===7){a(L,O.sibling),K=h(O,j.props.children),K.return=L,L=K;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&oa(he)===O.type){a(L,O.sibling),K=h(O,j.props),gl(K,j),K.return=L,L=K;break e}a(L,O);break}else n(L,O);O=O.sibling}j.type===re?(K=na(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=zu(j.type,j.key,j.props,null,L.mode,K),gl(K,j),K.return=L,L=K)}return g(L);case W:e:{for(he=j.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),K=h(O,j.children||[]),K.return=L,L=K;break e}else{a(L,O);break}else n(L,O);O=O.sibling}K=nf(j,L.mode,K),K.return=L,L=K}return g(L);case w:return j=oa(j),ft(L,O,j,K)}if(dt(j))return oe(L,O,j,K);if(U(j)){if(he=U(j),typeof he!="function")throw Error(s(150));return j=he.call(j),pe(L,O,j,K)}if(typeof j.then=="function")return ft(L,O,Yu(j),K);if(j.$$typeof===ge)return ft(L,O,Hu(L,j),K);Qu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),K=h(O,j),K.return=L,L=K):(a(L,O),K=tf(j,L.mode,K),K.return=L,L=K),g(L)):a(L,O)}return function(L,O,j,K){try{pl=0;var he=ft(L,O,j,K);return so=null,he}catch(le){if(le===ro||le===Gu)throw le;var Qe=zn(29,le,null,L.mode);return Qe.lanes=K,Qe.return=L,Qe}}}var ua=cg(!0),hg=cg(!1),Zr=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(t),Qp(t,null,a),n}return Pu(t,o,n,a),ju(t)}function yl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,zi(t,a)}}function yf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var _f=!1;function _l(){if(_f){var t=io;if(t!==null)throw t}}function vl(t,n,a,o){_f=!1;var h=t.updateQueue;Zr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==g&&(S===null?G.firstBaseUpdate=z:S.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,G=z=C=null,S=f;do{var B=S.lane&-536870913,H=B!==S.lane;if(H?(Pe&B)===B:(o&B)===B){B!==0&&B===no&&(_f=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var oe=t,pe=S;B=n;var ft=a;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){X=oe.call(ft,X,B);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,B=typeof oe=="function"?oe.call(ft,X,B):oe,B==null)break e;X=I({},X,B);break e;case 2:Zr=!0}}B=S.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),as|=g,t.lanes=g,t.memoizedState=X}}function fg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fg(a[t],n)}var ao=M(null),Xu=M(0);function mg(t,n){t=wr,ee(Xu,t),ee(ao,n),wr=t|n.baseLanes}function vf(){ee(Xu,wr),ee(ao,ao.current)}function Ef(){wr=Xu.current,Q(ao),Q(Xu)}var Bn=M(null),ui=null;function ns(t){var n=t.alternate;ee(Mt,Mt.current&1),ee(Bn,t),ui===null&&(n===null||ao.current!==null||n.memoizedState!==null)&&(ui=t)}function Tf(t){ee(Mt,Mt.current),ee(Bn,t),ui===null&&(ui=t)}function pg(t){t.tag===22?(ee(Mt,Mt.current),ee(Bn,t),ui===null&&(ui=t)):is()}function is(){ee(Mt,Mt.current),ee(Bn,Bn.current)}function qn(t){Q(Bn),ui===t&&(ui=null),Q(Mt)}var Mt=M(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var yr=0,Ce=null,ct=null,jt=null,Ju=!1,oo=!1,ca=!1,Wu=0,El=0,lo=null,QS=0;function Ct(){throw Error(s(321))}function Sf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!jn(t[a],n[a]))return!1;return!0}function Af(t,n,a,o,h,f){return yr=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wg:Pf,ca=!1,f=a(o,h),ca=!1,oo&&(f=yg(n,a,o,h)),gg(t),f}function gg(t){F.H=Al;var n=ct!==null&&ct.next!==null;if(yr=0,jt=ct=Ce=null,Ju=!1,El=0,lo=null,n)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&qu(t)&&(zt=!0))}function yg(t,n,a,o){Ce=t;var h=0;do{if(oo&&(lo=null),El=0,oo=!1,25<=h)throw Error(s(301));if(h+=1,jt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Zg,f=n(a,o)}while(oo);return f}function XS(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ce.flags|=1024),n}function bf(){var t=Wu!==0;return Wu=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(Ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ju=!1}yr=0,jt=ct=Ce=null,oo=!1,El=Wu=0,lo=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ce.memoizedState=jt=t:jt=jt.next=t,jt}function Vt(){if(ct===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=jt===null?Ce.memoizedState:jt.next;if(n!==null)jt=n,ct=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Ce.memoizedState=jt=t:jt=jt.next=t}return jt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,lo===null&&(lo=[]),t=og(lo,t,n),n=Ce,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wg:Pf),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ge)return rn(t)}throw Error(s(438,String(t)))}function Rf(t){var n=null,a=Ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zu(),Ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function _r(t,n){return typeof n=="function"?n(t):n}function tc(t){var n=Vt();return Cf(n,ct,t)}function Cf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var S=g=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Pe&X)===X:(yr&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===no&&(G=!0);else if((yr&B)===B){z=z.next,B===no&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=X,g=f):C=C.next=X,Ce.lanes|=B,as|=B;X=z.action,ca&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=B,g=f):C=C.next=B,Ce.lanes|=X,as|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=S,!jn(f,t.memoizedState)&&(zt=!0,G&&(a=io,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var n=Vt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);jn(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _g(t,n,a){var o=Ce,h=Vt(),f=Fe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!jn((ct||h).memoizedState,a);if(g&&(h.memoizedState=a,zt=!0),h=h.queue,Of(Tg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,uo(9,{destroy:void 0},Eg.bind(null,o,h,a,n),null),mt===null)throw Error(s(349));f||(yr&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ce.updateQueue,n===null?(n=Zu(),Ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eg(t,n,a,o){n.value=a,n.getSnapshot=o,Sg(n)&&Ag(t)}function Tg(t,n,a){return a(function(){Sg(n)&&Ag(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!jn(t,a)}catch{return!0}}function Ag(t){var n=ta(t,2);n!==null&&Mn(n,t,2)}function xf(t){var n=En();if(typeof t=="function"){var a=t;if(t=a(),ca){wt(!0);try{a()}finally{wt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},n}function bg(t,n,a,o){return t.baseState=a,Cf(t,ct,typeof o=="function"?o:_r)}function $S(t,n,a,o,h){if(rc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var S=a(h,o),C=F.S;C!==null&&C(g,S),Ig(t,n,S)}catch(z){Nf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Ig(t,n,f)}catch(z){Nf(t,n,z)}}function Ig(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return Nf(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wg(t,a)))}function Nf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cg(n),n=n.next;while(n!==o)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dg(t,n){return n}function xg(t,n){if(Fe){var a=mt.formState;if(a!==null){e:{var o=Ce;if(Fe){if(gt){t:{for(var h=gt,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=ci(h.nextSibling),o=h.data==="F!";break e}}Jr(o)}o=!1}o&&(n=a[0])}}return a=En(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},a.queue=o,a=Xg.bind(null,Ce,o),o.dispatch=a,o=xf(!1),f=Uf.bind(null,Ce,!1,o.queue),o=En(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=$S.bind(null,Ce,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Ng(t){var n=Vt();return Og(n,ct,t)}function Og(t,n,a){if(n=Cf(t,n,Dg)[0],t=tc(_r)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Tl(n)}catch(g){throw g===ro?Gu:g}else o=n;n=Vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ce.flags|=2048,uo(9,{destroy:void 0},JS.bind(null,h,a),null)),[o,f,t]}function JS(t,n){t.action=n}function Mg(t){var n=Vt(),a=ct;if(a!==null)return Og(n,a,t);Vt(),n=n.memoizedState,a=Vt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function uo(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Zu(),Ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vg(){return Vt().memoizedState}function nc(t,n,a,o){var h=En();Ce.flags|=t,h.memoizedState=uo(1|n,{destroy:void 0},a,o===void 0?null:o)}function ic(t,n,a,o){var h=Vt();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&Sf(o,ct.memoizedState.deps)?h.memoizedState=uo(n,f,a,o):(Ce.flags|=t,h.memoizedState=uo(1|n,f,a,o))}function kg(t,n){nc(8390656,8,t,n)}function Of(t,n){ic(2048,8,t,n)}function WS(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Zu(),Ce.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=Vt().memoizedState;return WS({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return ic(4,2,t,n)}function Pg(t,n){return ic(4,4,t,n)}function jg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zg(t,n,a){a=a!=null?a.concat([t]):null,ic(4,4,jg.bind(null,n,t),a)}function Mf(){}function Bg(t,n){var a=Vt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Sf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function qg(t,n){var a=Vt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Sf(n,o[1]))return o[0];if(o=t(),ca){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[o,n],o}function Vf(t,n,a){return a===void 0||(yr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Hy(),Ce.lanes|=t,as|=t,a)}function Hg(t,n,a,o){return jn(a,n)?a:ao.current!==null?(t=Vf(t,a,o),jn(t,n)||(zt=!0),t):(yr&42)===0||(yr&1073741824)!==0&&(Pe&261930)===0?(zt=!0,t.memoizedState=a):(t=Hy(),Ce.lanes|=t,as|=t,n)}function Fg(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=F.T,S={};F.T=S,Uf(t,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=YS(C,o);Sl(t,n,G,Gn(t))}else Sl(t,n,o,Gn(t))}catch(X){Sl(t,n,{then:function(){},status:"rejected",reason:X},Gn())}finally{te.p=f,g!==null&&S.types!==null&&(g.types=S.types),F.T=g}}function ZS(){}function kf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Gg(t).queue;Fg(t,h,n,ue,a===null?ZS:function(){return Kg(t),a(o)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Gg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},Gn())}function Lf(){return rn(jl)}function Yg(){return Vt().memoizedState}function Qg(){return Vt().memoizedState}function e1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Gn();t=es(a);var o=ts(n,t,a);o!==null&&(Mn(o,n,a),yl(o,n,a)),n={cache:hf()},t.payload=n;return}n=n.return}}function t1(t,n,a){var o=Gn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?$g(n,a):(a=Zh(t,n,a,o),a!==null&&(Mn(a,t,o),Jg(a,n,o)))}function Xg(t,n,a){var o=Gn();Sl(t,n,a,o)}function Sl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,a);if(h.hasEagerState=!0,h.eagerState=S,jn(S,g))return Pu(t,n,h,0),mt===null&&Uu(),!1}catch{}if(a=Zh(t,n,h,o),a!==null)return Mn(a,t,o),Jg(a,n,o),!0}return!1}function Uf(t,n,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(n)throw Error(s(479))}else n=Zh(t,a,o,2),n!==null&&Mn(n,t,2)}function rc(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function $g(t,n){oo=Ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,zi(t,a)}}var Al={readContext:rn,use:ec,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Al.useEffectEvent=Ct;var Wg={readContext:rn,use:ec,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:kg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,nc(4194308,4,jg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return nc(4194308,4,t,n)},useInsertionEffect:function(t,n){nc(4,2,t,n)},useMemo:function(t,n){var a=En();n=n===void 0?null:n;var o=t();if(ca){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=En();if(a!==void 0){var h=a(n);if(ca){wt(!0);try{a(n)}finally{wt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=t1.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,a=Xg.bind(null,Ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,n){var a=En();return Vf(a,t,n)},useTransition:function(){var t=xf(!1);return t=Fg.bind(null,Ce,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ce,h=En();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),mt===null)throw Error(s(349));(Pe&127)!==0||vg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kg(Tg.bind(null,o,f,t),[t]),o.flags|=2048,uo(9,{destroy:void 0},Eg.bind(null,o,f,a,n),null),a},useId:function(){var t=En(),n=mt.identifierPrefix;if(Fe){var a=$i,o=Xi;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=QS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Lf,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,Ce,!0,a),a.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return En().memoizedState=e1.bind(null,Ce)},useEffectEvent:function(t){var n=En(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:rn,use:ec,useCallback:Bg,useContext:rn,useEffect:Of,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:qg,useReducer:tc,useRef:Vg,useState:function(){return tc(_r)},useDebugValue:Mf,useDeferredValue:function(t,n){var a=Vt();return Hg(a,ct.memoizedState,t,n)},useTransition:function(){var t=tc(_r)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Lf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var a=Vt();return bg(a,ct,t,n)},useMemoCache:Rf,useCacheRefresh:Qg};Pf.useEffectEvent=Lg;var Zg={readContext:rn,use:ec,useCallback:Bg,useContext:rn,useEffect:Of,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:qg,useReducer:Df,useRef:Vg,useState:function(){return Df(_r)},useDebugValue:Mf,useDeferredValue:function(t,n){var a=Vt();return ct===null?Vf(a,t,n):Hg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Df(_r)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Lf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=Vt();return ct!==null?bg(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Qg};Zg.useEffectEvent=Lg;function jf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:I({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Gn(),h=es(o);h.payload=n,a!=null&&(h.callback=a),n=ts(t,h,o),n!==null&&(Mn(n,t,o),yl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Gn(),h=es(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ts(t,h,o),n!==null&&(Mn(n,t,o),yl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Gn(),o=es(a);o.tag=2,n!=null&&(o.callback=n),n=ts(t,o,a),n!==null&&(Mn(n,t,a),yl(n,t,a))}};function ey(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ul(a,o)||!ul(h,f):!0}function ty(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function ha(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ny(t){Lu(t)}function iy(t){console.error(t)}function ry(t){Lu(t)}function sc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,n,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,n)},a}function ay(t){return t=es(t),t.tag=3,t}function oy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){sy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){sy(n,a,o),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function n1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&to(n,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?yc():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),fd(t,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),fd(t,o,h)),!1}throw Error(s(435,a.tag))}return fd(t,o,h),yc(),!1}if(Fe)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(t=Error(s(422),{cause:o}),fl(si(t,a)))):(o!==af&&(n=Error(s(423),{cause:o}),fl(si(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=si(o,a),h=Bf(t.stateNode,o,h),yf(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(s(520),{cause:o});if(f=si(f,a),Nl===null?Nl=[f]:Nl.push(f),Dt!==4&&(Dt=2),n===null)return!0;o=si(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Bf(a.stateNode,o,t),yf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,t,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),zt=!1;function sn(t,n,a,o){n.child=t===null?hg(n,null,a,o):ua(n,t.child,a,o)}function ly(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var S in o)S!=="ref"&&(g[S]=o[S])}else g=o;return sa(n),o=Af(t,n,a,g,f,h),S=bf(),t!==null&&!zt?(wf(t,n,h),vr(t,n,h)):(Fe&&S&&rf(n),n.flags|=1,sn(t,n,o,h),n.child)}function uy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,cy(t,n,f,o,h)):(t=zu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(g,o)&&t.ref===n.ref)return vr(t,n,h)}return n.flags|=1,t=dr(f,o),t.ref=n.ref,t.return=n,n.child=t}function cy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(ul(f,o)&&t.ref===n.ref)if(zt=!1,n.pendingProps=o=f,$f(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,vr(t,n,h)}return Hf(t,n,a,o,h)}function hy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):vf(),pg(n);else return o=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Fu(n,f.cachePool),mg(n,f),is(),n.memoizedState=null):(t!==null&&Fu(n,null),vf(),is());return sn(t,n,h,a),n.child}function bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,a,o,h){var f=df();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fu(n,null),vf(),pg(n),t!==null&&to(t,n,o,!0),n.childLanes=h,null}function ac(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return ua(n,t.child,null,a),t=ac(n,n.pendingProps),t.flags|=2,qn(n),n.memoizedState=null,t}function i1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=ac(n,o),n.lanes=536870912,bl(null,t);if(Tf(n),(t=gt)?(t=w_(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw Jr(n);return n.lanes=536870912,null}return ac(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(zt||to(t,n,a,!1),h=(a&t.childLanes)!==0,zt||h){if(o=mt,o!==null&&(g=ur(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ta(t,g),Mn(o,t,g),qf;yc(),n=dy(t,n,a)}else t=f.treeContext,gt=ci(g.nextSibling),nn=n,Fe=!0,$r=null,li=!1,t!==null&&Zp(n,t),n=ac(n,o),n.flags|=4096;return n}return t=dr(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function oc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Hf(t,n,a,o,h){return sa(n),a=Af(t,n,a,o,void 0,h),o=bf(),t!==null&&!zt?(wf(t,n,h),vr(t,n,h)):(Fe&&o&&rf(n),n.flags|=1,sn(t,n,a,h),n.child)}function my(t,n,a,o,h,f){return sa(n),n.updateQueue=null,a=yg(n,o,a,h),gg(t),o=bf(),t!==null&&!zt?(wf(t,n,f),vr(t,n,f)):(Fe&&o&&rf(n),n.flags|=1,sn(t,n,a,f),n.child)}function py(t,n,a,o,h){if(sa(n),n.stateNode===null){var f=Ja,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},pf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Ja,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(jf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),vl(n,o,f,h),_l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,C=ha(a,S);f.props=C;var z=f.context,G=a.contextType;g=Ja,typeof G=="object"&&G!==null&&(g=rn(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==g)&&ty(n,f,o,g),Zr=!1;var B=n.memoizedState;f.state=B,vl(n,o,f,h),_l(),z=n.memoizedState,S||B!==z||Zr?(typeof X=="function"&&(jf(n,a,X,o),z=n.memoizedState),(C=Zr||ey(n,a,C,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(t,n),g=n.memoizedProps,G=ha(a,g),f.props=G,X=n.pendingProps,B=f.context,z=a.contextType,C=Ja,typeof z=="object"&&z!==null&&(C=rn(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&ty(n,f,o,C),Zr=!1,B=n.memoizedState,f.state=B,vl(n,o,f,h),_l();var H=n.memoizedState;g!==X||B!==H||Zr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof S=="function"&&(jf(n,a,S,o),H=n.memoizedState),(G=Zr||ey(n,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,oc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ua(n,t.child,null,h),n.child=ua(n,null,a,h)):sn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=vr(t,n,h),t}function gy(t,n,a,o){return ia(),n.flags|=256,sn(t,n,a,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:sg()}}function Kf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Fn),t}function yy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?ns(n):is(),(t=gt)?(t=w_(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=$p(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw Jr(n);return Cd(t)?n.lanes=32:n.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(is(),h=n.mode,S=lc({mode:"hidden",children:S},h),o=na(o,h,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,o=n.child,o.memoizedState=Gf(a),o.childLanes=Kf(t,g,a),n.memoizedState=Ff,bl(null,o)):(ns(n),Yf(n,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(ns(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(is(),n.child=t.child,n.flags|=128,n=null):(is(),S=o.fallback,h=n.mode,o=lc({mode:"visible",children:o.children},h),S=na(S,h,a,null),S.flags|=2,o.return=n,S.return=n,o.sibling=S,n.child=o,ua(n,t.child,null,a),o=n.child,o.memoizedState=Gf(a),o.childLanes=Kf(t,g,a),n.memoizedState=Ff,n=bl(null,o));else if(ns(n),Cd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,fl({value:o,source:null,stack:null}),n=Qf(t,n,a)}else if(zt||to(t,n,a,!1),g=(a&t.childLanes)!==0,zt||g){if(g=mt,g!==null&&(o=ur(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,ta(t,o),Mn(g,t,o),qf;Rd(S)||yc(),n=Qf(t,n,a)}else Rd(S)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=ci(S.nextSibling),nn=n,Fe=!0,$r=null,li=!1,t!==null&&Zp(n,t),n=Yf(n,o.children),n.flags|=4096);return n}return h?(is(),S=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=dr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?S=dr(z,S):(S=na(S,h,a,null),S.flags|=2),S.return=n,o.return=n,o.sibling=S,n.child=o,bl(null,o),o=n.child,S=t.child.memoizedState,S===null?S=Gf(a):(h=S.cachePool,h!==null?(C=Pt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=sg(),S={baseLanes:S.baseLanes|a,cachePool:h}),o.memoizedState=S,o.childLanes=Kf(t,g,a),n.memoizedState=Ff,bl(t.child,o)):(ns(n),a=t.child,t=a.sibling,a=dr(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Yf(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=zn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return ua(n,t.child,null,a),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),uf(t.return,n,a)}function Xf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Mt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,ee(Mt,g),sn(t,n,o,a),o=Fe?hl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,n);else if(t.tag===19)_y(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Xf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(n,!0,a,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function vr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),as|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(to(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=dr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=dr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function r1(t,n,a){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),Wr(n,Pt,t.memoizedState.cache),ia();break;case 27:case 5:nt(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:Wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ns(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(t,n,a):(ns(n),t=vr(t,n,a),t!==null?t.sibling:null);ns(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(to(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Mt,Mt.current),o)break;return null;case 22:return n.lanes=0,hy(t,n,a,n.pendingProps);case 24:Wr(n,Pt,t.memoizedState.cache)}return vr(t,n,a)}function Ey(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!$f(t,a)&&(n.flags&128)===0)return zt=!1,r1(t,n,a);zt=(t.flags&131072)!==0}else zt=!1,Fe&&(n.flags&1048576)!==0&&Wp(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=oa(n.elementType),n.type=t,typeof t=="function")ef(t)?(o=ha(t,o),n.tag=1,n=py(null,n,t,o,a)):(n.tag=0,n=Hf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=ly(null,n,t,o,a);break e}else if(h===D){n.tag=14,n=uy(null,n,t,o,a);break e}}throw n=Ue(t)||t,Error(s(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ha(o,n.pendingProps),py(t,n,o,h,a);case 3:e:{if(xt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),vl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Wr(n,Pt,o),o!==f.cache&&cf(n,[Pt],a,!0),_l(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,o,a);break e}else if(o!==h){h=si(Error(s(424)),n),fl(h),n=gy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,gt=ci(t.firstChild),nn=n,Fe=!0,$r=null,li=!0,a=hg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ia(),o===h){n=vr(t,n,a);break e}sn(t,n,o,a)}n=n.child}return n;case 26:return oc(t,n),t===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=bc(_e.current).createElement(a),o[Rt]=n,o[Ut]=t,an(o,a,t),Ie(o),n.stateNode=o):n.memoizedState=N_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return nt(n),t===null&&Fe&&(o=n.stateNode=C_(n.type,n.pendingProps,_e.current),nn=n,li=!0,h=gt,hs(n.type)?(Dd=h,gt=ci(o.firstChild)):gt=h),sn(t,n,n.pendingProps.children,a),oc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=gt)&&(o=V1(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,nn=n,gt=ci(o.firstChild),li=!1,h=!0):h=!1),h||Jr(n)),nt(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,bd(h,f)?o=null:g!==null&&bd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(t,n,XS,null,null,a),jl._currentValue=h),oc(t,n),sn(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=gt)&&(a=k1(a,n.pendingProps,li),a!==null?(n.stateNode=a,nn=n,gt=null,t=!0):t=!1),t||Jr(n)),null;case 13:return yy(t,n,a);case 4:return xt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ua(n,null,o,a):sn(t,n,o,a),n.child;case 11:return ly(t,n,n.type,n.pendingProps,a);case 7:return sn(t,n,n.pendingProps,a),n.child;case 8:return sn(t,n,n.pendingProps.children,a),n.child;case 12:return sn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Wr(n,n.type,o.value),sn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,sa(n),h=rn(h),o=o(h),n.flags|=1,sn(t,n,o,a),n.child;case 14:return uy(t,n,n.type,n.pendingProps,a);case 15:return cy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return i1(t,n,a);case 22:return hy(t,n,a,n.pendingProps);case 24:return sa(n),o=rn(Pt),t===null?(h=df(),h===null&&(h=mt,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},pf(n),Wr(n,Pt,h)):((t.lanes&a)!==0&&(gf(t,n),vl(n,null,null,a),_l()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Wr(n,Pt,o)):(o=f.cache,Wr(n,Pt,o),o!==h.cache&&cf(n,[Pt],a,!0))),sn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Er(t){t.flags|=4}function Jf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw la=Ku,mf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if(Yy())t.flags|=8192;else throw la=Ku,mf}function uc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ma():536870912,t.lanes|=n,mo|=n)}function wl(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function s1(t,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gr(Pt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(eo(n)?Er(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Er(n),f!==null?(yt(n),Ty(n,f)):(yt(n),Jf(n,h,null,o,a))):f?f!==t.memoizedState?(Er(n),yt(n),Ty(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Er(n),yt(n),Jf(n,h,t,o,a)),null;case 27:if(Zt(n),a=_e.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Er(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return yt(n),null}t=ne.current,eo(n)?eg(n):(t=C_(h,o,a),n.stateNode=t,Er(n))}return yt(n),null;case 5:if(Zt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Er(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return yt(n),null}if(f=ne.current,eo(n))eg(n);else{var g=bc(_e.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Rt]=n,f[Ut]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Er(n)}}return yt(n),Jf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Er(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=_e.current,eo(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y_(t.nodeValue,a)),t||Jr(n,!0)}else t=bc(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=eo(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=n}else ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=eo(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=n}else ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),uc(n,n.updateQueue),yt(n),null);case 4:return Je(),t===null&&vd(n.stateNode.containerInfo),yt(n),null;case 10:return gr(n.type),yt(n),null;case 19:if(Q(Mt),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)wl(o,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,wl(o,!1),t=f.updateQueue,n.updateQueue=t,uc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Xp(a,t),a=a.sibling;return ee(Mt,Mt.current&1|2),Fe&&mr(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>mc&&(n.flags|=128,h=!0,wl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,uc(n,t),wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return yt(n),null}else 2*en()-o.renderingStartTime>mc&&a!==536870912&&(n.flags|=128,h=!0,wl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=Mt.current,ee(Mt,h?a&1|2:a&1),Fe&&mr(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return qn(n),Ef(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&uc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),gr(Pt),yt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function a1(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gr(Pt),Je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zt(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(s(340));ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Mt),null;case 4:return Je(),null;case 10:return gr(n.type),null;case 22:case 23:return qn(n),Ef(),t!==null&&Q(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return gr(Pt),null;case 25:return null;default:return null}}function Sy(t,n){switch(sf(n),n.tag){case 3:gr(Pt),Je();break;case 26:case 27:case 5:Zt(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:Q(Mt);break;case 10:gr(n.type);break;case 22:case 23:qn(n),Ef(),t!==null&&Q(aa);break;case 24:gr(Pt)}}function Il(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(S){at(n,n.return,S)}}function rs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,h=n;var C=a,z=S;try{z()}catch(G){at(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){at(n,n.return,G)}}function Ay(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dg(n,a)}catch(o){at(t,t.return,o)}}}function by(t,n,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,n,o)}}function Rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,n,h)}}function Ji(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function Wf(t,n,a){try{var o=t.stateNode;C1(o,t.type,a,n),o[Ut]=n}catch(h){at(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=vi));else if(o!==4&&(o===27&&hs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,a),t=t.sibling;t!==null;)ed(t,n,a),t=t.sibling}function cc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,n,a),t=t.sibling;t!==null;)cc(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,a),n[Rt]=t,n[Ut]=a}catch(f){at(t,t.return,f)}}var Tr=!1,Bt=!1,td=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function o1(t,n){if(t=t.containerInfo,Sd=Nc,t=zp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,S=-1,C=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(S=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(S=g),B===f&&++G===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:t,selectionRange:a},Nc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=ha(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){at(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Dy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),o&4&&Il(5,a);break;case 1:if(Ar(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){at(a,a.return,g)}else{var h=ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(a,a.return,g)}}o&64&&Ay(a),o&512&&Rl(a,a.return);break;case 3:if(Ar(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dg(t,n)}catch(g){at(a,a.return,g)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:Ar(t,a),n===null&&o&4&&wy(a),o&512&&Rl(a,a.return);break;case 12:Ar(t,a);break;case 31:Ar(t,a),o&4&&Oy(t,a);break;case 13:Ar(t,a),o&4&&My(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=g1.bind(null,a),L1(t,a))));break;case 22:if(o=a.memoizedState!==null||Tr,!o){n=n!==null&&n.memoizedState!==null||Bt,h=Tr;var f=Bt;Tr=o,(Bt=n)&&!f?br(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),Tr=h,Bt=f}break;case 30:break;default:Ar(t,a)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Dn=!1;function Sr(t,n,a){for(a=a.child;a!==null;)Ny(t,n,a),a=a.sibling}function Ny(t,n,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Xt,a)}catch{}switch(a.tag){case 26:Bt||Ji(a,n),Sr(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Ji(a,n);var o=At,h=Dn;hs(a.type)&&(At=a.stateNode,Dn=!1),Sr(t,n,a),Ll(a.stateNode),At=o,Dn=h;break;case 5:Bt||Ji(a,n);case 6:if(o=At,h=Dn,At=null,Sr(t,n,a),At=o,Dn=h,At!==null)if(Dn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:At!==null&&(Dn?(t=At,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):A_(At,a.stateNode));break;case 4:o=At,h=Dn,At=a.stateNode.containerInfo,Dn=!0,Sr(t,n,a),At=o,Dn=h;break;case 0:case 11:case 14:case 15:rs(2,a,n),Bt||rs(4,a,n),Sr(t,n,a);break;case 1:Bt||(Ji(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),Sr(t,n,a);break;case 21:Sr(t,n,a);break;case 22:Bt=(o=Bt)||a.memoizedState!==null,Sr(t,n,a),Bt=o;break;default:Sr(t,n,a)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){at(n,n.return,a)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){at(n,n.return,a)}}function l1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(s(435,t.tag))}}function hc(t,n){var a=l1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=y1.bind(null,t,o);o.then(h,h)}})}function xn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(hs(S.type)){At=S.stateNode,Dn=!1;break e}break;case 5:At=S.stateNode,Dn=!1;break e;case 3:case 4:At=S.stateNode.containerInfo,Dn=!0;break e}S=S.return}if(At===null)throw Error(s(160));Ny(f,g,h),At=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var wi=null;function Vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Nn(t),o&4&&(rs(3,t,t.return),Il(3,t),rs(5,t,t.return));break;case 1:xn(n,t),Nn(t),o&512&&(Bt||a===null||Ji(a,a.return)),o&64&&Tr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=wi;if(xn(n,t),Nn(t),o&512&&(Bt||a===null||Ji(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Zn]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,a),f[Rt]=t,Ie(f),o=f;break e;case"link":var g=V_("link","href",h).get(o+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;case"meta":if(g=V_("meta","content",h).get(o+(a.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Rt]=t,Ie(f),o=f}t.stateNode=o}else k_(h,t.type,t.stateNode);else t.stateNode=M_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k_(h,t.type,t.stateNode):M_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(n,t),Nn(t),o&512&&(Bt||a===null||Ji(a,a.return)),a!==null&&o&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(n,t),Nn(t),o&512&&(Bt||a===null||Ji(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(oe){at(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(xn(n,t),Nn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){at(t,t.return,oe)}}break;case 3:if(Rc=null,h=wi,wi=wc(n.containerInfo),xn(n,t),wi=h,Nn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{So(n.containerInfo)}catch(oe){at(t,t.return,oe)}td&&(td=!1,ky(t));break;case 4:o=wi,wi=wc(t.stateNode.containerInfo),xn(n,t),Nn(t),wi=o;break;case 12:xn(n,t),Nn(t);break;case 31:xn(n,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:xn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Tr,G=Bt;if(Tr=z||h,Bt=G||C,xn(n,t),Bt=G,Tr=z,Nn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Tr||Bt||fa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){at(C,C.return,oe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){at(C,C.return,oe)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?b_(H,!0):b_(C.stateNode,!1)}catch(oe){at(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(t,a))));break;case 19:xn(n,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:xn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(t);cc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(Cn(g,""),a.flags&=-33);var S=Zf(t);cc(t,S,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Zf(t);ed(t,z,C);break;default:throw Error(s(161))}}catch(G){at(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ar(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rs(4,n,n.return),fa(n);break;case 1:Ji(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),fa(n);break;case 27:Ll(n.stateNode);case 26:case 5:Ji(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function br(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:br(h,f,a),Il(4,f);break;case 1:if(br(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var S=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fg(C[h],S)}catch(z){at(o,o.return,z)}}a&&g&64&&Ay(f),Rl(f,f.return);break;case 27:Ry(f);case 26:case 5:br(h,f,a),a&&o===null&&g&4&&wy(f),Rl(f,f.return);break;case 12:br(h,f,a);break;case 31:br(h,f,a),a&&g&4&&Oy(h,f);break;case 13:br(h,f,a),a&&g&4&&My(h,f);break;case 22:f.memoizedState===null&&br(h,f,a),Rl(f,f.return);break;case 30:break;default:br(h,f,a)}n=n.sibling}}function nd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t))}function Ii(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(t,n,a,o),h&2048&&Il(9,n);break;case 1:Ii(t,n,a,o);break;case 3:Ii(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t)));break;case 12:if(h&2048){Ii(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else Ii(t,n,a,o);break;case 31:Ii(t,n,a,o);break;case 13:Ii(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ii(t,n,a,o):Cl(t,n):f._visibility&2?Ii(t,n,a,o):(f._visibility|=2,co(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:Ii(t,n,a,o),h&2048&&id(n.alternate,n);break;default:Ii(t,n,a,o)}}function co(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:co(f,g,S,C,h),Il(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?co(f,g,S,C,h):Cl(f,g):(G._visibility|=2,co(f,g,S,C,h)),h&&z&2048&&nd(g.alternate,g);break;case 24:co(f,g,S,C,h),h&&z&2048&&id(g.alternate,g);break;default:co(f,g,S,C,h)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Cl(a,o),h&2048&&nd(o.alternate,o);break;case 24:Cl(a,o),h&2048&&id(o.alternate,o);break;default:Cl(a,o)}n=n.sibling}}var Dl=8192;function ho(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:ho(t,n,a),t.flags&Dl&&t.memoizedState!==null&&Q1(a,wi,t.memoizedState,t.memoizedProps);break;case 5:ho(t,n,a);break;case 3:case 4:var o=wi;wi=wc(t.stateNode.containerInfo),ho(t,n,a),wi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Dl,Dl=16777216,ho(t,n,a),Dl=o):ho(t,n,a));break;default:ho(t,n,a)}}function Py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,zy(o,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fc(t)):xl(t);break;default:xl(t)}}function fc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Jt=o,zy(o,t)}Py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rs(8,n,n.return),fc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fc(n));break;default:fc(n)}t=t.sibling}}function zy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:rs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:dl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Jt=o;else e:for(a=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(xy(o),o===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var u1={getCacheForType:function(t){var n=rn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(Pt).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,ke=null,Pe=0,st=0,Hn=null,ss=!1,fo=!1,rd=!1,wr=0,Dt=0,as=0,da=0,sd=0,Fn=0,mo=0,Nl=null,On=null,ad=!1,dc=0,By=0,mc=1/0,pc=null,os=null,Kt=0,ls=null,po=null,Ir=0,od=0,ld=null,qy=null,Ol=0,ud=null;function Gn(){return(et&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?pd():ka()}function Hy(){if(Fn===0)if((Pe&536870912)===0||Fe){var t=pi;pi<<=1,(pi&3932160)===0&&(pi=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function Mn(t,n,a){(t===mt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(go(t,0),us(t,Pe,Fn,!1)),Pi(t,a),((et&2)===0||t!==mt)&&(t===mt&&((et&2)===0&&(da|=a),Dt===4&&us(t,Pe,Fn,!1)),Wi(t))}function Fy(t,n,a){if((et&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||wn(t,n),h=o?d1(t,n):hd(t,n,!0),f=o;do{if(h===0){fo&&!o&&us(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!h1(a)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;h=Nl;var C=S.current.memoizedState.isDehydrated;if(C&&(go(S,g).flags|=256),g=hd(S,g,!1),g!==2){if(rd&&!C){S.errorRecoveryDisabledLanes|=f,da|=f,h=4;break e}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){go(t,0),us(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:us(o,n,Fn,!ss);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=dc+300-en(),10<h)){if(us(o,n,Fn,!ss),Jn(o,0,!0)!==0)break e;Ir=n,o.timeoutHandle=T_(Gy.bind(null,o,a,On,pc,ad,n,Fn,da,mo,ss,f,"Throttled",-0,0),h);break e}Gy(o,a,On,pc,ad,n,Fn,da,mo,ss,f,null,-0,0)}}break}while(!0);Wi(t)}function Gy(t,n,a,o,h,f,g,S,C,z,G,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},Uy(n,f,X);var oe=(f&62914560)===f?dc-en():(f&4194048)===f?By-en():0;if(oe=X1(X,oe),oe!==null){Ir=f,t.cancelPendingCommit=oe(Zy.bind(null,t,n,f,a,o,h,g,S,C,G,X,null,B,H)),us(t,f,g,!z);return}}Zy(t,n,f,a,o,h,g,S,C)}function h1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function us(t,n,a,o){n&=~sd,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ji(t,a,n)}function gc(){return(et&6)===0?(Ml(0),!1):!0}function cd(){if(ke!==null){if(st===0)var t=ke.return;else t=ke,pr=ra=null,If(t),so=null,pl=0,t=ke;for(;t!==null;)Sy(t.alternate,t),t=t.return;ke=null}}function go(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ir=0,cd(),mt=t,ke=a=dr(t.current,null),Pe=n,st=0,Hn=null,ss=!1,fo=wn(t,n),rd=!1,mo=Fn=sd=da=as=Dt=0,On=Nl=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-pt(o),f=1<<h;n|=t[h],o&=~f}return wr=n,Uu(),a}function Ky(t,n){Ce=null,F.H=Al,n===ro||n===Gu?(n=lg(),st=3):n===mf?(n=lg(),st=4):st=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,ke===null&&(Dt=1,sc(t,si(n,t.current)))}function Yy(){var t=Bn.current;return t===null?!0:(Pe&4194048)===Pe?ui===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ui:!1}function Qy(){var t=F.H;return F.H=Al,t===null?Al:t}function Xy(){var t=F.A;return F.A=u1,t}function yc(){Dt=4,ss||(Pe&4194048)!==Pe&&Bn.current!==null||(fo=!0),(as&134217727)===0&&(da&134217727)===0||mt===null||us(mt,Pe,Fn,!1)}function hd(t,n,a){var o=et;et|=2;var h=Qy(),f=Xy();(mt!==t||Pe!==n)&&(pc=null,go(t,n)),n=!1;var g=Dt;e:do try{if(st!==0&&ke!==null){var S=ke,C=Hn;switch(st){case 8:cd(),g=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var z=st;if(st=0,Hn=null,yo(t,S,C,z),a&&fo){g=0;break e}break;default:z=st,st=0,Hn=null,yo(t,S,C,z)}}f1(),g=Dt;break}catch(G){Ky(t,G)}while(!0);return n&&t.shellSuspendCounter++,pr=ra=null,et=o,F.H=h,F.A=f,ke===null&&(mt=null,Pe=0,Uu()),g}function f1(){for(;ke!==null;)$y(ke)}function d1(t,n){var a=et;et|=2;var o=Qy(),h=Xy();mt!==t||Pe!==n?(pc=null,mc=en()+500,go(t,n)):fo=wn(t,n);e:do try{if(st!==0&&ke!==null){n=ke;var f=Hn;t:switch(st){case 1:st=0,Hn=null,yo(t,n,f,1);break;case 2:case 9:if(ag(f)){st=0,Hn=null,Jy(n);break}n=function(){st!==2&&st!==9||mt!==t||(st=7),Wi(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:ag(f)?(st=0,Hn=null,Jy(n)):(st=0,Hn=null,yo(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var S=ke;if(g?L_(g):S.stateNode.complete){st=0,Hn=null;var C=S.sibling;if(C!==null)ke=C;else{var z=S.return;z!==null?(ke=z,_c(z)):ke=null}break t}}st=0,Hn=null,yo(t,n,f,5);break;case 6:st=0,Hn=null,yo(t,n,f,6);break;case 8:cd(),Dt=6;break e;default:throw Error(s(462))}}m1();break}catch(G){Ky(t,G)}while(!0);return pr=ra=null,F.H=o,F.A=h,et=a,ke!==null?0:(mt=null,Pe=0,Uu(),Dt)}function m1(){for(;ke!==null&&!ki();)$y(ke)}function $y(t){var n=Ey(t.alternate,t,wr);t.memoizedProps=t.pendingProps,n===null?_c(t):ke=n}function Jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:If(n);default:Sy(a,n),n=ke=Xp(n,wr),n=Ey(a,n,wr)}t.memoizedProps=t.pendingProps,n===null?_c(t):ke=n}function yo(t,n,a,o){pr=ra=null,If(n),so=null,pl=0;var h=n.return;try{if(n1(t,h,n,a,Pe)){Dt=1,sc(t,si(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Dt=1,sc(t,si(a,t.current)),ke=null;return}n.flags&32768?(Fe||o===1?t=!0:fo||(Pe&536870912)!==0?t=!1:(ss=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,t)):_c(n)}function _c(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,ss);return}t=n.return;var a=s1(n.alternate,n,wr);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Dt===0&&(Dt=5)}function Wy(t,n){do{var a=a1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Dt=6,ke=null}function Zy(t,n,a,o,h,f,g,S,C){t.cancelPendingCommit=null;do vc();while(Kt!==0);if((et&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Wh,Va(t,a,f,g,S,C),t===mt&&(ke=mt=null,Pe=0),po=n,ls=t,Ir=a,od=f,ld=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_1(Li,function(){return r_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,g=et,et|=4;try{o1(t,n,a)}finally{et=g,te.p=h,F.T=o}}Kt=1,e_(),t_(),n_()}}function e_(){if(Kt===1){Kt=0;var t=ls,n=po,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Vy(n,t);var f=Ad,g=zp(t.containerInfo),S=f.focusedElem,C=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&jp(S.ownerDocument.documentElement,S)){if(C!==null&&Yh(S)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(G,S.value.length);else{var X=S.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=S.textContent.length,pe=Math.min(C.start,oe),ft=C.end===void 0?pe:Math.min(C.end,oe);!H.extend&&pe>ft&&(g=ft,ft=pe,pe=g);var L=Pp(S,pe),O=Pp(S,ft);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),pe>ft?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=S;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<X.length;S++){var K=X[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Sd,Ad=Sd=null}finally{et=h,te.p=o,F.T=a}}t.current=n,Kt=2}}function t_(){if(Kt===2){Kt=0;var t=ls,n=po,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=et;et|=4;try{Dy(t,n.alternate,n)}finally{et=h,te.p=o,F.T=a}}Kt=3}}function n_(){if(Kt===4||Kt===3){Kt=0,js();var t=ls,n=po,a=Ir,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,po=ls=null,i_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(os=null),gi(a),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Xt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var S=o[g];f(S.value,{componentStack:S.stack})}}finally{F.T=n,te.p=h}}(Ir&3)!==0&&vc(),Wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ud?Ol++:(Ol=0,ud=t):Ol=0,Ml(0)}}function i_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dl(n)))}function vc(){return e_(),t_(),n_(),r_()}function r_(){if(Kt!==5)return!1;var t=ls,n=od;od=0;var a=gi(Ir),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=ld,ld=null;var f=ls,g=Ir;if(Kt=0,po=ls=null,Ir=0,(et&6)!==0)throw Error(s(331));var S=et;if(et|=4,jy(f.current),Ly(f,f.current,g,a),et=S,Ml(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Xt,f)}catch{}return!0}finally{te.p=h,F.T=o,i_(t,n)}}function s_(t,n,a){n=si(a,n),n=Bf(t.stateNode,n,2),t=ts(t,n,2),t!==null&&(Pi(t,2),Wi(t))}function at(t,n,a){if(t.tag===3)s_(t,t,a);else for(;n!==null;){if(n.tag===3){s_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(os===null||!os.has(o))){t=si(a,t),a=ay(2),o=ts(n,a,2),o!==null&&(oy(a,o,n,t),Pi(o,2),Wi(o));break}}n=n.return}}function fd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new c1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(rd=!0,h.add(a),t=p1.bind(null,t,n,a),n.then(t,t))}function p1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(Pe&a)===a&&(Dt===4||Dt===3&&(Pe&62914560)===Pe&&300>en()-dc?(et&2)===0&&go(t,0):sd|=a,mo===Pe&&(mo=0)),Wi(t)}function a_(t,n){n===0&&(n=Ma()),t=ta(t,n),t!==null&&(Pi(t,n),Wi(t))}function g1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),a_(t,a)}function y1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),a_(t,a)}function _1(t,n){return Et(t,n)}var Ec=null,_o=null,dd=!1,Tc=!1,md=!1,cs=0;function Wi(t){t!==_o&&t.next===null&&(_o===null?Ec=_o=t:_o=_o.next=t),Tc=!0,dd||(dd=!0,E1())}function Ml(t,n){if(!md&&Tc){md=!0;do for(var a=!1,o=Ec;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,c_(o,f))}else f=Pe,f=Jn(o,o===mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||wn(o,f)||(a=!0,c_(o,f));o=o.next}while(a);md=!1}}function v1(){o_()}function o_(){Tc=dd=!1;var t=0;cs!==0&&x1()&&(t=cs);for(var n=en(),a=null,o=Ec;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,a===null?Ec=h:a.next=h,h===null&&(_o=a)):(a=o,(t!==0||(f&3)!==0)&&(Tc=!0)),o=h}Kt!==0&&Kt!==5||Ml(t),cs!==0&&(cs=0)}function l_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-pt(f),S=1<<g,C=h[g];C===-1?((S&a)===0||(S&o)!==0)&&(h[g]=Xo(S,n)):C<=n&&(t.expiredLanes|=S),f&=~S}if(n=mt,a=Pe,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Vi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Vi(o),gi(a)){case 2:case 8:a=zs;break;case 32:a=Li;break;case 268435456:a=An;break;default:a=Li}return o=u_.bind(null,t),a=Et(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Vi(o),t.callbackPriority=2,t.callbackNode=null,2}function u_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var o=Pe;return o=Jn(t,t===mt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fy(t,o,n),l_(t,en()),t.callbackNode!=null&&t.callbackNode===a?u_.bind(null,t):null)}function c_(t,n){if(vc())return null;Fy(t,n,!0)}function E1(){O1(function(){(et&6)!==0?Et(Ge,v1):o_()})}function pd(){if(cs===0){var t=no;t===0&&(t=bn,bn<<=1,(bn&261888)===0&&(bn=256)),cs=t}return cs}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function f_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function T1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h_((h[Ut]||null).action),g=o.submitter;g&&(n=(n=g[Ut]||null)?h_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Gi("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cs!==0){var C=g?f_(h,g):new FormData(h);kf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=g?f_(h,g):new FormData(h),kf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],S1=yd.toLowerCase(),A1=yd[0].toUpperCase()+yd.slice(1);bi(S1,"on"+A1)}bi(Hp,"onAnimationEnd"),bi(Fp,"onAnimationIteration"),bi(Gp,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(jS,"onTransitionRun"),bi(zS,"onTransitionStart"),bi(BS,"onTransitionCancel"),bi(Kp,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function d_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var S=o[g],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=z;try{f(h)}catch(G){Lu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(S=o[g],C=S.instance,z=S.currentTarget,S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=z;try{f(h)}catch(G){Lu(G)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[Ur];a===void 0&&(a=n[Ur]=new Set);var o=t+"__bubble";a.has(o)||(m_(n,t,2,!1),a.add(o))}function _d(t,n,a){var o=0;n&&(o|=4),m_(a,t,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[Sc]){t[Sc]=!0,yi.forEach(function(a){a!=="selectionchange"&&(b1.has(a)||_d(a,!1,t),_d(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,_d("selectionchange",!1,n))}}function m_(t,n,a,o){switch(H_(n)){case 2:var h=W1;break;case 8:h=Z1;break;default:h=Vd}a=h.bind(null,n,a,t),h=void 0,!Ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ed(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var S=o.stateNode.containerInfo;if(S===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;S!==null;){if(g=ei(S),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}S=S.parentNode}}o=o.return}Gr(function(){var z=f,G=ti(a),X=[];e:{var B=Yp.get(t);if(B!==void 0){var H=Gi,oe=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":H=Mu;break;case"focusin":oe="focus",H=Js;break;case"focusout":oe="blur",H=Js;break;case"beforeblur":case"afterblur":H=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hp:case Fp:case Gp:H=Iu;break;case Kp:H=A;break;case"scroll":case"scrollend":H=rl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fr;break;case"toggle":case"beforetoggle":H=Re}var pe=(n&4)!==0,ft=!pe&&(t==="scroll"||t==="scrollend"),L=pe?B!==null?B+"Capture":null:B;pe=[];for(var O=z,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=Ei(O,L),K!=null&&pe.push(kl(O,K,j))),ft)break;O=O.return}0<pe.length&&(B=new H(B,oe,null,a,G),X.push({event:B,listeners:pe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==tl&&(oe=a.relatedTarget||a.fromElement)&&(ei(oe)||oe[Wn]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=z,oe=oe?ei(oe):null,oe!==null&&(ft=c(oe),pe=oe.tag,oe!==ft||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(H=null,oe=z),H!==oe)){if(pe=sl,K="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=fr,K="onPointerLeave",L="onPointerEnter",O="pointer"),ft=H==null?B:ae(H),j=oe==null?B:ae(oe),B=new pe(K,O+"leave",H,a,G),B.target=ft,B.relatedTarget=j,K=null,ei(G)===z&&(pe=new pe(L,O+"enter",oe,a,G),pe.target=j,pe.relatedTarget=ft,K=pe),ft=K,H&&oe)t:{for(pe=w1,L=H,O=oe,j=0,K=L;K;K=pe(K))j++;K=0;for(var he=O;he;he=pe(he))K++;for(;0<j-K;)L=pe(L),j--;for(;0<K-j;)O=pe(O),K--;for(;j--;){if(L===O||O!==null&&L===O.alternate){pe=L;break t}L=pe(L),O=pe(O)}pe=null}else pe=null;H!==null&&p_(X,B,H,pe,!1),oe!==null&&ft!==null&&p_(X,ft,oe,pe,!0)}}e:{if(B=z?ae(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qe=Op;else if(xp(B))if(Mp)Qe=LS;else{Qe=VS;var le=MS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&za(z.elementType)&&(Qe=Op):Qe=kS;if(Qe&&(Qe=Qe(t,z))){Np(X,Qe,a,G);break e}le&&le(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Wo(B,"number",B.value)}switch(le=z?ae(z):window,t){case"focusin":(xp(le)||le.contentEditable==="true")&&(Qa=le,Qh=z,cl=null);break;case"focusout":cl=Qh=Qa=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bp(X,a,G);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Bp(X,a,G)}var xe;if(Ze)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ya?Ws(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Qi&&a.locale!=="ko"&&(Ya||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ya&&(xe=il()):(Fi=G,nl="value"in Fi?Fi.value:Fi.textContent,Ya=!0)),le=Ac(z,je),0<le.length&&(je=new Yi(je,t,null,a,G),X.push({event:je,listeners:le}),xe?je.data=xe:(xe=Ka(a),xe!==null&&(je.data=xe)))),(xe=ii?DS(t,a):xS(t,a))&&(je=Ac(z,"onBeforeInput"),0<je.length&&(le=new Yi("onBeforeInput","beforeinput",null,a,G),X.push({event:le,listeners:je}),le.data=xe)),T1(X,t,z,a,G)}d_(X,n)})}function kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ac(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ei(t,a),h!=null&&o.unshift(kl(t,h,f)),h=Ei(t,n),h!=null&&o.push(kl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function w1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var S=a,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===o)break;S!==5&&S!==26&&S!==27||z===null||(C=z,h?(z=Ei(a,f),z!=null&&g.unshift(kl(a,z,C))):h||(z=Ei(a,f),z!=null&&g.push(kl(a,z,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var I1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(R1,"")}function y_(t,n){return n=g_(n),g_(t)===n}function ht(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(t,""+o);break;case"className":_n(t,"class",o);break;case"tabIndex":_n(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,o);break;case"style":el(t,o,f);break;case"data":if(n!=="object"){_n(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=vi);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),jr(t,"popover",o);break;case"xlinkActuate":Ye(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ye(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ye(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ye(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ye(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ye(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":jr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,jr(t,a,o))}}function Td(t,n,a,o,h,f){switch(a){case"style":el(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&Cn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_i.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):jr(t,a,o)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(t,n,f,g,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),o&&ht(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:ht(t,n,o,G,a,null)}}Eu(t,f,S,C,z,g,h,!1);return;case"select":Le("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":o=S;default:ht(t,n,h,S,a,null)}n=f,a=g,t.multiple=!!o,n!=null?Br(t,!!o,n,!1):a!=null&&Br(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":o=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ht(t,n,g,S,a,null)}qr(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ht(t,n,C,o,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Vl.length;o++)Le(Vl[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(t,n,z,o,a,null)}return;default:if(za(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Td(t,n,G,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&ht(t,n,S,o,a,null))}function C1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,S=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ht(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&ht(t,n,B,H,o,X)}}ja(t,g,S,C,z,G,f,h);return;case"select":H=g=S=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==C&&ht(t,n,h,f,o,C)}n=S,a=g,o=H,B!=null?Br(t,!!a,B,!1):!!o!=!!a&&(n!=null?Br(t,!!a,n,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(t,n,S,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ht(t,n,g,h,o,f)}Tu(t,B,H);return;case"option":for(var oe in a)B=a[oe],a.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ht(t,n,oe,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ht(t,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&ht(t,n,pe,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ht(t,n,z,B,o,H)}return;default:if(za(n)){for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!==void 0&&!o.hasOwnProperty(ft)&&Td(t,n,ft,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Td(t,n,G,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&ht(t,n,L,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ht(t,n,X,B,o,H)}function __(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,S=h.duration;if(f&&S&&__(g)){for(g=0,S=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>S)break;var G=C.transferSize,X=C.initiatorType;G&&__(X)&&(C=C.responseEnd,g+=G*(C<S?1:(S-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sd=null,Ad=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function v_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function x1(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(M1)}:T_;function M1(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function A_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),So(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var f=a.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[Zn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ll(t.ownerDocument.body);a=h}while(a);So(n)}function b_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),Pr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function V1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function k1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function w_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ci(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function I_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ci(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function R_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function C_(t,n,a){switch(n=bc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pr(t)}var hi=new Map,D_=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rr=te.d;te.d={f:U1,r:P1,D:j1,C:z1,L:B1,m:q1,X:F1,S:H1,M:G1};function U1(){var t=Rr.f(),n=gc();return t||n}function P1(t){var n=T(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Rr.r(t)}var vo=typeof document>"u"?null:document;function x_(t,n,a){var o=vo;if(o&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Ie(n),o.head.appendChild(n)))}}function j1(t){Rr.D(t),x_("dns-prefetch",t,null)}function z1(t,n){Rr.C(t,n),x_("preconnect",t,n)}function B1(t,n,a){Rr.L(t,n,a);var o=vo;if(o&&t&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rn(a.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var f=h;switch(n){case"style":f=Eo(t);break;case"script":f=To(t)}hi.has(f)||(t=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),hi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ul(f))||n==="script"&&o.querySelector(Pl(f))||(n=o.createElement("link"),an(n,"link",t),Ie(n),o.head.appendChild(n)))}}function q1(t,n){Rr.m(t,n);var a=vo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=To(t)}if(!hi.has(f)&&(t=I({rel:"modulepreload",href:t},n),hi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}o=a.createElement("link"),an(o,"link",t),Ie(o),a.head.appendChild(o)}}}function H1(t,n,a){Rr.S(t,n,a);var o=vo;if(o&&t){var h=Tt(o).hoistableStyles,f=Eo(t);n=n||"default";var g=h.get(f);if(!g){var S={loading:0,preload:null};if(g=o.querySelector(Ul(f)))S.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},a),(a=hi.get(f))&&xd(t,a);var C=g=o.createElement("link");Ie(C),an(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ic(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:S},h.set(f,g)}}}function F1(t,n){Rr.X(t,n);var a=vo;if(a&&t){var o=Tt(a).hoistableScripts,h=To(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=I({src:t,async:!0},n),(n=hi.get(h))&&Nd(t,n),f=a.createElement("script"),Ie(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function G1(t,n){Rr.M(t,n);var a=vo;if(a&&t){var o=Tt(a).hoistableScripts,h=To(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=I({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&Nd(t,n),f=a.createElement("script"),Ie(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(t,n,a,o){var h=(h=_e.current)?wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Eo(a.href),a=Tt(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Eo(a.href);var f=Tt(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||K1(h,t,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=To(a),a=Tt(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Eo(t){return'href="'+Rn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function K1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",a),Ie(n),t.head.appendChild(n))}function To(t){return'[src="'+Rn(t)+'"]'}function Pl(t){return"script[async]"+t}function M_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ie(o),an(o,"style",h),Ic(o,a.precedence,t),n.instance=o;case"stylesheet":h=Eo(a.href);var f=t.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=O_(a),(h=hi.get(h))&&xd(o,h),f=(t.ownerDocument||t).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),an(f,"link",o),n.state.loading|=4,Ic(f,a.precedence,t),n.instance=f;case"script":return f=To(a.src),(h=t.querySelector(Pl(f)))?(n.instance=h,Ie(h),h):(o=a,(h=hi.get(f))&&(o=I({},a),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ie(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,a.precedence,t));return n.instance}function Ic(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var S=o[g];if(S.dataset.precedence===n)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function V_(t,n,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Zn]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=o.get(g);S?S.push(f):o.set(g,[f])}}return o}function k_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Y1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Eo(o.href),f=n.querySelector(Ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ie(f);return}f=n.ownerDocument||n,o=O_(o),(h=hi.get(h))&&xd(o,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),an(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function X1(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*D1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach($1,t),Dc=null,Cc.call(t))}function $1(t,n){if(!(n.state.loading&4)){var a=Dc.get(t);if(a)var o=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function J1(t,n,a,o,h,f,g,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function U_(t,n,a,o,h,f,g,S,C,z,G,X){return t=new J1(t,n,a,g,C,z,G,X,S),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},pf(f),t}function P_(t){return t?(t=Ja,t):Ja}function j_(t,n,a,o,h,f){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=es(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ts(t,o,n),a!==null&&(Mn(a,t,n),yl(a,t,n))}function z_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Md(t,n){z_(t,n),(t=t.alternate)&&z_(t,n)}function B_(t){if(t.tag===13||t.tag===31){var n=ta(t,67108864);n!==null&&Mn(n,t,67108864),Md(t,67108864)}}function q_(t){if(t.tag===13||t.tag===31){var n=Gn();n=Bi(n);var a=ta(t,n);a!==null&&Mn(a,t,n),Md(t,n)}}var Nc=!0;function W1(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Vd(t,n,a,o)}finally{te.p=f,F.T=h}}function Z1(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Vd(t,n,a,o)}finally{te.p=f,F.T=h}}function Vd(t,n,a,o){if(Nc){var h=kd(o);if(h===null)Ed(t,n,o,Oc,a),F_(t,o);else if(tA(h,t,n,a,o))o.stopPropagation();else if(F_(t,o),n&4&&-1<eA.indexOf(t)){for(;h!==null;){var f=T(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var C=1<<31-pt(g);S.entanglements[1]|=C,g&=~C}Wi(f),(et&6)===0&&(mc=en()+500,Ml(0))}}break;case 31:case 13:S=ta(f,2),S!==null&&Mn(S,f,2),gc(),Md(f,2)}if(f=kd(o),f===null&&Ed(t,n,o,Oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(t,n,o,null,a)}}function kd(t){return t=ti(t),Ld(t)}var Oc=null;function Ld(t){if(Oc=null,t=ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oc=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Ge:return 2;case zs:return 8;case Li:case Ui:return 32;case An:return 268435456;default:return 32}default:return 32}}var Ud=!1,fs=null,ds=null,ms=null,zl=new Map,Bl=new Map,ps=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,n){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function ql(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=T(n),n!==null&&B_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function tA(t,n,a,o,h){switch(n){case"focusin":return fs=ql(fs,t,n,a,o,h),!0;case"dragenter":return ds=ql(ds,t,n,a,o,h),!0;case"mouseover":return ms=ql(ms,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return zl.set(f,ql(zl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Bl.set(f,ql(Bl.get(f)||null,t,n,a,o,h)),!0}return!1}function G_(t){var n=ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){q_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Un(t.priority,function(){q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);tl=o,a.target.dispatchEvent(o),tl=null}else return n=T(a),n!==null&&B_(n),t.blockedOn=a,!1;n.shift()}return!0}function K_(t,n,a){Mc(t)&&a.delete(n)}function nA(){Ud=!1,fs!==null&&Mc(fs)&&(fs=null),ds!==null&&Mc(ds)&&(ds=null),ms!==null&&Mc(ms)&&(ms=null),zl.forEach(K_),Bl.forEach(K_)}function Vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nA)))}var kc=null;function Y_(t){kc!==t&&(kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ld(o||a)===null)continue;break}var f=T(a);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function So(t){function n(C){return Vc(C,t)}fs!==null&&Vc(fs,t),ds!==null&&Vc(ds,t),ms!==null&&Vc(ms,t),zl.forEach(n),Bl.forEach(n);for(var a=0;a<ps.length;a++){var o=ps[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ut]||null;if(typeof f=="function")g||Y_(a);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ut]||null)S=g.formAction;else if(Ld(h)!==null)continue}else S=g.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Y_(a)}}}function Q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}Lc.prototype.render=Pd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Gn();j_(a,o,t,n,null,null)},Lc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;j_(t.current,2,null,t,null,null),gc(),n[Wn]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ka();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ps.length&&n!==0&&n<ps[a].priority;a++);ps.splice(a,0,t),a===0&&G_(t)}};var X_=e.version;if(X_!=="19.2.4")throw Error(s(527,X_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var iA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Xt=Uc.inject(iA),Me=Uc}catch{}}return Fl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ny,f=iy,g=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=U_(t,1,!1,null,null,a,o,null,h,f,g,Q_),t[Wn]=n.current,vd(t),new Pd(n)},Fl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=ny,g=iy,S=ry,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=U_(t,1,!0,n,a??null,o,h,C,f,g,S,Q_),n.context=P_(null),a=n.current,o=Gn(),o=Bi(o),h=es(o),h.callback=null,ts(a,h,o),a=o,n.current.lanes=a,Pi(n,a),Wi(n),t[Wn]=n.current,vd(t),new Lc(n)},Fl.version="19.2.4",Fl}var sv;function dA(){if(sv)return Bd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=fA(),Bd.exports}var mA=dA();const pA=()=>{};var av={};const BE=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},gA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,I=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(V=64)),s.push(i[b],i[I],i[V],i[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(BE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const I=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||I==null)throw new yA;const V=c<<2|p>>4;if(s.push(V),y!==64){const Y=p<<4&240|y>>2;if(s.push(Y),I!==64){const W=y<<6&192|I;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _A=function(r){const e=BE(r);return qE.encodeByteArray(e,!0)},eh=function(r){return _A(r).replace(/\./g,"")},HE=function(r){try{return qE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EA=()=>vA().__FIREBASE_DEFAULTS__,TA=()=>{if(typeof process>"u"||typeof av>"u")return;const r=av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&HE(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return pA()||EA()||TA()||SA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},FE=r=>Sh()?.emulatorHosts?.[r],AA=r=>{const e=FE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},GE=()=>Sh()?.config,KE=r=>Sh()?.[`_${r}`];class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(r){return(await fetch(r,{credentials:"include"})).ok}function wA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const $l={};function IA(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function RA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let ov=!1;function QE(r,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||$l[r]===e||$l[r]||ov)return;$l[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=IA().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{ov=!0,d()},V}function b(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function I(){const V=RA(s),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),re=i("learnmore"),ie=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),Ae=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ge=V.element;p(ge),b(ie,re);const De=y();_(Ae,me),ge.append(Ae,W,ie,De),document.body.appendChild(ge)}c?(W.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function DA(){const r=Sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OA(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function JE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}function VA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const kA="FirebaseError";class Mi extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=kA,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?LA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Mi(l,p,s)}}function LA(r,e){return r.replace(UA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const UA=/\{\$([^}]+)}/g;function PA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ds(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(lv(c)&&lv(d)){if(!Ds(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function lv(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jA(r,e){const i=new zA(r,e);return i.subscribe.bind(i)}class zA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");BA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Gd(){}const qA=1e3,HA=2,FA=14400*1e3,GA=.5;function uv(r,e=qA,i=HA){const s=e*Math.pow(i,r),l=Math.round(GA*s*(Math.random()-.5)*2);return Math.min(FA,s+l)}function Gt(r){return r&&r._delegate?r._delegate:r}class Oi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class KA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new bA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(r){return r===pa?void 0:r}function QA(r){return r.instantiationMode==="EAGER"}class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const $A={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},JA=ze.INFO,WA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},ZA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=WA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const eb=(r,e)=>e.some(i=>r instanceof i);let cv,hv;function tb(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,om=new WeakMap,ZE=new WeakMap,Kd=new WeakMap,Mm=new WeakMap;function ib(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ws(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&WE.set(i,r)}).catch(()=>{}),Mm.set(e,r),e}function rb(r){if(om.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});om.set(r,e)}let lm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ZE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ws(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sb(r){lm=r(lm)}function ab(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Yd(this),e,...i);return ZE.set(s,e.sort?e.sort():[e]),ws(s)}:nb().includes(r)?function(...e){return r.apply(Yd(this),e),ws(WE.get(this))}:function(...e){return ws(r.apply(Yd(this),e))}}function ob(r){return typeof r=="function"?ab(r):(r instanceof IDBTransaction&&rb(r),eb(r,tb())?new Proxy(r,lm):r)}function ws(r){if(r instanceof IDBRequest)return ib(r);if(Kd.has(r))return Kd.get(r);const e=ob(r);return e!==r&&(Kd.set(r,e),Mm.set(e,r)),e}const Yd=r=>Mm.get(r);function e0(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=ws(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ws(d.result),_.oldVersion,_.newVersion,ws(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const lb=["get","getKey","getAll","getAllKeys","count"],ub=["put","add","delete","clear"],Qd=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=ub.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||lb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Qd.set(e,c),c}sb(r=>({...r,get:(e,i,s)=>fv(e,i)||r.get(e,i,s),has:(e,i)=>!!fv(e,i)||r.has(e,i)}));class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function hb(r){return r.getComponent()?.type==="VERSION"}const um="@firebase/app",dv="0.14.8";const Or=new Ah("@firebase/app"),fb="@firebase/app-compat",db="@firebase/analytics-compat",mb="@firebase/analytics",pb="@firebase/app-check-compat",gb="@firebase/app-check",yb="@firebase/auth",_b="@firebase/auth-compat",vb="@firebase/database",Eb="@firebase/data-connect",Tb="@firebase/database-compat",Sb="@firebase/functions",Ab="@firebase/functions-compat",bb="@firebase/installations",wb="@firebase/installations-compat",Ib="@firebase/messaging",Rb="@firebase/messaging-compat",Cb="@firebase/performance",Db="@firebase/performance-compat",xb="@firebase/remote-config",Nb="@firebase/remote-config-compat",Ob="@firebase/storage",Mb="@firebase/storage-compat",Vb="@firebase/firestore",kb="@firebase/ai",Lb="@firebase/firestore-compat",Ub="firebase",Pb="12.9.0";const cm="[DEFAULT]",jb={[um]:"fire-core",[fb]:"fire-core-compat",[mb]:"fire-analytics",[db]:"fire-analytics-compat",[gb]:"fire-app-check",[pb]:"fire-app-check-compat",[yb]:"fire-auth",[_b]:"fire-auth-compat",[vb]:"fire-rtdb",[Eb]:"fire-data-connect",[Tb]:"fire-rtdb-compat",[Sb]:"fire-fn",[Ab]:"fire-fn-compat",[bb]:"fire-iid",[wb]:"fire-iid-compat",[Ib]:"fire-fcm",[Rb]:"fire-fcm-compat",[Cb]:"fire-perf",[Db]:"fire-perf-compat",[xb]:"fire-rc",[Nb]:"fire-rc-compat",[Ob]:"fire-gcs",[Mb]:"fire-gcs-compat",[Vb]:"fire-fst",[Lb]:"fire-fst-compat",[kb]:"fire-vertex","fire-js":"fire-js",[Ub]:"fire-js-all"};const th=new Map,zb=new Map,hm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(i){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function rr(r){const e=r.name;if(hm.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,r);for(const i of th.values())mv(i,r);for(const i of zb.values())mv(i,r);return!0}function Da(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ri(r){return r==null?!1:r.settings!==void 0}const Bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Ca("app","Firebase",Bb);class qb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const Ho=Pb;function t0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:cm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Is.create("bad-app-name",{appName:String(l)});if(i||(i=GE()),!i)throw Is.create("no-options");const c=th.get(l);if(c){if(Ds(i,c.options)&&Ds(s,c.config))return c;throw Is.create("duplicate-app",{appName:l})}const d=new XA(l);for(const _ of hm.values())d.addComponent(_);const p=new qb(i,s,d);return th.set(l,p),p}function Vm(r=cm){const e=th.get(r);if(!e&&r===cm&&GE())return t0();if(!e)throw Is.create("no-app",{appName:r});return e}function di(r,e,i){let s=jb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(d.join(" "));return}rr(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Hb="firebase-heartbeat-database",Fb=1,nu="firebase-heartbeat-store";let Xd=null;function n0(){return Xd||(Xd=e0(Hb,Fb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Is.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function Gb(r){try{const i=(await n0()).transaction(nu),s=await i.objectStore(nu).get(i0(r));return await i.done,s}catch(e){if(e instanceof Mi)Or.warn(e.message);else{const i=Is.create("idb-get",{originalErrorMessage:e?.message});Or.warn(i.message)}}}async function pv(r,e){try{const s=(await n0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,i0(r)),await s.done}catch(i){if(i instanceof Mi)Or.warn(i.message);else{const s=Is.create("idb-set",{originalErrorMessage:i?.message});Or.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}const Kb=1024,Yb=30;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $b(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Yb){const l=Jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gv(),{heartbeatsToSend:i,unsentEntries:s}=Xb(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Or.warn(e),""}}}function gv(){return new Date().toISOString().substring(0,10)}function Xb(r,e=Kb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $b{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?JE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Gb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yv(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function Jb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function Wb(r){rr(new Oi("platform-logger",e=>new cb(e),"PRIVATE")),rr(new Oi("heartbeat",e=>new Qb(e),"PRIVATE")),di(um,dv,r),di(um,dv,"esm2020"),di("fire-js","")}Wb("");var Zb="firebase",ew="12.9.0";di(Zb,ew,"app");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rs,r0;(function(){var r;function e(D,w){function x(){}x.prototype=w.prototype,D.F=w.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(k,N,U){for(var R=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)R[Ue-2]=arguments[Ue];return w.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,x){x||(x=0);const k=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)k[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)k[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=D.g[0],x=D.g[1],N=D.g[2];let U=D.g[3],R;R=w+(U^x&(N^U))+k[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+k[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+k[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+k[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+k[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(x^N))+k[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+k[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+k[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+k[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+k[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^U)+k[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+k[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+k[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+k[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+k[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~U))+k[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+k[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+k[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+k[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const x=w-this.blockSize,k=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=x;)l(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<w;)if(k[N++]=D.charCodeAt(U++),N==this.blockSize){l(this,k),N=0;break}}else for(;U<w;)if(k[N++]=D[U++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)D[w++]=this.g[x]>>>k&255;return D};function c(D,w){var x=p;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=w(D)}function d(D,w){this.h=w;const x=[];let k=!0;for(let N=D.length-1;N>=0;N--){const U=D[N]|0;k&&U==w||(x[N]=U,k=!1)}this.g=x}var p={};function _(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return I;if(D<0)return ie(y(-D));const w=[];let x=1;for(let k=0;D>=x;k++)w[k]=D/x|0,x*=4294967296;return new d(w,0)}function b(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return ie(b(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let k=I;for(let U=0;U<D.length;U+=8){var N=Math.min(8,D.length-U);const R=parseInt(D.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),k=k.j(N).add(y(R))):(k=k.j(x),k=k.add(y(R)))}return k}var I=_(0),V=_(1),Y=_(16777216);r=d.prototype,r.m=function(){if(re(this))return-ie(this).m();let D=0,w=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);D+=(k>=0?k:4294967296+k)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(re(this))return"-"+ie(this).toString(D);const w=y(Math.pow(D,6));var x=this;let k="";for(;;){const N=De(x,w).g;x=me(x,N.j(w));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=N,W(x))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function re(D){return D.h==-1}r.l=function(D){return D=me(this,D),re(D)?-1:W(D)?0:1};function ie(D){const w=D.g.length,x=[];for(let k=0;k<w;k++)x[k]=~D.g[k];return new d(x,~D.h).add(V)}r.abs=function(){return re(this)?ie(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),x=[];let k=0;for(let N=0;N<=w;N++){let U=k+(this.i(N)&65535)+(D.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function me(D,w){return D.add(ie(w))}r.j=function(D){if(W(this)||W(D))return I;if(re(this))return re(D)?ie(this).j(ie(D)):ie(ie(this).j(D));if(re(D))return ie(this.j(ie(D)));if(this.l(Y)<0&&D.l(Y)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,x=[];for(var k=0;k<2*w;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<D.g.length;N++){const U=this.i(k)>>>16,R=this.i(k)&65535,Ue=D.i(N)>>>16,dt=D.i(N)&65535;x[2*k+2*N]+=R*dt,Ae(x,2*k+2*N),x[2*k+2*N+1]+=U*dt,Ae(x,2*k+2*N+1),x[2*k+2*N+1]+=R*Ue,Ae(x,2*k+2*N+1),x[2*k+2*N+2]+=U*Ue,Ae(x,2*k+2*N+2)}for(D=0;D<w;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=w;D<2*w;D++)x[D]=0;return new d(x,0)};function Ae(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ge(D,w){this.g=D,this.h=w}function De(D,w){if(W(w))throw Error("division by zero");if(W(D))return new ge(I,I);if(re(D))return w=De(ie(D),w),new ge(ie(w.g),ie(w.h));if(re(w))return w=De(D,ie(w)),new ge(ie(w.g),w.h);if(D.g.length>30){if(re(D)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var x=V,k=w;k.l(D)<=0;)x=tt(x),k=tt(k);var N=Ne(x,1),U=Ne(k,1);for(k=Ne(k,2),x=Ne(x,2);!W(k);){var R=U.add(k);R.l(D)<=0&&(N=N.add(x),U=R),k=Ne(k,1),x=Ne(x,1)}return w=me(D,N.j(w)),new ge(N,w)}for(N=I;D.l(w)>=0;){for(x=Math.max(1,Math.floor(D.m()/w.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(x),R=U.j(w);re(R)||R.l(D)>0;)x-=k,U=y(x),R=U.j(w);W(U)&&(U=V),N=N.add(U),D=me(D,R)}return new ge(N,D)}r.B=function(D){return De(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)&D.i(k);return new d(x,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)|D.i(k);return new d(x,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),x=[];for(let k=0;k<w;k++)x[k]=this.i(k)^D.i(k);return new d(x,this.h^D.h)};function tt(D){const w=D.g.length+1,x=[];for(let k=0;k<w;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new d(x,D.h)}function Ne(D,w){const x=w>>5;w%=32;const k=D.g.length-x,N=[];for(let U=0;U<k;U++)N[U]=w>0?D.i(U+x)>>>w|D.i(U+x+1)<<32-w:D.i(U+x);return new d(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Rs=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s0,Kl,a0,Fc,fm,o0,l0,u0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function I(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var Z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)Z[Re-2]=arguments[Re];return m.prototype[P].apply(A,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let Z=0;Z<q;Z++)u[v+Z]=P[Z]}else u.push(P)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function me(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const A=ge.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new re(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,Ne=!1,D=new Ae,w=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(x)}};function x(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){ie(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ue(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}I(Ue,N),Ue.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function $e(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const Z=_e(u,m,A,P);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new te(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function fe(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function _e(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),xt={};function Je(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Je(u,m[q],v,A,P);return null}return v=lt(v),u&&u[dt]?u.J(m,v,p(A)?!!A.capture:!1,P):nt(u,m,v,!1,A,P)}function nt(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const Z=p(P)?!!P.capture:!!P;let Re=lr(u);if(Re||(u[Oe]=Re=new ne(u)),v=Re.add(m,v,A,Z,q),v.proxy)return v;if(A=Zt(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(P=Z),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(hn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zt(){function u(v){return m.call(u.src,u.listener,v)}const m=Ps;return u}function Qn(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qn(u,m[q],v,A,P);else A=p(A)?!!A.capture:!!A,v=lt(v),u&&u[dt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=_e(m,v,A,P),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_e(m,v,A,P)),(v=u>-1?m[u]:null)&&Lr(v))}function Lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])fe(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(hn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=lr(m))?(fe(v,u),v.h==0&&(v.src=null,m[Oe]=null)):ue(u)}}}function hn(u){return u in xt?xt[u]:xt[u]="on"+u}function Ps(u,m){if(u.da)u=!0;else{m=new Ue(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Lr(u),u=v.call(A,m)}return u}function lr(u){return u=u[Oe],u instanceof ne?u:null}var Xn="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(u){return typeof u=="function"?u:(u[Xn]||(u[Xn]=function(m){return u.handleEvent(m)}),u[Xn])}function We(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}I(We,k),We.prototype[dt]=!0,We.prototype.removeEventListener=function(u,m,v,A){Qn(this,u,m,v,A)};function Et(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(A,u),ee(m,P)}P=!0;let q,Z;if(v)for(Z=v.length-1;Z>=0;Z--)q=m.g=v[Z],P=Vi(q,A,!0,m)&&P;if(q=m.g=u,P=Vi(q,A,!0,m)&&P,P=Vi(q,A,!1,m)&&P,v)for(Z=0;Z<v.length;Z++)q=m.g=v[Z],P=Vi(q,A,!1,m)&&P}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ue(v[A]);delete u.g[m],u.h--}}this.G=null},We.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},We.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Vi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const Z=m[q];if(Z&&!Z.da&&Z.capture==v){const Re=Z.listener,Ot=Z.ha||Z.src;Z.fa&&fe(u.i,Z),P=Re.call(Ot,A)!==!1&&P}}return P&&!A.defaultPrevented}function ki(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function js(u){u.g=ki(()=>{u.g=null,u.i&&(u.i=!1,js(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(u){k.call(this),this.h=u,this.g={}}I(Sn,k);var Ge=[];function zs(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&Lr(m)},u),u.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),zs(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=d.JSON.stringify,Ui=d.JSON.parse,An=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bs(){}function Oa(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){N.call(this,"d")}I(Me,N);function wt(){N.call(this,"c")}I(wt,N);var pt={},qs=null;function mi(){return qs=qs||new We}pt.Ia="serverreachability";function Hs(u){N.call(this,pt.Ia,u)}I(Hs,N);function bn(u){const m=mi();Et(m,new Hs(m))}pt.STAT_EVENT="statevent";function pi(u,m){N.call(this,pt.STAT_EVENT,u),this.stat=m}I(pi,N);function It(u){const m=mi();Et(m,new pi(m,u))}pt.Ja="timingevent";function $n(u,m){N.call(this,pt.Ja,u),this.size=m}I($n,N);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function Xo(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var Z="",Re=q.split("&");for(let Ze=0;Ze<Re.length;Ze++){var Ot=Re[Ze].split("=");if(Ot.length>1){const St=Ot[0];Ot=Ot[1];const ii=St.split("_");Z=ii.length>=2&&ii[1]=="type"?Z+(St+"="+Ot+"&"):Z+(St+"=redacted&")}}}else Z=null;else Z=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+Z})}function Ma(u,m,v,A,P,q,Z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+Z})}function Ln(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Va(u,v)+(A?" "+A:"")})}function Pi(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function Va(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let Z=1;Z<A.length;Z++)A[Z]=""}}}}return Li(q)}catch{return m}}var ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ur;function Bi(){}I(Bi,Bs),Bi.prototype.g=function(){return new XMLHttpRequest},ur=new Bi;function gi(u){return encodeURIComponent(String(u))}function ka(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Un(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Rt={},Ut={};function Wn(u,m,v){u.M=1,u.A=Fs(Ye(m)),u.u=v,u.R=!0,Ur(u,null)}function Ur(u,m){u.F=Date.now(),Zn(u),u.B=Ye(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),za(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Pn,u.g=Nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ge[0]=P.toString()),P=Ge);for(let q=0;q<P.length;q++){const Z=Je(v,P[q],A||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bn(),Xo(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ti(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Ti(this.g),Ot=this.g.ya(),Ze=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Re!=4||Ot==7||(Ot==8||Ze<=0?bn(3):bn(2)),ei(this);var m=this.g.ca();this.X=m;var v=$o(this);if(this.o=m==200,Ma(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)Ln(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tt(this,u);else{this.o=!1,this.m=3,It(12),ae(this),T(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=Ua(this,v),St==Ut){Re==4&&(this.m=4,It(14),u=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Rt){this.m=4,It(15),Ln(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ln(this.i,this.l,St,null),Tt(this,St);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)Ln(this.i,this.l,v,"[Invalid Chunked Response]"),ae(this),T(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(Z),Z.P=!0,It(11))}}else Ln(this.i,this.l,v,null),Tt(this,v);Re==4&&ae(this),this.o&&!this.K&&(Re==4?Ru(this.j,this):(this.o=!1,Zn(this)))}else hr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),ae(this),T(this)}}}catch{}};function $o(u){if(!La(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const A=m.length,P=Ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ae(u),T(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function La(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ua(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ut:(v=Number(m.substring(v,A)),isNaN(v)?Rt:(A+=1,A+v>m.length?Ut:(m=m.slice(A,A+v),u.C=A+v,m)))}Un.prototype.cancel=function(){this.K=!0,ae(this)};function Zn(u){u.T=Date.now()+u.H,Pr(u,u.H)}function Pr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(y(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Pi(this.i,this.B),this.M!=2&&(bn(),It(17)),ae(this),this.m=2,T(this)):Pr(this,this.T-u)};function T(u){u.j.I==0||u.K||Ru(u.j,u)}function ae(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,zs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Tt(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||In(v.h,u))){if(!u.L&&In(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ga(v),Yr(v);else break e;Js(v),It(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Jn(y(v.Va,v),6e3));Nt(v.h)<=1&&v.ta&&(v.ta=void 0)}else Yi(v,11)}else if((u.L||v.g==u)&&Ga(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ze=P[m];const St=Ze[0];if(!(St<=v.K))if(v.K=St,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const ii=Ze[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const Qi=Ze[4];Qi!=null&&(v.za=Qi,v.j.info("SVER="+v.za));const Si=Ze[5];Si!=null&&typeof Si=="number"&&Si>0&&(A=1.5*Si,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ai=u.g;if(Ai){const Ws=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var q=A.h;q.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(be(q,q.h),q.h=null))}if(A.G){const Ka=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(A.wa=Ka,rt(A.J,A.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var Z=u;if(A.na=xu(A,A.L?A.ba:null,A.W),Z.L){Ve(A.h,Z);var Re=Z,Ot=A.O;Ot&&(Re.H=Ot),Re.D&&(ei(Re),Zn(Re)),A.g=Z}else wu(A);v.i.length>0&&Ki(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Yi(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Yi(v,7):rl(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}bn(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function yi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _i(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nt(u){return u.h?1:u.g?u.g.size:0}function In(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function be(u,m){u.g?u.g.add(m):u.h=m}function Ve(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yi.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.u),this.h=u.h,Jo(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(Pa))?(this.l=!1,$t(this,m[1]||"",!0),this.o=qi(m[2]||""),this.g=qi(m[3]||"",!0),zr(this,m[4]),this.h=qi(m[5]||"",!0),Jo(this,m[6]||"",!0),this.m=qi(m[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Gs(m,ja,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gs(m,ja,!0),"@"),u.push(gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gs(v,v.charAt(0)=="/"?Wo:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gs(v,Tu)),u.join("")},_n.prototype.resolve=function(u){const m=Ye(this);let v=!!u.j;v?$t(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)zr(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let Z=0;Z<P.length;){const Re=P[Z++];Re=="."?A&&Z==P.length&&q.push(""):Re==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&Z==P.length&&q.push("")):(q.push(Re),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Jo(m,Au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ye(u){return new _n(u)}function $t(u,m,v){u.j=v?qi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Jo(u,m,v){m instanceof qr?(u.i=m,Ba(u.i,u.l)):(v||(m=Gs(m,Br)),u.i=new qr(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function Fs(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function qi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ja=/[#\/\?@]/g,Eu=/[#\?:]/g,Wo=/[#\?]/g,Br=/[#\?@]/g,Tu=/#/g;function qr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&jr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=qr.prototype,r.add=function(u,m){Cn(this),this.i=null,u=Hr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Su(u,m){Cn(u),m=Hr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zo(u,m){return Cn(u),m=Hr(u,m),u.g.has(m)}r.forEach=function(u,m){Cn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function el(u,m){Cn(u);let v=[];if(typeof m=="string")Zo(u,m)&&(v=v.concat(u.g.get(Hr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Cn(this),this.i=null,u=Hr(this,u),Zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=el(this,u),u.length>0?String(u[0]):m):m};function za(u,m,v){Su(u,m),v.length>0&&(u.i=null,u.g.set(Hr(u,m),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=gi(v);v=el(this,v);for(let q=0;q<v.length;q++){let Z=P;v[q]!==""&&(Z+="="+gi(v[q])),u.push(Z)}}return this.i=u.join("&")};function Au(u){const m=new qr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Hr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ba(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Su(this,A),za(this,P,v))},u)),u.j=m}function vi(u,m){const v=new wn;if(d.Image){const A=new Image;A.onload=b(ti,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(ti,v,"TestLoadImage: error",!1,m,A),A.onabort=b(ti,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(ti,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function tl(u,m){const v=new wn,A=new AbortController,P=setTimeout(()=>{A.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ti(v,"TestPingServer: error",!1,m)})}function ti(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Fr(){this.g=new An}function Hi(u){this.i=u.Sb||null,this.h=u.ab||!1}I(Hi,Bs),Hi.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(u,m){We.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(Ks,We),r=Ks.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gr(this):Ei(this),this.readyState==3&&qa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Gr(this))},r.Na=function(u){this.g&&(this.response=u,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return He(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ys(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ni(v),typeof u=="string"?v!=null&&gi(v):rt(u,m,v))}function ut(u){We.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(ut,We);var Fi=/^https?$/i,nl=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ur.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Qs(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(nl,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of v)this.g.setRequestHeader(q,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Qs(this,q)}};function Qs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,il(u),cr(u)}function il(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Et(this,"complete"),Et(this,"abort"),cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(u){if(u.h&&typeof c<"u"){if(u.v&&Ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Et(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let Z=String(u.D).match(Pa)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),A=!Fi.test(Z?Z.toLowerCase():"")}v=A}if(v)Et(u,"complete"),Et(u,"success");else{u.o=6;try{var P=Ti(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",il(u)}}finally{cr(u)}}}}function cr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Et(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ui(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hr(u){const m={};u=(u.g&&Ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=ka(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}$e(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Kr(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,u),this.Za=Gi("retryDelaySeedMs",1e4,u),this.Ta=Gi("forwardChannelMaxRetries",2,u),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yi(u&&u.concurrentRequestLimit),this.Ba=new Fr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Kr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){It(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),Ki(this)};function rl(u){if(Ha(u),u.I==3){var m=u.V++,v=Ye(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),$s(u,v),m=new Un(u,u.j,m),m.M=2,m.A=Fs(Ye(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}Du(u)}function Yr(u){u.g&&(al(u),u.g.cancel(),u.g=null)}function Ha(u){Yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ki(u){if(!_i(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||w(),Ne||(tt(),Ne=!0),D.add(m,u),u.D=0}}function Fa(u,m){return Nt(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(y(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Un(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),ee(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,P,m),v=Ye(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),$s(this,v),q&&(this.R?m="headers="+gi(ni(q))+"&"+m:this.u&&Ys(v,this.u,q)),be(this.h,P),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),P.U=!0,Wn(P,v,null)):Wn(P,v,m),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||_i(this.h)||sl(this))};function sl(u,m){var v;m?v=m.l:v=u.V++;const A=Ye(u.J);rt(A,"SID",u.M),rt(A,"RID",v),rt(A,"AID",u.K),$s(u,A),u.u&&u.o&&Ys(A,u.u,u.o),v=new Un(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),be(u.h,v),Wn(v,A,m)}function $s(u,m){u.H&&He(u.H,function(v,A){rt(m,A,v)}),u.l&&He({},function(v,A){rt(m,A,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Re=-1;for(;;){const Ot=["count="+v];Re==-1?v>0?(Re=P[0].g,Ot.push("ofs="+Re)):Re=0:Ot.push("ofs="+Re);let Ze=!0;for(let St=0;St<v;St++){var q=P[St].g;const ii=P[St].map;if(q-=Re,q<0)Re=Math.max(0,P[St].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var Z=ii instanceof Map?ii:Object.entries(ii);for(const[Qi,Si]of Z){let Ai=Si;p(Si)&&(Ai=Li(Si)),Ot.push(q+Qi+"="+encodeURIComponent(Ai))}}catch(Qi){throw Ot.push(q+"type="+encodeURIComponent("_badmap")),Qi}}catch{A&&A(ii)}}if(Ze){Z=Ot.join("&");break e}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||w(),Ne||(tt(),Ne=!0),D.add(m,u),u.A=0}}function Js(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(y(u.Da,u),Cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Yr(this),Iu(this))};function al(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ye(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),$s(u,m),u.u&&u.o&&Ys(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Fs(Ye(m)),v.u=null,v.R=!0,Ur(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Yr(this),Js(this),It(19))};function Ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){Ga(u),al(u),u.g=null;var A=2}else if(In(u.h,m))v=m.G,Ve(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=mi(),Et(A,new $n(A,v)),Ki(u)}else wu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&Fa(u,m)||A==2&&Js(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function Cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const P=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(A,"https"),Fs(A),P?vi(A.toString(),v):tl(A.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Du(u),Ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=yn(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var A=v instanceof _n?Ye(v):new _n(v);if(A.g!="")m&&(A.g=m+"."+A.g),zr(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new _n(null);A&&$t(q,A),m&&(q.g=m),P&&zr(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&rt(A,v,m),rt(A,"VER",u.ka),$s(u,A),A}function Nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Hi({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qr(){}Qr.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){We.call(this),this.g=new Kr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}I(vn,We),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){rl(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Li(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ki(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,vn.Z.N.call(this)};function Mu(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(Mu,Me);function Vu(){wt.call(this),this.status=1}I(Vu,wt);function fr(u){this.g=u}I(fr,Ou),fr.prototype.ra=function(){Et(this.g,"a")},fr.prototype.qa=function(u){Et(this.g,new Mu(u))},fr.prototype.pa=function(u){Et(this.g,new Vu)},fr.prototype.oa=function(){Et(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,u0=function(){return new Qr},l0=function(){return mi()},o0=pt,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,Fc=ji,zi.COMPLETE="complete",a0=zi,Oa.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",We.prototype.listen=We.prototype.J,Kl=Oa,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,s0=ut}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Fo="12.9.0";function tw(r){Fo=r}const Sa=new Ah("@firebase/firestore");function bo(){return Sa.logLevel}function se(r,...e){if(Sa.logLevel<=ze.DEBUG){const i=e.map(km);Sa.debug(`Firestore (${Fo}): ${r}`,...i)}}function Mr(r,...e){if(Sa.logLevel<=ze.ERROR){const i=e.map(km);Sa.error(`Firestore (${Fo}): ${r}`,...i)}}function Aa(r,...e){if(Sa.logLevel<=ze.WARN){const i=e.map(km);Sa.warn(`Firestore (${Fo}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ye(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,c0(r,s,i)}function c0(r,e,i){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mr(s),new Error(s)}function it(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||c0(e,l,s)}function Se(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Mi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class va{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class h0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class iw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new va;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new va,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new va)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new h0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class sw{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aw{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ow{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=lw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Be(r,e){return r<e?-1:r>e?1:0}function dm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return $d(l)===$d(c)?Be(l,c):$d(l)?1:-1}return Be(r.length,e.length)}const uw=55296,cw=57343;function $d(r){const e=r.charCodeAt(0);return e>=uw&&e<=cw}function ko(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const Ev="__name__";class Zi{constructor(e,i,s){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ye(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const s=Zi.isNumericId(e),l=Zi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class _t extends Zi{construct(e,i,s){return new _t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const hw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Zi{construct(e,i,s){return new un(e,i,s)}static isValidIdentifier(e){return hw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new un([Ev])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(_t.fromString(e))}static fromName(e){return new de(_t.fromString(e).popFirst(5))}static empty(){return new de(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new _t(e.slice()))}}function f0(r,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fw(r,e,i,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Tv(r){if(!de.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Sv(r){if(de.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Nr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ht(r,e){const i={typeString:r};return e&&(i.value=e),i}function fu(r,e){if(!d0(r))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const Av=-62135596800,bv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*bv);return new vt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Av)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ht("string",vt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new vt(0,0))}static max(){return new Ee(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function dw(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(s===1e9?new vt(i+1,0):new vt(i,s));return new xs(l,de.empty(),e)}function mw(r){return new xs(r.readTime,r.key,iu)}class xs{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xs(Ee.min(),de.empty(),iu)}static max(){return new xs(Ee.max(),de.empty(),iu)}}function pw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(r.documentKey,e.documentKey),i!==0?i:Be(r.largestBatchId,e.largestBatchId))}const gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Go(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==gw)throw r;se("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++p,p===c&&s(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function _w(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ko(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Pm=-1;function wh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function vw(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const m0="";function Ew(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=wv(e)),e=Tw(r.get(i),e);return wv(e)}function Tw(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case m0:i+="";break;default:i+=c}}return i}function wv(r){return r+m0+""}function Iv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ls(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function p0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??ln.RED,this.left=l??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new ln(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(e){return new Rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Qt(this.comparator);return i.data=e,i}}class Rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new Qt(un.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g0("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(r){if(it(!!r,39018),typeof r=="string"){let e=0;const i=Sw.exec(r);if(it(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Os(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const y0="server_timestamp",_0="__type__",v0="__previous_value__",E0="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===y0}function Ih(r){const e=r.mapValue.fields[v0];return jm(e)?Ih(e):e}function ru(r){const e=Ns(r.mapValue.fields[E0].timestampValue);return new vt(e.seconds,e.nanos)}class Aw{constructor(e,i,s,l,c,d,p,_,y,b,I){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=I}}const ih="(default)";class su{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}function bw(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(r.options.projectId,e)}const T0="__type__",ww="__max__",zc={mapValue:{}},S0="__vector__",rh="value";function Ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:Rw(r)?9007199254740991:Iw(r)?10:11:ye(28295,{value:r})}function sr(r,e){if(r===e)return!0;const i=Ms(r);if(i!==Ms(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ns(l.timestampValue),p=Ns(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Os(l.bytesValue).isEqual(Os(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Lt(l.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Lt(l.integerValue)===Lt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Lt(l.doubleValue),p=Lt(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Iv(d)!==Iv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!sr(d[_],p[_])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function au(r,e){return(r.values||[]).find((i=>sr(i,e)))!==void 0}function Lo(r,e){if(r===e)return 0;const i=Ms(r),s=Ms(e);if(i!==s)return Be(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Lt(c.integerValue||c.doubleValue),_=Lt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return Cv(r.timestampValue,e.timestampValue);case 4:return Cv(ru(r),ru(e));case 5:return dm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Os(c),_=Os(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Be(p[y],_[y]);if(b!==0)return b}return Be(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(Lt(c.latitude),Lt(d.latitude));return p!==0?p:Be(Lt(c.longitude),Lt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Dv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[rh]?.arrayValue,b=_[rh]?.arrayValue,I=Be(y?.values?.length||0,b?.values?.length||0);return I!==0?I:Dv(y,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let I=0;I<_.length&&I<b.length;++I){const V=dm(_[I],b[I]);if(V!==0)return V;const Y=Lo(p[_[I]],y[b[I]]);if(Y!==0)return Y}return Be(_.length,b.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function Cv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const i=Ns(r),s=Ns(e),l=Be(i.seconds,s.seconds);return l!==0?l:Be(i.nanos,s.nanos)}function Dv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Lo(i[l],s[l]);if(c)return c}return Be(i.length,s.length)}function Uo(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ns(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Os(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return de.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=mm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function Gc(r){switch(Ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return Os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ls(s.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function pm(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function Iw(r){return(r?.mapValue?.fields||{})[T0]?.stringValue===S0}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function Rw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ww}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=un.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Ls(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new kn(Jl(this.value))}}function A0(r){const e=[];return Ls(r.fields,((i,s)=>{const l=new un([i]);if(Kc(s)){const c=A0(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Kn(e)}class pn{constructor(e,i,s,l,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Ee.min(),Ee.min(),Ee.min(),kn.empty(),0)}static newFoundDocument(e,i,s,l){return new pn(e,1,i,Ee.min(),s,l,0)}static newNoDocument(e,i){return new pn(e,2,i,Ee.min(),Ee.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,Ee.min(),Ee.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function Ov(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=de.comparator(de.fromName(d.referenceValue),i.key):s=Lo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!sr(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function Cw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class b0{}class Yt extends b0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new xw(e,i,s):i==="array-contains"?new Mw(e,s):i==="in"?new Vw(e,s):i==="not-in"?new kw(e,s):i==="array-contains-any"?new Lw(e,s):new Yt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Nw(e,s):new Ow(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Lo(i,this.value)):i!==null&&Ms(this.value)===Ms(i)&&this.matchesComparison(Lo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends b0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ar(e,i)}matches(e){return w0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w0(r){return r.op==="and"}function I0(r){return Dw(r)&&w0(r)}function Dw(r){for(const e of r.filters)if(e instanceof ar)return!1;return!0}function gm(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(I0(r))return r.filters.map((e=>gm(e))).join(",");{const e=r.filters.map((i=>gm(i))).join(",");return`${r.op}(${e})`}}function R0(r,e){return r instanceof Yt?(function(s,l){return l instanceof Yt&&s.op===l.op&&s.field.isEqual(l.field)&&sr(s.value,l.value)})(r,e):r instanceof ar?(function(s,l){return l instanceof ar&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&R0(d,l.filters[p])),!0):!1})(r,e):void ye(19439)}function C0(r){return r instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Uo(i.value)}`})(r):r instanceof ar?(function(i){return i.op.toString()+" {"+i.getFilters().map(C0).join(" ,")+"}"})(r):"Filter"}class xw extends Yt{constructor(e,i,s){super(e,i,s),this.key=de.fromName(s.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Nw extends Yt{constructor(e,i){super(e,"in",i),this.keys=D0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ow extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=D0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function D0(r,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class Mw extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zm(i)&&au(i.arrayValue,this.value)}}class Vw extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class kw extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class Lw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class Uw{constructor(e,i=null,s=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Vv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new Uw(r,e,i,s,l,c,d)}function Bm(r){const e=Se(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>gm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),wh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=i}return e.Te}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Cw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!R0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Mv(r.startAt,e.startAt)&&Mv(r.endAt,e.endAt)}function ym(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(e,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Pw(r,e,i,s,l,c,d,p){return new Rh(r,e,i,s,l,c,d,p)}function Hm(r){return new Rh(r)}function kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jw(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function zw(r){return r.collectionGroup!==null}function Wl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qt(un.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,s))})),i.has(un.keyField().canonicalString())||e.Ie.push(new ah(un.keyField(),s))}return e.Ie}function er(r){const e=Se(r);return e.Ee||(e.Ee=Bw(e,Wl(r))),e.Ee}function Bw(r,e){if(r.limitType==="F")return Vv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return Vv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function _m(r,e,i){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ch(r,e){return qm(er(r),er(e))&&r.limitType===e.limitType}function x0(r){return`${Bm(er(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>C0(l))).join(", ")}]`),wh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Uo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Uo(l))).join(",")),`Target(${s})`})(er(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=Ov(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Wl(s),l)||s.endAt&&!(function(d,p,_){const y=Ov(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Wl(s),l))})(r,e)}function qw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N0(r){return(e,i)=>{let s=!1;for(const l of Wl(r)){const c=Hw(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Hw(r,e,i){const s=r.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Lo(_,y):ye(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class xa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}const Fw=new bt(de.comparator);function Vr(){return Fw}const O0=new bt(de.comparator);function Yl(...r){let e=O0;for(const i of r)e=e.insert(i.key,i);return e}function M0(r){let e=O0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ga(){return Zl()}function V0(){return Zl()}function Zl(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Gw=new bt(de.comparator),Kw=new Qt(de.comparator);function qe(...r){let e=Kw;for(const i of r)e=e.add(i);return e}const Yw=new Qt(Be);function Qw(){return Yw}function Fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function k0(r){return{integerValue:""+r}}function Xw(r,e){return vw(e)?k0(e):Fm(r,e)}class xh{constructor(){this._=void 0}}function $w(r,e,i){return r instanceof oh?(function(l,c){const d={fields:{[_0]:{stringValue:y0},[E0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=Ih(c)),c&&(d.fields[v0]=c),{mapValue:d}})(i,e):r instanceof ou?U0(r,e):r instanceof lu?P0(r,e):(function(l,c){const d=L0(l,c),p=Lv(d)+Lv(l.Ae);return pm(d)&&pm(l.Ae)?k0(p):Fm(l.serializer,p)})(r,e)}function Jw(r,e,i){return r instanceof ou?U0(r,e):r instanceof lu?P0(r,e):i}function L0(r,e){return r instanceof lh?(function(s){return pm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class oh extends xh{}class ou extends xh{constructor(e){super(),this.elements=e}}function U0(r,e){const i=j0(e);for(const s of r.elements)i.some((l=>sr(l,s)))||i.push(s);return{arrayValue:{values:i}}}class lu extends xh{constructor(e){super(),this.elements=e}}function P0(r,e){let i=j0(e);for(const s of r.elements)i=i.filter((l=>!sr(l,s)));return{arrayValue:{values:i}}}class lh extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Lv(r){return Lt(r.integerValue||r.doubleValue)}function j0(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ww(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof ou&&l instanceof ou||s instanceof lu&&l instanceof lu?ko(s.elements,l.elements,sr):s instanceof lh&&l instanceof lh?sr(s.Ae,l.Ae):s instanceof oh&&l instanceof oh})(r.transform,e.transform)}class Zw{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nh{}function z0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gm(r.key,Di.none()):new du(r.key,r.data,Di.none());{const i=r.data,s=kn.empty();let l=new Qt(un.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Us(r.key,s,new Kn(l.toArray()),Di.none())}}function eI(r,e,i){r instanceof du?(function(l,c,d){const p=l.value.clone(),_=Pv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Us?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Pv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(B0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eu(r,e,i,s){return r instanceof du?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=c.value.clone(),b=jv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Us?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=jv(c.fieldTransforms,_,d),b=d.data;return b.setAll(B0(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,e,i,s):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function tI(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=L0(s.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(s.field,c))}return i||null}function Uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ko(s,l,((c,d)=>Ww(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Nh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Us extends Nh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function B0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Pv(r,e,i){const s=new Map;it(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);s.set(c.field,Jw(d,p,i[l]))}return s}function jv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,$w(c,d,e))}return s}class Gm extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nI extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iI{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&eI(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=V0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=z0(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((i,s)=>Uv(i,s)))&&ko(this.baseMutations,e.baseMutations,((i,s)=>Uv(i,s)))}}class Km{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return Gw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Km(e,i,s,l)}}class rI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sI{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Ke;function aI(r){switch(r){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function q0(r){if(r===void 0)return Mr("GRPC error has no .code"),J.UNKNOWN;switch(r){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:r})}}(Ke=qt||(qt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function oI(){return new TextEncoder}const lI=new Rs([4294967295,4294967295],0);function zv(r){const e=oI().encode(r),i=new r0;return i.update(e),new Uint8Array(i.digest())}function Bv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Rs([i,s],0),new Rs([l,c],0)]}class Ym{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Rs.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Rs.fromNumber(s)));return l.compare(lI)===1&&(l=new Rs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=zv(e),[s,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=zv(e),[s,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Oh(Ee.min(),l,new bt(Be),Vr(),qe())}}class mu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mu(s,i,qe(),qe(),qe())}}class Qc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class H0{constructor(e,i){this.targetId=e,this.Ce=i}}class F0{constructor(e,i,s=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),s=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:c})}})),new mu(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=Hv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.He=Bc(),this.Je=Bc(),this.Ze=new bt(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(s===0){const d=new de(c.path);this.et(i,d,pn.newNoDocument(d,Ee.min()))}else it(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Os(s).toUint8Array()}catch(_){if(_ instanceof g0)return Aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ym(d,l,c)}catch(_){return Aa(_ instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ym(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,pn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=qe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,s);return this.je=Vr(),this.He=Bc(),this.Je=Bc(),this.Ze=new bt(Be),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new qv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Qt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Qt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new bt(de.comparator)}function Hv(){return new bt(de.comparator)}const cI={asc:"ASCENDING",desc:"DESCENDING"},hI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class dI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mI(r,e){return uh(r,e.toTimestamp())}function tr(r){return it(!!r,49232),Ee.fromTimestamp((function(i){const s=Ns(i);return new vt(s.seconds,s.nanos)})(r))}function Qm(r,e){return Em(r,e).canonicalString()}function Em(r,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function K0(r){const e=_t.fromString(r);return it(J0(e),10190,{key:e.toString()}),e}function Tm(r,e){return Qm(r.databaseId,e.path)}function Jd(r,e){const i=K0(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new de(Q0(i))}function Y0(r,e){return Qm(r.databaseId,e)}function pI(r){const e=K0(r);return e.length===4?_t.emptyPath():Q0(e)}function Sm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q0(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Fv(r,e,i){return{name:Tm(r,e),fields:i.value.mapValue.fields}}function gI(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(it(b===void 0||typeof b=="string",58123),cn.fromBase64String(b||"")):(it(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),cn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:q0(y.code);return new ce(b,y.message||"")})(d);i=new F0(s,l,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Jd(r,s.document.name),c=tr(s.document.updateTime),d=s.document.createTime?tr(s.document.createTime):Ee.min(),p=new kn({mapValue:{fields:s.document.fields}}),_=pn.newFoundDocument(l,c,d,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Qc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Jd(r,s.document),c=s.readTime?tr(s.readTime):Ee.min(),d=pn.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Jd(r,s.document),c=s.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new sI(l,c),p=s.targetId;i=new H0(p,d)}}return i}function yI(r,e){let i;if(e instanceof du)i={update:Fv(r,e.key,e.value)};else if(e instanceof Gm)i={delete:Tm(r,e.key)};else if(e instanceof Us)i={update:Fv(r,e.key,e.data),updateMask:II(e.fieldMask)};else{if(!(e instanceof nI))return ye(16599,{dt:e.type});i={verify:Tm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ou)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:mI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(r,e.precondition)),i}function _I(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?tr(l.updateTime):tr(c);return d.isEqual(Ee.min())&&(d=tr(c)),new Zw(d,l.transformResults||[])})(i,e)))):[]}function vI(r,e){return{documents:[Y0(r,e.path)]}}function EI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Y0(r,l);const c=(function(y){if(y.length!==0)return $0(ar.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Io(V.field),direction:AI(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function TI(r){let e=pI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){it(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(I){const V=X0(I);return V instanceof ar&&I0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((V=>(function(W){return new ah(Ro(W.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(I){let V;return V=typeof I=="object"?I.value:I,wh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(I){const V=!!I.before,Y=I.values||[];return new sh(Y,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(I){const V=!I.before,Y=I.values||[];return new sh(Y,V)})(i.endAt)),Pw(e,l,d,c,p,"F",_,y)}function SI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ro(i.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ro(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ro(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ro(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Yt.create(Ro(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ar.create(i.compositeFilter.filters.map((s=>X0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(r):ye(30097,{filter:r})}function AI(r){return cI[r]}function bI(r){return hI[r]}function wI(r){return fI[r]}function Io(r){return{fieldPath:r.canonicalString()}}function Ro(r){return un.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof Yt?(function(i){if(i.op==="=="){if(Nv(i.value))return{unaryFilter:{field:Io(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Nv(i.value))return{unaryFilter:{field:Io(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(i.field),op:bI(i.op),value:i.value}}})(r):r instanceof ar?(function(i){const s=i.getFilters().map((l=>$0(l)));return s.length===1?s[0]:{compositeFilter:{op:wI(i.op),filters:s}}})(r):ye(54877,{filter:r})}function II(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function J0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function W0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class bs{constructor(e,i,s,l,c=Ee.min(),d=Ee.min(),p=cn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RI{constructor(e){this.yt=e}}function CI(r){const e=TI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(e,e.limit,"L"):e}class DI{constructor(){this.Sn=new xI}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(xs.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class xI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Qt(_t.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Qt(_t.comparator)).toArray()}}const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(Z0,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Po(0)}static ar(){return new Po(-1)}}const Kv="LruGarbageCollector",NI=1048576;function Yv([r,e],[i,s]){const l=Be(r,i);return l===0?Be(e,s):l}class OI{constructor(e){this.Pr=e,this.buffer=new Qt(Yv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Yv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){se(Kv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ko(i)?se(Kv,"Ignoring IndexedDB error during garbage collection: ",i):await Go(i)}await this.Ar(3e5)}))}}class VI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(bh.ce);const s=new OI(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Gv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(e,l)))).next((I=>(s=I,p=Date.now(),this.removeTargets(e,s,i)))).next((I=>(c=I,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((I=>(y=Date.now(),bo()<=ze.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${I} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function kI(r,e){return new VI(r,e)}class LI{constructor(){this.changes=new xa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class PI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&eu(s.mutation,l,Kn.empty(),vt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=qe()){const l=ga();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=Yl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,qe())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,l){let c=Vr();const d=Zl(),p=(function(){return Zl()})();return i.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Us)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),eu(b.mutation,y,b.mutation.getFieldMask(),vt.now())):d.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new UI(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Zl();let l=new bt(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=s.get(_)||Kn.empty();b=p.applyToLocalView(y,b),s.set(_,b);const I=(l.get(p.batchId)||qe()).add(_);l=l.insert(p.batchId,I)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,I=V0();b.forEach((V=>{if(!c.has(V)){const Y=z0(i.get(V),s.get(V));Y!==null&&I.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,I))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return jw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):zw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):$.resolve(ga());let p=iu,_=c;return d.next((y=>$.forEach(y,((b,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{_=_.insert(b,V)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((b=>({batchId:p,changes:M0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((s=>{let l=Yl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(I,V){return new Rh(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((I,V)=>{d=d.insert(I,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,pn.newInvalidDocument(b)))}));let p=Yl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&eu(b.mutation,y,Kn.empty(),vt.now()),Dh(i,y)&&(p=p.insert(_,y))})),p}))}}class jI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:tr(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:CI(l.bundledQuery),readTime:tr(l.readTime)}})(i)),$.resolve()}}class zI{constructor(){this.overlays=new bt(de.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const l=ga(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new bt(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=ga(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ga(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new rI(i,s));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class BI{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.kr=new Qt(Wt.Kr),this.qr=new Qt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Wt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Wt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new de(new _t([])),s=new Wt(i,e),l=new Wt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new _t([])),s=new Wt(i,e),l=new Wt(i,e+1);let c=qe();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}class qI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(Wt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Wt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Qt(Be);return i.forEach((l=>{const c=new Wt(l,0),d=new Wt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new de(c),0);let p=new Qt(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Wt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Wt(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class HI{constructor(e){this.ti=e,this.docs=(function(){return new bt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let s=Vr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():pn.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Vr();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||pw(mw(b),s)<=0||(l.has(b.key)||Dh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ye(9500)}ni(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new FI(this)}getSize(e){return $.resolve(this.size)}}class FI extends LI{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class GI{constructor(e){this.persistence=e,this.ri=new xa((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Xm,this.targetCount=0,this.oi=Po._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Po(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class eT{constructor(e,i){this._i={},this.overlays={},this.ai=new bh(0),this.ui=!1,this.ui=!0,this.ci=new BI,this.referenceDelegate=e(this),this.li=new GI(this),this.indexManager=new DI,this.remoteDocumentCache=(function(l){return new HI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new RI(i),this.Pi=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new qI(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){se("MemoryPersistence","Starting transaction:",e);const l=new KI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class KI extends yw{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Ai=null}static Vi(e){return new $m(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=de.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.fi=new xa((s=>Ew(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=kI(this,i)}static Vi(e,i){return new ch(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}wr(e,i,s){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,s,l)}}class YI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MA()?8:_w(gn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YI;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(bo()<=ze.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",wo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(bo()<=ze.DEBUG&&se("QueryEngine","Query:",wo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(bo()<=ze.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",wo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(i))):$.resolve())}gs(e,i){if(kv(i))return $.resolve(null);let s=er(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),s=er(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,_m(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,s,l){return kv(i)||l.isEqual(Ee.min())?$.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?$.resolve(null):(bo()<=ze.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),wo(i)),this.Ds(e,d,i,dw(l,iu)).next((p=>p)))}))}bs(e,i){let s=new Qt(N0(e));return i.forEach(((l,c)=>{Dh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return bo()<=ze.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",wo(i)),this.fs.getDocumentsMatchingQuery(e,i,xs.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",XI=3e8;class $I{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new bt(Be),this.Fs=new xa((c=>Bm(c)),qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function JI(r,e,i,s){return new $I(r,e,i,s)}async function tT(r,e){const i=Se(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=qe();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function WI(r,e){const i=Se(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const I=y.batch,V=I.keys();let Y=$.resolve();return V.forEach((W=>{Y=Y.next((()=>b.getEntry(_,W))).next((re=>{const ie=y.docVersions.get(W);it(ie!==null,48541),re.version.compareTo(ie)<0&&(I.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),b.addEntry(re)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,I)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function nT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ZI(r,e){const i=Se(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((b,I)=>{const V=l.get(I);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,I).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,I))));let Y=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(I)!==null?Y=Y.withResumeToken(cn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,s)),l=l.insert(I,Y),(function(re,ie,me){return re.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=XI?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(V,Y,b)&&p.push(i.li.updateTargetData(c,Y))}));let _=Vr(),y=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(eR(c,d,e.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!s.isEqual(Ee.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((I=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function eR(r,e,i){let s=qe(),l=qe();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Vr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Ee.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):se(Wm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function tR(r,e){const i=Se(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nR(r,e){const i=Se(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new bs(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Am(r,e,i){const s=Se(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ko(d))throw d;se(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function Qv(r,e,i){const s=Se(r);let l=Ee.min(),c=qe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const I=Se(_),V=I.Fs.get(b);return V!==void 0?$.resolve(I.vs.get(V)):I.li.getTargetData(y,b)})(s,d,er(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?c:qe()))).next((p=>(iR(s,qw(e),p),{documents:p,ks:c})))))}function iR(r,e,i){let s=r.Ms.get(e)||Ee.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class Xv{constructor(){this.activeTargetIds=Qw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rR{constructor(){this.vo=new Xv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Xv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sR{Mo(e){}shutdown(){}}const $v="ConnectivityMonitor";class Jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){se($v,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){se($v,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function bm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Wd="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=bm(),p=this.Qo(e,i.toUriEncodedString());se(Wd,`Sending RPC '${e}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=qo(y);return this.zo(e,p,_,s,b).then((I=>(se(Wd,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Aa(Wd,`RPC '${e}' ${d} failed with error: `,I,"url: ",p,"request:",s),I}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=aR[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class lR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dn="WebChannelConnection",Gl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Co extends oR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Co.c_){const e=l0();Gl(e,o0.STAT_EVENT,(i=>{i.stat===fm.PROXY?se(dn,"STAT_EVENT: detected buffering proxy"):i.stat===fm.NOPROXY&&se(dn,"STAT_EVENT: detected no buffering proxy")})),Co.c_=!0}}zo(e,i,s,l,c){const d=bm();return new Promise(((p,_)=>{const y=new s0;y.setWithCredentials(!0),y.listenOnce(a0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const I=y.getResponseJson();se(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),p(I);break;case Fc.TIMEOUT:se(dn,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const V=y.getStatus();if(se(dn,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const re=(function(me){const Ae=me.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ae)>=0?Ae:J.UNKNOWN})(W.status);_(new ce(re,W.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{se(dn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);se(dn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");se(dn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let I=!1,V=!1;const Y=new lR({Ho:W=>{V?se(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(I||(se(dn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),I=!0),se(dn,`RPC '${e}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return Gl(b,Kl.EventType.OPEN,(()=>{V||(se(dn,`RPC '${e}' stream ${l} transport opened.`),Y.i_())})),Gl(b,Kl.EventType.CLOSE,(()=>{V||(V=!0,se(dn,`RPC '${e}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),Gl(b,Kl.EventType.ERROR,(W=>{V||(V=!0,Aa(dn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),Gl(b,Kl.EventType.MESSAGE,(W=>{if(!V){const re=W.data[0];it(!!re,16349);const ie=re,me=ie?.error||ie[0]?.error;if(me){se(dn,`RPC '${e}' stream ${l} received error:`,me);const Ae=me.status;let ge=(function(Ne){const D=qt[Ne];if(D!==void 0)return q0(D)})(Ae),De=me.message;Ae==="NOT_FOUND"&&De.includes("database")&&De.includes("does not exist")&&De.includes(this.databaseId.database)&&Aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ge===void 0&&(ge=J.INTERNAL,De="Unknown error status: "+Ae+" with message "+me.message),V=!0,Y.o_(new ce(ge,De)),b.close()}else se(dn,`RPC '${e}' stream ${l} received:`,re),Y.__(re)}})),Co.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return u0()}}function uR(r){return new Co(r)}function Zd(){return typeof document<"u"?document:null}function Mh(r){return new dI(r,!0)}Co.c_=!1;class iT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wv="PersistentStream";class rT{constructor(e,i,s,l,c,d,p,_){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Mr(i.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(se(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cR extends rT{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=gI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?tr(d.readTime):Ee.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=ym(_)?{documents:vI(c,_)}:{query:EI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=G0(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=SI(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.K_(i)}}class hR extends rT{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_I(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Sm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>yI(this.serializer,s)))};this.K_(i)}}class fR{}class dR extends fR{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Em(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Em(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mR(r,e,i,s){return new dR(r,e,i,s)}class pR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ba="RemoteStore";class gR{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Na(this)&&(se(ba,"Restarting streams for network reachability change."),await(async function(_){const y=Se(_);y.Ea.add(4),await pu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Va=new pR(s,l)}}async function Vh(r){if(Na(r))for(const e of r.Ra)await e(!0)}async function pu(r){for(const e of r.Ra)await e(!1)}function sT(r,e){const i=Se(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):Yo(i).O_()&&ep(i,e))}function Zm(r,e){const i=Se(r),s=Yo(i);i.Ia.delete(e),s.O_()&&aT(i,e),i.Ia.size===0&&(s.O_()?s.L_():Na(i)&&i.Va.set("Unknown"))}function ep(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yo(r).Z_(e)}function aT(r,e){r.da.$e(e),Yo(r).X_(e)}function tp(r){r.da=new uI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.Va.ua()}function np(r){return Na(r)&&!Yo(r).x_()&&r.Ia.size>0}function Na(r){return Se(r).Ea.size===0}function oT(r){r.da=void 0}async function yR(r){r.Va.set("Online")}async function _R(r){r.Ia.forEach(((e,i)=>{ep(r,e)}))}async function vR(r,e){oT(r),np(r)?(r.Va.ha(e),tp(r)):r.Va.set("Unknown")}async function ER(r,e,i){if(r.Va.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,e)}catch(s){se(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hh(r,s)}else if(e instanceof Qc?r.da.Xe(e):e instanceof H0?r.da.st(e):r.da.tt(e),!i.isEqual(Ee.min()))try{const s=await nT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(cn.EMPTY_BYTE_STRING,b.snapshotVersion)),aT(c,_);const I=new bs(b.target,_,y,b.sequenceNumber);ep(c,I)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){se(ba,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,e,i){if(!Ko(e))throw e;r.Ea.add(1),await pu(r),r.Va.set("Offline"),i||(i=()=>nT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(ba,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Vh(r)}))}function lT(r,e){return e().catch((i=>hh(r,i,e)))}async function kh(r){const e=Se(r),i=Vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;TR(e);)try{const l=await tR(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,SR(e,l)}catch(l){await hh(e,l)}uT(e)&&cT(e)}function TR(r){return Na(r)&&r.Ta.length<10}function SR(r,e){r.Ta.push(e);const i=Vs(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function uT(r){return Na(r)&&!Vs(r).x_()&&r.Ta.length>0}function cT(r){Vs(r).start()}async function AR(r){Vs(r).ra()}async function bR(r){const e=Vs(r);for(const i of r.Ta)e.ea(i.mutations)}async function wR(r,e,i){const s=r.Ta.shift(),l=Km.from(s,e,i);await lT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await kh(r)}async function IR(r,e){e&&Vs(r).Y_&&await(async function(s,l){if((function(d){return aI(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();Vs(s).B_(),await lT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(s)}})(r,e),uT(r)&&cT(r)}async function Zv(r,e){const i=Se(r);i.asyncQueue.verifyOperationInProgress(),se(ba,"RemoteStore received new credentials");const s=Na(i);i.Ea.add(3),await pu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function RR(r,e){const i=Se(r);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await pu(i),i.Va.set("Unknown"))}function Yo(r){return r.ma||(r.ma=(function(i,s,l){const c=Se(i);return c.sa(),new cR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:yR.bind(null,r),Yo:_R.bind(null,r),t_:vR.bind(null,r),J_:ER.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),np(r)?tp(r):r.Va.set("Unknown")):(await r.ma.stop(),oT(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(i,s,l){const c=Se(i);return c.sa(),new hR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AR.bind(null,r),t_:IR.bind(null,r),ta:bR.bind(null,r),na:wR.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ip{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,p=new ip(e,i,d,l,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),Ko(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||de.comparator(i.key,s.key):(i,s)=>de.comparator(i.key,s.key),this.keyedMap=Yl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class eE{constructor(){this.ga=new bt(de.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class jo{constructor(e,i,s,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new jo(e,i,Do.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class DR{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Se(i),c=l.queries;l.queries=tE(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function tE(){return new xa((r=>x0(r)),Ch)}async function xR(r,e){const i=Se(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new CR,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=rp(d,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sp(i)}async function NR(r,e){const i=Se(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function OR(r,e){const i=Se(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&sp(i)}function MR(r,e,i){const s=Se(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function sp(r){r.Ca.forEach((e=>{e.next()}))}var wm,nE;(nE=wm||(wm={})).Ma="default",nE.Cache="cache";class VR{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class hT{constructor(e){this.key=e}}class fT{constructor(e){this.key=e}}class kR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=N0(e),this.tu=new Do(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new eE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,I)=>{const V=l.get(b),Y=Dh(this.query,I)?I:null,W=!!V&&this.mutatedKeys.has(V.key),re=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ie=!1;V&&Y?V.data.isEqual(Y.data)?W!==re&&(s.track({type:3,doc:Y}),ie=!0):this.su(V,Y)||(s.track({type:2,doc:Y}),ie=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!V&&Y?(s.track({type:0,doc:Y}),ie=!0):V&&!Y&&(s.track({type:1,doc:V}),ie=!0,(_||y)&&(p=!0)),ie&&(Y?(d=d.add(Y),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,I)=>(function(Y,W){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:ie})}};return re(Y)-re(W)})(b.type,I.type)||this.eu(b.doc,I.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new jo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new fT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new hT(s))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ap="SyncEngine";class LR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class UR{constructor(e){this.key=e,this.hu=!1}}class PR{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xa((p=>x0(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(de.comparator),this.Au=new Map,this.Vu=new Xm,this.du={},this.mu=new Map,this.fu=Po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jR(r,e,i=!0){const s=_T(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await dT(s,e,i,!0),l}async function zR(r,e){const i=_T(r);await dT(i,e,!0,!1)}async function dT(r,e,i,s){const l=await nR(r.localStore,er(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await BR(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&sT(r.remoteStore,l),p}async function BR(r,e,i,s,l){r.pu=(I,V,Y)=>(async function(re,ie,me,Ae){let ge=ie.view.ru(me);ge.Ss&&(ge=await Qv(re.localStore,ie.query,!1).then((({documents:D})=>ie.view.ru(D,ge))));const De=Ae&&Ae.targetChanges.get(ie.targetId),tt=Ae&&Ae.targetMismatches.get(ie.targetId)!=null,Ne=ie.view.applyChanges(ge,re.isPrimaryClient,De,tt);return rE(re,ie.targetId,Ne.au),Ne.snapshot})(r,I,V,Y);const c=await Qv(r.localStore,e,!0),d=new kR(e,c.ks),p=d.ru(c.documents),_=mu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);rE(r,i,y.au);const b=new LR(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function qR(r,e,i){const s=Se(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Zm(s.remoteStore,l.targetId),Im(s,l.targetId)})).catch(Go)):(Im(s,l.targetId),await Am(s.localStore,l.targetId,!0))}async function HR(r,e){const i=Se(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Zm(i.remoteStore,s.targetId))}async function FR(r,e,i){const s=JR(r);try{const l=await(function(d,p){const _=Se(d),y=vt.now(),b=p.reduce(((Y,W)=>Y.add(W.key)),qe());let I,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=Vr(),re=qe();return _.xs.getEntries(Y,b).next((ie=>{W=ie,W.forEach(((me,Ae)=>{Ae.isValidDocument()||(re=re.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,W))).next((ie=>{I=ie;const me=[];for(const Ae of p){const ge=tI(Ae,I.get(Ae.key).overlayedDocument);ge!=null&&me.push(new Us(Ae.key,ge,A0(ge.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,me,p)})).next((ie=>{V=ie;const me=ie.applyToLocalDocumentSet(I,re);return _.documentOverlayCache.saveOverlays(Y,ie.batchId,me)}))})).then((()=>({batchId:V.batchId,changes:M0(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new bt(Be)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await gu(s,l.changes),await kh(s.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function mT(r,e){const i=Se(r);try{const s=await ZI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?it(d.hu,14607):l.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await gu(i,s,e)}catch(s){await Go(s)}}function iE(r,e,i){const s=Se(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Se(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,I)=>{for(const V of I.ba)V.va(p)&&(y=!0)})),y&&sp(_)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GR(r,e,i){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new bt(de.comparator);d=d.insert(c,pn.newNoDocument(c,Ee.min()));const p=qe().add(c),_=new Oh(Ee.min(),new Map,new bt(Be),d,p);await mT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(e),op(s)}else await Am(s.localStore,e,!1).then((()=>Im(s,e,i))).catch(Go)}async function KR(r,e){const i=Se(r),s=e.batch.batchId;try{const l=await WI(i.localStore,e);gT(i,s,null),pT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await gu(i,l)}catch(l){await Go(l)}}async function YR(r,e,i){const s=Se(r);try{const l=await(function(d,p){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((I=>(it(I!==null,37113),b=I.keys(),_.mutationQueue.removeMutationBatch(y,I)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);gT(s,e,i),pT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await gu(s,l)}catch(l){await Go(l)}}function pT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function gT(r,e,i){const s=Se(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function Im(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||yT(r,s)}))}function yT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Zm(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),op(r))}function rE(r,e,i){for(const s of i)s instanceof hT?(r.Vu.addReference(s.key,e),QR(r,s)):s instanceof fT?(se(ap,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||yT(r,s.key)):ye(19791,{wu:s})}function QR(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(se(ap,"New document in limbo: "+i),r.Eu.add(s),op(r))}function op(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new de(_t.fromString(e)),s=r.fu.next();r.Au.set(s,new UR(i)),r.Ru=r.Ru.insert(i,s),sT(r.remoteStore,new bs(er(Hm(i.path)),s,"TargetPurposeLimboResolution",bh.ce))}}async function gu(r,e,i){const s=Se(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Jm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const b=Se(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>$.forEach(y,(V=>$.forEach(V.Ts,(Y=>b.persistence.referenceDelegate.addReference(I,V.targetId,Y))).next((()=>$.forEach(V.Is,(Y=>b.persistence.referenceDelegate.removeReference(I,V.targetId,Y)))))))))}catch(I){if(!Ko(I))throw I;se(Wm,"Failed to update sequence numbers: "+I)}for(const I of y){const V=I.targetId;if(!I.fromCache){const Y=b.vs.get(V),W=Y.snapshotVersion,re=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(V,re)}}})(s.localStore,c))}async function XR(r,e){const i=Se(r);if(!i.currentUser.isEqual(e)){se(ap,"User change. New user:",e.toKey());const s=await tT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(i,s.Ns)}}function $R(r,e){const i=Se(r),s=i.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function _T(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Pu.J_=OR.bind(null,e.eventManager),e.Pu.yu=MR.bind(null,e.eventManager),e}function JR(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YR.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return JI(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new eT($m.Vi,this.serializer)}Du(e){return new rR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class WR extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new eT((s=>ch.Vi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DR})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),s=uR(e.databaseInfo);return mR(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,p){return new gR(s,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>iE(this.syncEngine,i,0)),(function(){return Jv.v()?new Jv:new sR})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,b){const I=new PR(l,c,d,p,_,y);return b&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Se(i);se(ba,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class ZR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ks="FirestoreClient";class eC{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{se(ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(se(ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=rp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),se(ks,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await tT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function sE(r,e){r.asyncQueue.verifyOperationInProgress();const i=await tC(r);se(ks,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Zv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Zv(e.remoteStore,l))),r._onlineComponents=e}async function tC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(ks,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Aa("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new fh)}}else se(ks,"Using default OfflineComponentProvider"),await em(r,new WR(void 0));return r._offlineComponents}async function vT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(ks,"Using user provided OnlineComponentProvider"),await sE(r,r._uninitializedComponentsProvider._online)):(se(ks,"Using default OnlineComponentProvider"),await sE(r,new Rm))),r._onlineComponents}function nC(r){return vT(r).then((e=>e.syncEngine))}async function aE(r){const e=await vT(r),i=e.eventManager;return i.onListen=jR.bind(null,e.syncEngine),i.onUnlisten=qR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=zR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=HR.bind(null,e.syncEngine),i}function iC(r,e,i,s){const l=new ZR(s),c=new VR(e,l,i);return r.asyncQueue.enqueueAndForget((async()=>xR(await aE(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>NR(await aE(r),c)))}}function rC(r,e){const i=new va;return r.asyncQueue.enqueueAndForget((async()=>FR(await nC(r),e,i))),i.promise}function ET(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const sC="ComponentProvider",oE=new Map;function aC(r,e,i,s,l){return new Aw(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ET(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const TT="firestore.googleapis.com",lE=!0;class uE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=lE}else this.host=e.host,this.ssl=e.ssl??lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NI)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ET(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nw;switch(s.type){case"firstParty":return new aw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=oE.get(i);s&&(se(sC,"Removing Datastore"),oE.delete(i),s.terminate())})(this),Promise.resolve()}}function oC(r,e,i,s={}){r=Nr(r,Lh);const l=qo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(YE(`https://${p}`),QE("Firestore",!0)),c.host!==TT&&c.host!==p&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Ds(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=mn.MOCK_USER;else{y=wA(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new mn(I)}r._authCredentials=new iw(new h0(y,b))}}class Uh{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Ft{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(fu(i,Ft._jsonSchema))return new Ft(e,s||null,new de(_t.fromString(i.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Ht("string",Ft._jsonSchemaVersion),referencePath:Ht("string")};class Cs extends Uh{constructor(e,i,s){super(e,i,Hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new de(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function ys(r,e,...i){if(r=Gt(r),f0("collection","path",e),r instanceof Lh){const s=_t.fromString(e,...i);return Sv(s),new Cs(r,null,s)}{if(!(r instanceof Ft||r instanceof Cs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...i));return Sv(s),new Cs(r.firestore,null,s)}}function kt(r,e,...i){if(r=Gt(r),arguments.length===1&&(e=Lm.newId()),f0("doc","path",e),r instanceof Lh){const s=_t.fromString(e,...i);return Tv(s),new Ft(r,null,new de(s))}{if(!(r instanceof Ft||r instanceof Cs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...i));return Tv(s),new Ft(r.firestore,r instanceof Cs?r.converter:null,new de(s))}}const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iT(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&se(cE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;se(cE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",fE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ip.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function fE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zo extends Lh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new hE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function lC(r,e){const i=typeof r=="object"?r:Vm(),s=typeof r=="string"?r:ih,l=Da(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=AA("firestore");c&&oC(l,...c)}return l}function ST(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uC(r),r._firestoreClient}function uC(r){const e=r._freezeSettings(),i=aC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new eC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(cn.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new fi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Ht("string",fi._jsonSchemaVersion),bytes:Ht("string")};class lp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class up{constructor(e){this._methodName=e}}class nr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(fu(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ht("string",nr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new xi(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Ht("string",xi._jsonSchemaVersion),vectorValues:Ht("object")};const cC=/^__.*__$/;class hC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,i,this.fieldTransforms):new du(e,this.data,i,this.fieldTransforms)}}class AT{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Us(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class cp{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bT(this.dataSource)&&cC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mh(e)}createContext(e,i,s,l=!1){return new cp({dataSource:e,methodName:i,targetDoc:s,path:un.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wT(r){const e=r._freezeSettings(),i=Mh(r._databaseId);return new fC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function dC(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);hp("Data must be an object, but it was:",d,s);const p=IT(s,d);let _,y;if(c.merge)_=new Kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const I of c.mergeFields){const V=uu(e,I,i);if(!d.contains(V))throw new ce(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);DT(b,V)||b.push(V)}_=new Kn(b),y=d.fieldTransforms.filter((I=>_.covers(I.field)))}else _=null,y=d.fieldTransforms;return new hC(new kn(p),_,y)}class Ph extends up{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function mC(r,e,i,s){const l=r.createContext(1,e,i);hp("Data must be an object, but it was:",l,s);const c=[],d=kn.empty();Ls(s,((_,y)=>{const b=CT(e,_,i);y=Gt(y);const I=l.childContextForFieldPath(b);if(y instanceof Ph)c.push(b);else{const V=jh(y,I);V!=null&&(c.push(b),d.set(b,V))}}));const p=new Kn(c);return new AT(d,p,l.fieldTransforms)}function pC(r,e,i,s,l,c){const d=r.createContext(1,e,i),p=[uu(e,s,i)],_=[l];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(uu(e,c[V])),_.push(c[V+1]);const y=[],b=kn.empty();for(let V=p.length-1;V>=0;--V)if(!DT(y,p[V])){const Y=p[V];let W=_[V];W=Gt(W);const re=d.childContextForFieldPath(Y);if(W instanceof Ph)y.push(Y);else{const ie=jh(W,re);ie!=null&&(y.push(Y),b.set(Y,ie))}}const I=new Kn(y);return new AT(b,I,d.fieldTransforms)}function jh(r,e){if(RT(r=Gt(r)))return hp("Unsupported field value:",e,r),IT(r,e);if(r instanceof up)return(function(s,l){if(!bT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=jh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Xw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=vt.fromDate(s);return{timestampValue:uh(l.serializer,c)}}if(s instanceof vt){const c=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:G0(l.serializer,s._byteString)};if(s instanceof Ft){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof xi)return(function(d,p){const _=d instanceof xi?d.toArray():d;return{mapValue:{fields:{[T0]:{stringValue:S0},[rh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Fm(p.serializer,b)}))}}}}}})(s,l);if(W0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Um(s)}`)})(r,e)}function IT(r,e){const i={};return p0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,((s,l)=>{const c=jh(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function RT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof nr||r instanceof fi||r instanceof Ft||r instanceof up||r instanceof xi||W0(r))}function hp(r,e,i){if(!RT(i)||!d0(i)){const s=Um(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function uu(r,e,i){if((e=Gt(e))instanceof lp)return e._internalPath;if(typeof e=="string")return CT(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const gC=new RegExp("[~\\*/\\[\\]]");function CT(r,e,i){if(e.search(gC)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new lp(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new ce(J.INVALID_ARGUMENT,p+r+_)}function DT(r,e){return r.some((i=>i.isEqual(e)))}class yC{convertValue(e,i="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ls(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((s=>Lt(s.doubleValue)));return new xi(i)}convertGeoPoint(e){return new nr(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const i=Ns(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=_t.fromString(e);it(J0(s),9688,{name:e});const l=new su(s.get(1),s.get(3)),c=new de(s.popFirst(5));return l.isEqual(i)||Mr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class xT extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,i)}}const dE="@firebase/firestore",mE="4.11.0";function pE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class NT{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(uu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _C extends NT{data(){return super.data()}}function vC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function EC(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends NT{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(uu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Ht("string",Ea._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Xc extends Ea{data(e={}){return super.data(e)}}class xo{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Xc(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:TC(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Ht("string",xo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function _s(r,e,i){r=Nr(r,Ft);const s=Nr(r.firestore,zo),l=EC(r.converter,e),c=wT(s);return fp(s,[dC(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Di.none())])}function ma(r,e,i,...s){r=Nr(r,Ft);const l=Nr(r.firestore,zo),c=wT(l);let d;return d=typeof(e=Gt(e))=="string"||e instanceof lp?pC(c,"updateDoc",r._key,e,i,s):mC(c,"updateDoc",r._key,e),fp(l,[d.toMutation(r._key,Di.exists(!0))])}function Ao(r){return fp(Nr(r.firestore,zo),[new Gm(r._key,Di.none())])}function vs(r,...e){r=Gt(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pE(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pE(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ft)d=Nr(r.firestore,zo),p=Hm(r._key.path),c={next:y=>{e[s]&&e[s](SC(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Nr(r,Uh);d=Nr(y.firestore,zo),p=y._query;const b=new xT(d);c={next:I=>{e[s]&&e[s](new xo(d,b,y,I))},error:e[s+1],complete:e[s+2]},vC(r._query)}const _=ST(d);return iC(_,p,l,c)}function fp(r,e){const i=ST(r);return rC(i,e)}function SC(r,e,i){const s=i.docs.get(e._key),l=new xT(r);return new Ea(r,l,e._key,s,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){tw(Ho),rr(new Oi("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new zo(new rw(s.getProvider("auth-internal")),new ow(d,s.getProvider("app-check-internal")),bw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),di(dE,mE,e),di(dE,mE,"esm2020")})();const OT="@firebase/installations",dp="0.6.19";const MT=1e4,VT=`w:${dp}`,kT="FIS_v2",AC="https://firebaseinstallations.googleapis.com/v1",bC=3600*1e3,wC="installations",IC="Installations";const RC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Ca(wC,IC,RC);function LT(r){return r instanceof Mi&&r.code.includes("request-failed")}function UT({projectId:r}){return`${AC}/projects/${r}/installations`}function PT(r){return{token:r.token,requestStatus:2,expiresIn:DC(r.expiresIn),creationTime:Date.now()}}async function jT(r,e){const s=(await e.json()).error;return wa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function zT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function CC(r,{refreshToken:e}){const i=zT(r);return i.append("Authorization",xC(e)),i}async function BT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function DC(r){return Number(r.replace("s","000"))}function xC(r){return`${kT} ${r}`}async function NC({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=UT(r),l=zT(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:i,authVersion:kT,appId:r.appId,sdkVersion:VT},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await BT(()=>fetch(s,p));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:PT(y.authToken)}}else throw await jT("Create Installation",_)}function qT(r){return new Promise(e=>{setTimeout(e,r)})}function OC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const MC=/^[cdef][\w-]{21}$/,Cm="";function VC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=kC(r);return MC.test(i)?i:Cm}catch{return Cm}}function kC(r){return OC(r).substr(0,22)}function zh(r){return`${r.appName}!${r.appId}`}const HT=new Map;function FT(r,e){const i=zh(r);GT(i,e),LC(i,e)}function GT(r,e){const i=HT.get(r);if(i)for(const s of i)s(e)}function LC(r,e){const i=UC();i&&i.postMessage({key:r,fid:e}),PC()}let ya=null;function UC(){return!ya&&"BroadcastChannel"in self&&(ya=new BroadcastChannel("[Firebase] FID Change"),ya.onmessage=r=>{GT(r.data.key,r.data.fid)}),ya}function PC(){HT.size===0&&ya&&(ya.close(),ya=null)}const jC="firebase-installations-database",zC=1,Ia="firebase-installations-store";let tm=null;function mp(){return tm||(tm=e0(jC,zC,{upgrade:(r,e)=>{e===0&&r.createObjectStore(Ia)}})),tm}async function mh(r,e){const i=zh(r),l=(await mp()).transaction(Ia,"readwrite"),c=l.objectStore(Ia),d=await c.get(i);return await c.put(e,i),await l.done,(!d||d.fid!==e.fid)&&FT(r,e.fid),e}async function KT(r){const e=zh(r),s=(await mp()).transaction(Ia,"readwrite");await s.objectStore(Ia).delete(e),await s.done}async function Bh(r,e){const i=zh(r),l=(await mp()).transaction(Ia,"readwrite"),c=l.objectStore(Ia),d=await c.get(i),p=e(d);return p===void 0?await c.delete(i):await c.put(p,i),await l.done,p&&(!d||d.fid!==p.fid)&&FT(r,p.fid),p}async function pp(r){let e;const i=await Bh(r.appConfig,s=>{const l=BC(s),c=qC(r,l);return e=c.registrationPromise,c.installationEntry});return i.fid===Cm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function BC(r){const e=r||{fid:VC(),registrationStatus:0};return YT(e)}function qC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(wa.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=HC(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FC(r)}:{installationEntry:e}}async function HC(r,e){try{const i=await NC(r,e);return mh(r.appConfig,i)}catch(i){throw LT(i)&&i.customData.serverCode===409?await KT(r.appConfig):await mh(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function FC(r){let e=await gE(r.appConfig);for(;e.registrationStatus===1;)await qT(100),e=await gE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await pp(r);return s||i}return e}function gE(r){return Bh(r,e=>{if(!e)throw wa.create("installation-not-found");return YT(e)})}function YT(r){return GC(r)?{fid:r.fid,registrationStatus:0}:r}function GC(r){return r.registrationStatus===1&&r.registrationTime+MT<Date.now()}async function KC({appConfig:r,heartbeatServiceProvider:e},i){const s=YC(r,i),l=CC(r,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:VT,appId:r.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await BT(()=>fetch(s,p));if(_.ok){const y=await _.json();return PT(y)}else throw await jT("Generate Auth Token",_)}function YC(r,{fid:e}){return`${UT(r)}/${e}/authTokens:generate`}async function gp(r,e=!1){let i;const s=await Bh(r.appConfig,c=>{if(!QT(c))throw wa.create("not-registered");const d=c.authToken;if(!e&&$C(d))return c;if(d.requestStatus===1)return i=QC(r,e),c;{if(!navigator.onLine)throw wa.create("app-offline");const p=WC(c);return i=XC(r,p),p}});return i?await i:s.authToken}async function QC(r,e){let i=await yE(r.appConfig);for(;i.authToken.requestStatus===1;)await qT(100),i=await yE(r.appConfig);const s=i.authToken;return s.requestStatus===0?gp(r,e):s}function yE(r){return Bh(r,e=>{if(!QT(e))throw wa.create("not-registered");const i=e.authToken;return ZC(i)?{...e,authToken:{requestStatus:0}}:e})}async function XC(r,e){try{const i=await KC(r,e),s={...e,authToken:i};return await mh(r.appConfig,s),i}catch(i){if(LT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await KT(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await mh(r.appConfig,s)}throw i}}function QT(r){return r!==void 0&&r.registrationStatus===2}function $C(r){return r.requestStatus===2&&!JC(r)}function JC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+bC}function WC(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function ZC(r){return r.requestStatus===1&&r.requestTime+MT<Date.now()}async function e2(r){const e=r,{installationEntry:i,registrationPromise:s}=await pp(e);return s?s.catch(console.error):gp(e).catch(console.error),i.fid}async function t2(r,e=!1){const i=r;return await n2(i),(await gp(i,e)).token}async function n2(r){const{registrationPromise:e}=await pp(r);e&&await e}function i2(r){if(!r||!r.options)throw nm("App Configuration");if(!r.name)throw nm("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw nm(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function nm(r){return wa.create("missing-app-config-values",{valueName:r})}const XT="installations",r2="installations-internal",s2=r=>{const e=r.getProvider("app").getImmediate(),i=i2(e),s=Da(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},a2=r=>{const e=r.getProvider("app").getImmediate(),i=Da(e,XT).getImmediate();return{getId:()=>e2(i),getToken:l=>t2(i,l)}};function o2(){rr(new Oi(XT,s2,"PUBLIC")),rr(new Oi(r2,a2,"PRIVATE"))}o2();di(OT,dp);di(OT,dp,"esm2020");const ph="analytics",l2="firebase_id",u2="origin",c2=60*1e3,h2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yp="https://www.googletagmanager.com/gtag/js";const Tn=new Ah("@firebase/analytics");const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new Ca("analytics","Analytics",f2);function d2(r){if(!r.startsWith(yp)){const e=Yn.create("invalid-gtag-resource",{gtagURL:r});return Tn.warn(e.message),""}return r}function $T(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function m2(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function p2(r,e){const i=m2("firebase-js-sdk-policy",{createScriptURL:d2}),s=document.createElement("script"),l=`${yp}?l=${r}&id=${e}`;s.src=i?i?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function g2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function y2(r,e,i,s,l,c){const d=s[l];try{if(d)await e[d];else{const _=(await $T(i)).find(y=>y.measurementId===l);_&&await e[_.appId]}}catch(p){Tn.error(p)}r("config",l,c)}async function _2(r,e,i,s,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const p=await $T(i);for(const _ of d){const y=p.find(I=>I.measurementId===_),b=y&&e[y.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,l||{})}catch(c){Tn.error(c)}}function v2(r,e,i,s){async function l(c,...d){try{if(c==="event"){const[p,_]=d;await _2(r,e,i,p,_)}else if(c==="config"){const[p,_]=d;await y2(r,e,i,s,p,_)}else if(c==="consent"){const[p,_]=d;r("consent",p,_)}else if(c==="get"){const[p,_,y]=d;r("get",p,_,y)}else if(c==="set"){const[p]=d;r("set",p)}else r(c,...d)}catch(p){Tn.error(p)}}return l}function E2(r,e,i,s,l){let c=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=v2(c,r,e,i),{gtagCore:c,wrappedGtag:window[l]}}function T2(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(yp)&&i.src.includes(r))return i;return null}const S2=30,A2=1e3;class b2{constructor(e={},i=A2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const JT=new b2;function w2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function I2(r){const{appId:e,apiKey:i}=r,s={method:"GET",headers:w2(i)},l=h2.replace("{app-id}",e),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();p.error?.message&&(d=p.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function R2(r,e=JT,i){const{appId:s,apiKey:l,measurementId:c}=r.options;if(!s)throw Yn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:s};throw Yn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new x2;return setTimeout(async()=>{p.abort()},c2),WT({appId:s,apiKey:l,measurementId:c},d,p,e)}async function WT(r,{throttleEndTimeMillis:e,backoffCount:i},s,l=JT){const{appId:c,measurementId:d}=r;try{await C2(s,e)}catch(p){if(d)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw p}try{const p=await I2(r);return l.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!D2(_)){if(l.deleteThrottleMetadata(c),d)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw p}const y=Number(_?.customData?.httpStatus)===503?uv(i,l.intervalMillis,S2):uv(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return l.setThrottleMetadata(c,b),Tn.debug(`Calling attemptFetch again in ${y} millis`),WT(r,b,s,l)}}function C2(r,e){return new Promise((i,s)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(i,l);r.addEventListener(()=>{clearTimeout(c),s(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D2(r){if(!(r instanceof Mi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class x2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function N2(r,e,i,s,l){if(l&&l.global){r("event",i,s);return}else{const c=await e,d={...s,send_to:c};r("event",i,d)}}async function O2(r,e,i,s){if(s&&s.global){const l={};for(const c of Object.keys(i))l[`user_properties.${c}`]=i[c];return r("set",l),Promise.resolve()}else{const l=await e;r("config",l,{update:!0,user_properties:i})}}async function M2(){if($E())try{await JE()}catch(r){return Tn.warn(Yn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Tn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V2(r,e,i,s,l,c,d){const p=R2(r);p.then(V=>{i[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Tn.error(V)),e.push(p);const _=M2().then(V=>{if(V)return s.getId()}),[y,b]=await Promise.all([p,_]);T2(c)||p2(c,y.measurementId),l("js",new Date);const I=d?.config??{};return I[u2]="firebase",I.update=!0,b!=null&&(I[l2]=b),l("config",y.measurementId,I),y.measurementId}class k2{constructor(e){this.app=e}_delete(){return delete No[this.app.options.appId],Promise.resolve()}}let No={},_E=[];const vE={};let im="dataLayer",L2="gtag",EE,_p,TE=!1;function U2(){const r=[];if(XE()&&r.push("This is a browser extension environment."),VA()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),i=Yn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(i.message)}}function P2(r,e,i){U2();const s=r.options.appId;if(!s)throw Yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(No[s]!=null)throw Yn.create("already-exists",{id:s});if(!TE){g2(im);const{wrappedGtag:c,gtagCore:d}=E2(No,_E,vE,im,L2);_p=c,EE=d,TE=!0}return No[s]=V2(r,_E,vE,e,EE,im,i),new k2(r)}function j2(r=Vm()){r=Gt(r);const e=Da(r,ph);return e.isInitialized()?e.getImmediate():z2(r)}function z2(r,e={}){const i=Da(r,ph);if(i.isInitialized()){const l=i.getImmediate();if(Ds(e,i.getOptions()))return l;throw Yn.create("already-initialized")}return i.initialize({options:e})}function B2(r,e,i){r=Gt(r),O2(_p,No[r.app.options.appId],e,i).catch(s=>Tn.error(s))}function q2(r,e,i,s){r=Gt(r),N2(_p,No[r.app.options.appId],e,i,s).catch(l=>Tn.error(l))}const SE="@firebase/analytics",AE="0.10.19";function H2(){rr(new Oi(ph,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return P2(s,l,i)},"PUBLIC")),rr(new Oi("analytics-internal",r,"PRIVATE")),di(SE,AE),di(SE,AE,"esm2020");function r(e){try{const i=e.getProvider(ph).getImmediate();return{logEvent:(s,l,c)=>q2(i,s,l,c),setUserProperties:(s,l)=>B2(i,s,l)}}catch(i){throw Yn.create("interop-component-reg-failed",{reason:i})}}}H2();function ZT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=ZT,eS=new Ca("auth","Firebase",ZT());const gh=new Ah("@firebase/auth");function G2(r,...e){gh.logLevel<=ze.WARN&&gh.warn(`Auth (${Ho}): ${r}`,...e)}function $c(r,...e){gh.logLevel<=ze.ERROR&&gh.error(`Auth (${Ho}): ${r}`,...e)}function or(r,...e){throw Ep(r,...e)}function Ni(r,...e){return Ep(r,...e)}function vp(r,e,i){const s={...F2(),[e]:i};return new Ca("auth","Firebase",s).create(e,{appName:r.name})}function Ta(r){return vp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(r,e,i){const s=i;if(!(e instanceof s))throw s.name!==e.constructor.name&&or(r,"argument-error"),vp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return eS.create(r,...e)}function ve(r,e,...i){if(!r)throw Ep(e,...i)}function Dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function kr(r,e){r||Dr(e)}function Dm(){return typeof self<"u"&&self.location?.href||""}function Y2(){return bE()==="http:"||bE()==="https:"}function bE(){return typeof self<"u"&&self.location?.protocol||null}function Q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||XE()||"connection"in navigator)?navigator.onLine:!0}function X2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(e,i){this.shortDelay=e,this.longDelay=i,kr(i>e,"Short delay should be less than long delay!"),this.isMobile=CA()||NA()}get(){return Q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(r,e){kr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class tS{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const J2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new yu(3e4,6e4);function Sp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Qo(r,e,i,s,l={}){return nS(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=hu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return xA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&qo(r.emulatorConfig.host)&&(y.credentials="include"),tS.fetch()(await iS(r,r.config.apiHost,i,p),y)})}async function nS(r,e,i){r._canInitEmulator=!1;const s={...$2,...e};try{const l=new eD(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Hc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw vp(r,b,y);or(r,b)}}catch(l){if(l instanceof Mi)throw l;or(r,"network-request-failed",{message:String(l)})}}async function Z2(r,e,i,s,l={}){const c=await Qo(r,e,i,s,l);return"mfaPendingCredential"in c&&or(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function iS(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?Tp(r.config,l):`${r.config.apiScheme}://${l}`;return J2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),W2.get())})}}function Hc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ni(r,e,s);return l.customData._tokenResponse=i,l}async function tD(r,e){return Qo(r,"POST","/v1/accounts:delete",e)}async function yh(r,e){return Qo(r,"POST","/v1/accounts:lookup",e)}function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nD(r,e=!1){const i=Gt(r),s=await i.getIdToken(e),l=Ap(s);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:tu(rm(l.auth_time)),issuedAtTime:tu(rm(l.iat)),expirationTime:tu(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(r){return Number(r)*1e3}function Ap(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=HE(i);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wE(r){const e=Ap(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Mi&&iD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class rD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(r){const e=r.auth,i=await r.getIdToken(),s=await cu(r,yh(e,{idToken:i}));ve(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?rS(l.providerUserInfo):[],d=aD(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function sD(r){const e=Gt(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function rS(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oD(r,e){const i=await nS(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await iS(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&qo(r.emulatorConfig.host)&&(_.credentials="include"),tS.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lD(r,e){return Qo(r,"POST","/v2/accounts:revokeToken",Sp(r,e))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=wE(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await oD(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Oo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function Es(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ci{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await cu(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return nD(this,e)}reload(){return sD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await cu(this,tD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:I,emailVerified:V,isAnonymous:Y,providerData:W,stsTokenManager:re}=i;ve(I&&re,e,"internal-error");const ie=Oo.fromJSON(this.name,re);ve(typeof I=="string",e,"internal-error"),Es(s,e.name),Es(l,e.name),ve(typeof V=="boolean",e,"internal-error"),ve(typeof Y=="boolean",e,"internal-error"),Es(c,e.name),Es(d,e.name),Es(p,e.name),Es(_,e.name),Es(y,e.name),Es(b,e.name);const me=new Ci({uid:I,auth:e,email:l,emailVerified:V,displayName:s,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ie,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(me.providerData=W.map(Ae=>({...Ae}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,s=!1){const l=new Oo;l.updateFromServerResponse(i);const c=new Ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await _h(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rS(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Oo;p.updateFromIdToken(s);const _=new Ci({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const IE=new Map;function xr(r){kr(r instanceof Function,"Expected a class definition");let e=IE.get(r);return e?(kr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,IE.set(r,e),e)}class sS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}sS.type="NONE";const RE=sS;function Jc(r,e,i){return`firebase:${r}:${e}:${i}`}class Mo{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await yh(this.auth,{idToken:e}).catch(()=>{});return i?Ci._fromGetAccountInfoResponse(this.auth,i,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Mo(xr(RE),e,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||xr(RE);const d=Jc(s,e.config.apiKey,e.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let I;if(typeof b=="string"){const V=await yh(e,{idToken:b}).catch(()=>{});if(!V)break;I=await Ci._fromGetAccountInfoResponse(e,V,b)}else I=Ci._fromJSON(e,b);y!==c&&(p=I),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Mo(c,e,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Mo(c,e,s))}}function CE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(oS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(cS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function aS(r=gn()){return/firefox\//i.test(r)}function oS(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(r=gn()){return/crios\//i.test(r)}function uS(r=gn()){return/iemobile/i.test(r)}function cS(r=gn()){return/android/i.test(r)}function hS(r=gn()){return/blackberry/i.test(r)}function fS(r=gn()){return/webos/i.test(r)}function bp(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uD(r=gn()){return bp(r)&&!!window.navigator?.standalone}function cD(){return OA()&&document.documentMode===10}function dS(r=gn()){return bp(r)||cS(r)||fS(r)||hS(r)||/windows phone/i.test(r)||uS(r)}function mS(r,e=[]){let i;switch(r){case"Browser":i=CE(gn());break;case"Worker":i=`${CE(gn())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ho}/${s}`}class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fD(r,e={}){return Qo(r,"GET","/v2/passwordPolicy",Sp(r,e))}const dD=6;class mD{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dD,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pD{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=xr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await yh(this,{idToken:e}),s=await Ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Ta(this));const i=e?Gt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),i=new mD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await lD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&xr(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[xr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qh(r){return Gt(r)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=jA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gD(r){wp=r}function yD(r){return wp.loadJS(r)}function _D(){return wp.gapiScript}function vD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ED(r,e){const i=Da(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ds(c,e??{}))return l;or(l,"already-initialized")}return i.initialize({options:e})}function TD(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(xr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function SD(r,e,i){const s=qh(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=pS(e),{host:d,port:p}=AD(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ds(y,s.config.emulator)&&Ds(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,qo(d)?(YE(`${c}//${d}${_}`),QE("Auth",!0)):bD()}function pS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AD(r){const e=pS(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:xE(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:xE(d)}}}function xE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bD(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gS{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,i){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function Vo(r,e){return Z2(r,"POST","/v1/accounts:signInWithIdp",Sp(r,e))}const wD="http://localhost";class Ra extends gS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):or("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ra(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Vo(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Vo(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Vo(e,i)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=hu(i)}return e}}class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends _u{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Cr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ra._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Cr.credential(i,s)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class Ss extends _u{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class As extends _u{constructor(){super("twitter.com")}static credential(e,i){return Ra._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return As.credential(i,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Ci._fromIdTokenResponse(e,s,l),d=NE(s);return new Bo({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=NE(s);return new Bo({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function NE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class vh extends Mi{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new vh(e,i,s,l)}}function yS(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(r,c,e,s):c})}async function ID(r,e,i=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Bo._forOperation(r,"link",s)}async function RD(r,e,i=!1){const{auth:s}=r;if(Ri(s.app))return Promise.reject(Ta(s));const l="reauthenticate";try{const c=await cu(r,yS(s,l,e,r),i);ve(c.idToken,s,"internal-error");const d=Ap(c.idToken);ve(d,s,"internal-error");const{sub:p}=d;return ve(r.uid===p,s,"user-mismatch"),Bo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&or(s,"user-mismatch"),c}}async function CD(r,e,i=!1){if(Ri(r.app))return Promise.reject(Ta(r));const s="signIn",l=await yS(r,s,e),c=await Bo._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function DD(r,e,i,s){return Gt(r).onIdTokenChanged(e,i,s)}function xD(r,e,i){return Gt(r).beforeAuthStateChanged(e,i)}function ND(r,e,i,s){return Gt(r).onAuthStateChanged(e,i,s)}function OD(r){return Gt(r).signOut()}const Eh="__sak";class _S{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MD=1e3,VD=10;class vS extends _S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);cD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,VD):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}vS.type="LOCAL";const kD=vS;class ES extends _S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ES.type="SESSION";const TS=ES;function LD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await LD(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Rp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class UD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Rp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const V=I;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ir(){return window}function PD(r){ir().location.href=r}function SS(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function jD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zD(){return navigator?.serviceWorker?.controller||null}function BD(){return SS()?self:null}const AS="firebaseLocalStorageDb",qD=1,Th="firebaseLocalStorage",bS="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Fh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function HD(){const r=indexedDB.deleteDatabase(AS);return new vu(r).toPromise()}function Nm(){const r=indexedDB.open(AS,qD);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:bS})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await HD(),e(await Nm()))})})}async function OE(r,e,i){const s=Fh(r,!0).put({[bS]:e,value:i});return new vu(s).toPromise()}async function FD(r,e){const i=Fh(r,!1).get(e),s=await new vu(i).toPromise();return s===void 0?null:s.value}function ME(r,e){const i=Fh(r,!0).delete(e);return new vu(i).toPromise()}const GD=800,KD=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>KD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new UD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await OE(e,Eh,"1"),await ME(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>OE(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>FD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ME(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Fh(l,!1).getAll();return new vu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const YD=wS;new yu(3e4,6e4);function IS(r,e){return e?xr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cp extends gS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Vo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function QD(r){return CD(r.auth,new Cp(r),r.bypassAuthState)}function XD(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),RD(i,new Cp(r),r.bypassAuthState)}async function $D(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),ID(i,new Cp(r),r.bypassAuthState)}class RS{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:or(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JD=new yu(2e3,1e4);async function WD(r,e,i){if(Ri(r.app))return Promise.reject(Ni(r,"operation-not-supported-in-this-environment"));const s=qh(r);K2(r,e,Ip);const l=IS(s,i);return new _a(s,"signInViaPopup",e,l).executeNotNull()}class _a extends RS{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JD.get())};e()}}_a.currentPopupAction=null;const ZD="pendingRedirect",Wc=new Map;class ex extends RS{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await tx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(r,e){const i=rx(e),s=ix(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function nx(r,e){Wc.set(r._key(),e)}function ix(r){return xr(r._redirectPersistence)}function rx(r){return Jc(ZD,r.config.apiKey,r.name)}async function sx(r,e,i=!1){if(Ri(r.app))return Promise.reject(Ta(r));const s=qh(r),l=IS(s,e),d=await new ex(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const ax=600*1e3;class ox{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!CS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function CS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function lx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CS(r);default:return!1}}async function ux(r,e={}){return Qo(r,"GET","/v1/projects",e)}const cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function fx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ux(r);for(const i of e)try{if(dx(i))return}catch{}or(r,"unauthorized-domain")}function dx(r){const e=Dm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!hx.test(i))return!1;if(cx.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const mx=new yu(3e4,6e4);function kE(){const r=ir().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function px(r){return new Promise((e,i)=>{function s(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),i(Ni(r,"network-request-failed"))},timeout:mx.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)s();else{const l=vD("iframefcb");return ir()[l]=()=>{gapi.load?s():i(Ni(r,"network-request-failed"))},yD(`${_D()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function gx(r){return Zc=Zc||px(r),Zc}const yx=new yu(5e3,15e3),_x="__/auth/iframe",vx="emulator/auth/iframe",Ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sx(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Tp(e,vx):`https://${r.config.authDomain}/${_x}`,s={apiKey:e.apiKey,appName:r.name,v:Ho},l=Tx.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${hu(s).slice(1)}`}async function Ax(r){const e=await gx(r),i=ir().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:Sx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ex,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ni(r,"network-request-failed"),p=ir().setTimeout(()=>{c(d)},yx.get());function _(){ir().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,Ix=600,Rx="_blank",Cx="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(r,e,i,s=wx,l=Ix){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...bx,width:s.toString(),height:l.toString(),top:c,left:d},y=gn().toLowerCase();i&&(p=lS(y)?Rx:i),aS(y)&&(e=e||Cx,_.scrollbars="yes");const b=Object.entries(_).reduce((V,[Y,W])=>`${V}${Y}=${W},`,"");if(uD(y)&&p!=="_self")return xx(e||"",p),new LE(null);const I=window.open(e||"",p,b);ve(I,r,"popup-blocked");try{I.focus()}catch{}return new LE(I)}function xx(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Nx="__/auth/handler",Ox="emulator/auth/handler",Mx=encodeURIComponent("fac");async function UE(r,e,i,s,l,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Ho,eventId:l};if(e instanceof Ip){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",PA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,I]of Object.entries({}))d[b]=I}if(e instanceof _u){const b=e.getScopes().filter(I=>I!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${Mx}=${encodeURIComponent(_)}`:"";return`${Vx(r)}?${hu(p).slice(1)}${y}`}function Vx({config:r}){return r.emulator?Tp(r,Ox):`https://${r.authDomain}/${Nx}`}const sm="webStorageSupport";class kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TS,this._completeRedirectFn=sx,this._overrideRedirectResult=nx}async _openPopup(e,i,s,l){kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await UE(e,i,s,Dm(),l);return Dx(e,c,Rp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await UE(e,i,s,Dm(),l);return PD(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(kr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await Ax(e),s=new ox(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(sm,{type:sm},l=>{const c=l?.[0]?.[sm];c!==void 0&&i(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return dS()||oS()||bp()}}const Lx=kx;var PE="@firebase/auth",jE="1.12.0";class Ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Px(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jx(r){rr(new Oi("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(r)},y=new pD(s,l,c,_);return TD(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),rr(new Oi("auth-internal",e=>{const i=qh(e.getProvider("auth").getImmediate());return(s=>new Ux(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(PE,jE,Px(r)),di(PE,jE,"esm2020")}const zx=300,Bx=KE("authIdTokenMaxAge")||zx;let zE=null;const qx=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Bx)return;const l=i?.token;zE!==l&&(zE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Hx(r=Vm()){const e=Da(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ED(r,{popupRedirectResolver:Lx,persistence:[YD,kD,TS]}),s=KE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=qx(c.toString());xD(i,d,()=>d(i.currentUser)),DD(i,p=>d(p))}}const l=FE("auth");return l&&SD(i,`http://${l}`),i}function Fx(){return document.getElementsByTagName("head")?.[0]??document}gD({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",Fx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jx("Browser");const Gx={apiKey:"AIzaSyBtVRuViKyY-HuStWSroA-2dDOOnwoVINc",authDomain:"ferapp-9a4eb.firebaseapp.com",projectId:"ferapp-9a4eb",storageBucket:"ferapp-9a4eb.firebasestorage.app",messagingSenderId:"392403129654",appId:"1:392403129654:web:3ffacefd56809fdbb54f97",measurementId:"G-W2LZSLNP59"},Dp=t0(Gx),ot=lC(Dp),am=Hx(Dp),Kx=new Cr;typeof window<"u"&&j2(Dp);const on=()=>{const r={timeZone:"America/Argentina/Buenos_Aires",year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-CA",r).format(new Date)};function Yx(){const[r,e]=we.useState(null),[i,s]=we.useState(!0),[l,c]=we.useState([]),[d,p]=we.useState([]),[_,y]=we.useState(""),[b,I]=we.useState(null),[V,Y]=we.useState(""),[W,re]=we.useState([]),[ie,me]=we.useState(!1),[Ae,ge]=we.useState(!1),[De,tt]=we.useState({name:"",phone:"",address:"",observations:""}),[Ne,D]=we.useState(null),[w,x]=we.useState([]),[k,N]=we.useState(!1),[U,R]=we.useState(!1),[Ue,dt]=we.useState({name:"",phone:"",address:"",observations:""}),[F,te]=we.useState(null),[ue,He]=we.useState([]),[$e,M]=we.useState(!1),[Q,ee]=we.useState(!1),[ne,fe]=we.useState({name:"",role:"",phone:"",observations:""}),[_e,Oe]=we.useState(null),[xt,Je]=we.useState(!1),[nt,Zt]=we.useState({id:0,providerId:0,orderDate:on(),deliveryDate:"",orderDetails:"",observations:"",taskId:0}),[Qn,Lr]=we.useState([]),[hn,Ps]=we.useState([]),[lr,Xn]=we.useState(!1),[lt,We]=we.useState({id:0,serviceId:0,requestDate:on(),executionDate:"",details:"",observations:"",taskId:0}),[Et,Vi]=we.useState([]),[ki,js]=we.useState([]),[en,Sn]=we.useState(!1),[Ge,zs]=we.useState(""),[Li,Ui]=we.useState(!1),[An,Bs]=we.useState(null),[Oa,Xt]=we.useState(!1),[Me,wt]=we.useState({id:0,employeeId:0,callDate:on(),reason:"",observations:"",taskId:0}),[pt,qs]=we.useState(""),[mi,Hs]=we.useState(null),[bn,pi]=we.useState("");we.useEffect(()=>{console.log("Iniciando escucha de autenticacin...");const T=ND(am,ae=>{console.log("Firebase Auth State:",ae?`Conectado como ${ae.email}`:"Desconectado"),e(ae),s(!1)});return()=>T()},[]);const It=async()=>{try{await WD(am,Kx)}catch(T){console.error("Error al iniciar sesin:",T),alert("Hubo un error al iniciar sesin con Google.")}},$n=async()=>{try{await OD(am)}catch(T){console.error("Error al cerrar sesin:",T)}};we.useEffect(()=>{if(!r)return;console.log("Usuario autenticado, iniciando sincronizacin...");const T=vs(ys(ot,"tasks"),be=>{console.log("Tareas cargadas:",be.size);const Ve=be.docs.map(yn=>({...yn.data(),id:yn.data().id||Number(yn.id)}));c(Ve.filter(yn=>!yn.completed)),p(Ve.filter(yn=>yn.completed))},be=>console.error("Error tasks:",be)),ae=vs(ys(ot,"providers"),be=>{console.log("Proveedores cargados:",be.size),re(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>alert("Error cargando proveedores: "+be.message)),Tt=vs(ys(ot,"service_providers"),be=>{console.log("Servicios cargados:",be.size),x(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error services:",be)),Ie=vs(ys(ot,"employees"),be=>{console.log("Empleados cargados:",be.size),He(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error employees:",be)),yi=vs(ys(ot,"orders"),be=>{Lr(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error orders:",be)),_i=vs(ys(ot,"service_requests"),be=>{Ps(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error requests:",be)),Nt=vs(ys(ot,"calls"),be=>{Vi(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error calls:",be)),In=vs(ys(ot,"reminders"),be=>{js(be.docs.map(Ve=>({...Ve.data(),id:Ve.data().id||Number(Ve.id)})))},be=>console.error("Error reminders:",be));return()=>{T(),ae(),Tt(),Ie(),yi(),_i(),Nt(),In()}},[r]),we.useEffect(()=>{const T=on(),ae=ki.filter(Tt=>Tt.date===T);if(ae.length>0){const Tt=ae.map(Ie=>({id:Date.now()+Math.random(),text:Ie.text.toUpperCase(),completed:!1,date:T}));c(Ie=>[...Ie,...Tt]),js(Ie=>Ie.filter(yi=>yi.date!==T))}},[ki]);const Jn=T=>{zs(T),Zt(ae=>({...ae,orderDate:T})),We(ae=>({...ae,requestDate:T})),wt(ae=>({...ae,callDate:T})),Sn(!0)},wn=async()=>{if(pt.trim()){const T=Date.now();await _s(kt(ot,"reminders",T.toString()),{date:Ge,text:pt.trim().toUpperCase()}),qs("")}},Xo=async T=>{confirm("DESEA ELIMINAR ESTE RECORDATORIO?")&&await Ao(kt(ot,"reminders",T.toString()))},Ma=T=>{Hs(T.id),pi(T.text)},Ln=async()=>{mi&&bn.trim()&&(await ma(kt(ot,"reminders",mi.toString()),{text:bn.trim().toUpperCase()}),Hs(null),pi(""))},Pi=async()=>{if(_.trim()){const T=Date.now();await _s(kt(ot,"tasks",T.toString()),{text:_.trim().toUpperCase(),completed:!1,date:on()}),y("")}},Va=async T=>{confirm("DECEAS ELIMINAR ESTA TAREA?")&&await Ao(kt(ot,"tasks",T.toString()))},ji=T=>{I(T.id),Y(T.text)},zi=async()=>{V.trim()&&b&&(await ma(kt(ot,"tasks",b.toString()),{text:V.trim().toUpperCase()}),I(null))},ur=async T=>{!T||T===0||await ma(kt(ot,"tasks",T.toString()),{completed:!0})},Bi=async(T,ae)=>{await ma(kt(ot,"tasks",T.toString()),{completed:!ae})},gi=async()=>{if(De.name.trim())try{if(Ne)await ma(kt(ot,"providers",Ne.id.toString()),De),D(null);else{const T=Date.now();await _s(kt(ot,"providers",T.toString()),{...De,id:T})}ge(!1),tt({name:"",phone:"",address:"",observations:""})}catch(T){console.error("Error saving provider:",T)}},ka=async T=>{if(confirm("DECEAS ELIMINAR ESTE PROVEEDOR?"))try{await Ao(kt(ot,"providers",T.toString()))}catch(ae){console.error("Error deleting provider:",ae)}},Un=T=>{D(T),tt({name:T.name,phone:T.phone,address:T.address,observations:T.observations}),ge(!0)},Pn=async()=>{if(Ue.name.trim())try{if(F)await ma(kt(ot,"service_providers",F.id.toString()),Ue),te(null);else{const T=Date.now();await _s(kt(ot,"service_providers",T.toString()),{...Ue,id:T})}R(!1),dt({name:"",phone:"",address:"",observations:""})}catch(T){console.error("Error saving service:",T)}},Rt=async T=>{if(confirm("Ests seguro de que deseas eliminar este servicio?"))try{await Ao(kt(ot,"service_providers",T.toString()))}catch(ae){console.error("Error deleting service:",ae)}},Ut=T=>{te(T),dt({name:T.name,phone:T.phone,address:T.address,observations:T.observations}),R(!0)},Wn=async()=>{if(ne.name.trim())try{if(_e)await ma(kt(ot,"employees",_e.id.toString()),ne),Oe(null);else{const T=Date.now();await _s(kt(ot,"employees",T.toString()),{...ne,id:T})}ee(!1),fe({name:"",role:"",phone:"",observations:""})}catch(T){console.error("Error saving employee:",T)}},Ur=async T=>{if(confirm("DECEAS ELIMINAR ESTE EMPLEADO?"))try{await Ao(kt(ot,"employees",T.toString()))}catch(ae){console.error("Error deleting employee:",ae)}},$o=T=>{Oe(T),fe({name:T.name,role:T.role,phone:T.phone,observations:T.observations}),ee(!0)},La=async()=>{if(nt.providerId!==0&&nt.orderDetails.trim()){const T=nt.id!==0?nt.id:Date.now();await _s(kt(ot,"orders",T.toString()),{...nt,id:T,type:"order"}),nt.taskId&&nt.taskId!==0&&ur(nt.taskId),Je(!1),Zt({id:0,providerId:0,orderDate:on(),deliveryDate:"",orderDetails:"",observations:"",taskId:0})}else console.warn("Incomplete order data")},Ua=async()=>{if(lt.serviceId!==0&&lt.details.trim()){const T=lt.id!==0?lt.id:Date.now();await _s(kt(ot,"service_requests",T.toString()),{...lt,id:T,type:"service"}),lt.taskId&&lt.taskId!==0&&ur(lt.taskId),Xn(!1),We({id:0,serviceId:0,requestDate:on(),executionDate:"",details:"",observations:"",taskId:0})}else console.warn("Incomplete service request data")},Zn=async()=>{if(Me.employeeId!==0&&Me.reason.trim()){const T=Me.id!==0?Me.id:Date.now();await _s(kt(ot,"calls",T.toString()),{...Me,id:T,type:"call"}),Me.taskId&&Me.taskId!==0&&ur(Me.taskId),Xt(!1),wt({id:0,employeeId:0,callDate:on(),reason:"",observations:"",taskId:0})}else console.warn("Incomplete call data")},Pr=async T=>{if(!window.confirm("Est seguro de que desea eliminar este registro?"))return;const ae=T.type==="order"?"orders":T.type==="service"?"service_requests":T.type==="call"?"calls":"";ae&&await Ao(kt(ot,ae,T.id.toString())),Ui(!1)},ei=T=>{Ui(!1),T.type==="order"?(Zt({...T,taskId:T.taskId||0}),Je(!0)):T.type==="service"?(We({...T,taskId:T.taskId||0}),Xn(!0)):T.type==="call"&&(wt({...T,taskId:T.taskId||0}),Xt(!0))};return i?E.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"var(--bg-gradient)"},children:E.jsx("h2",{style:{color:"var(--primary-navy)"},children:"Cargando..."})}):r?E.jsxs("div",{className:"dashboard-grid",children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[E.jsx("img",{src:"/FerApp/logo.png",alt:"FerApp Logo",style:{width:"160px",height:"160px",objectFit:"contain"}}),r&&E.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.5rem",background:"rgba(255,255,255,0.5)",borderRadius:"12px",border:"1px solid rgba(0,0,0,0.05)"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:"var(--primary-navy)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.displayName?.toUpperCase()||"USUARIO"}),E.jsx("button",{onClick:$n,title:"Cerrar Sesin",style:{background:"none",border:"none",cursor:"pointer",color:"#e63946",display:"flex",alignItems:"center",padding:"4px",transition:"transform 0.2s"},onMouseOver:T=>T.currentTarget.style.transform="scale(1.2)",onMouseOut:T=>T.currentTarget.style.transform="scale(1)",children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),E.jsx("polyline",{points:"16 17 21 12 16 7"}),E.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),E.jsx("button",{className:"btn-navy",onClick:()=>me(!0),children:"Proveedores"}),E.jsx("button",{className:"btn-orange",onClick:()=>N(!0),children:"Servicios"}),E.jsx("button",{className:"btn-violet",onClick:()=>M(!0),children:"Empleados"})]}),E.jsxs("div",{className:"card",style:{textAlign:"center",padding:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{marginBottom:"1rem"},children:new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric",timeZone:"America/Argentina/Buenos_Aires"}).toUpperCase()}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.4rem"},children:[["D","L","M","X","J","V","S"].map(T=>E.jsx("span",{style:{fontSize:"0.9rem",fontWeight:900,color:"#000"},children:T},T)),Array.from({length:30},(T,ae)=>{const Tt=on(),[Ie,yi]=Tt.split("-"),_i=ae+1,Nt=`${Ie}-${yi}-${_i.toString().padStart(2,"0")}`,In=Nt===on(),be=Qn.some(Ye=>Ye.orderDate===Nt),Ve=Qn.some(Ye=>Ye.deliveryDate===Nt),yn=hn.some(Ye=>Ye.requestDate===Nt),Pa=hn.some(Ye=>Ye.executionDate===Nt),jr=Et.some(Ye=>Ye.callDate===Nt),_n=ki.some(Ye=>Ye.date===Nt);return E.jsxs("div",{onClick:()=>Jn(Nt),className:`calendar-day ${In?"today":""}`,children:[E.jsx("span",{style:{fontSize:"1rem"},children:_i}),E.jsxs("div",{style:{display:"flex",gap:"2px",height:"6px"},children:[(be||Ve)&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-navy)"},title:"Pedido/Entrega"}),(yn||Pa)&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-orange)"},title:"Servicio"}),jr&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-violet)"},title:"Llamada"}),_n&&E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#2196F3"},title:"Recordatorio"})]})]},_i)})]})]}),E.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{marginBottom:"1rem"},children:"TAREAS PENDIENTES"}),E.jsx("hr",{style:{border:"0",borderTop:"1px solid #eee",marginBottom:"0.8rem"}}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"1.5rem"},children:[E.jsx("input",{type:"text",placeholder:"Qu falta hacer?",value:_,onChange:T=>y(T.target.value.toUpperCase()),onKeyDown:T=>T.key==="Enter"&&Pi(),className:"modal-input",style:{fontSize:"1.1rem"}}),E.jsx("button",{onClick:Pi,className:"btn-navy",style:{padding:"1rem 2rem",fontSize:"1rem",width:"auto"},children:"AADIR"})]}),E.jsx("ul",{style:{maxHeight:"250px",overflowY:"auto"},children:l.map(T=>E.jsxs("li",{style:{justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:1},children:[E.jsx("input",{type:"checkbox",checked:T.completed,onChange:()=>Bi(T.id,T.completed)}),b===T.id?E.jsx("input",{type:"text",value:V,onChange:ae=>Y(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&zi(),className:"modal-input",style:{padding:"0.3rem",fontSize:"0.9rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:T.text}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[" ",T.date.split("-").reverse().join("/")]})]})]}),E.jsxs("div",{style:{display:"flex",gap:"4px"},children:[b===T.id?E.jsx("button",{onClick:()=>zi(),className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>ji(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Va(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]}),E.jsxs("div",{className:"btn-action-row",style:{gridColumn:"1 / span 3",display:"flex",gap:"1rem"},children:[E.jsx("button",{className:"btn-action",onClick:()=>{Zt(T=>({...T,orderDate:on(),id:0})),Je(!0)},children:" Realizar pedido"}),E.jsx("button",{className:"btn-action-orange",onClick:()=>{We(T=>({...T,requestDate:on(),id:0})),Xn(!0)},children:" Solicitar servicio"}),E.jsx("button",{className:"btn-action-violet",onClick:()=>{wt(T=>({...T,callDate:on(),id:0})),Xt(!0)},children:" Realizar llamada"})]}),E.jsxs("div",{className:"card completed-tasks",style:{gridColumn:"1 / span 2"},children:[E.jsx("h2",{className:"section-title",children:"TAREAS REALIZADAS"}),E.jsx("ul",{children:d.map(T=>E.jsxs("li",{style:{justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:1},children:[E.jsx("input",{type:"checkbox",checked:T.completed,onChange:()=>Bi(T.id,T.completed)}),b===T.id?E.jsx("input",{type:"text",value:V,onChange:ae=>Y(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&zi(),className:"modal-input",style:{padding:"0.3rem",fontSize:"0.9rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[E.jsx("span",{style:{textDecoration:"line-through",color:"var(--text-muted)",fontWeight:"bold"},children:T.text}),E.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",opacity:.7},children:T.date.split("-").reverse().join("/")})]})]}),E.jsxs("div",{style:{display:"flex",gap:"4px"},children:[b===T.id?E.jsx("button",{onClick:()=>zi(),className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>ji(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Va(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"section-title",children:"RECORDATORIO"}),E.jsx("hr",{style:{border:"0",borderTop:"1px solid #eee",marginBottom:"1rem"}}),E.jsx("div",{className:"modal-input",style:{height:"250px",width:"100%",overflowY:"auto",background:"transparent",border:"none",fontSize:"1.2rem",lineHeight:"1.6"},children:ki.length>0&&E.jsxs("div",{style:{color:"var(--primary-navy)"},children:[E.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"1rem",opacity:.7},children:"PRXIMAS FECHAS:"}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:ki.sort((T,ae)=>T.date.localeCompare(ae.date)).map(T=>E.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"0.8rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("div",{style:{flex:1},children:mi===T.id?E.jsx("input",{type:"text",value:bn,onChange:ae=>pi(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&Ln(),className:"modal-input",style:{padding:"0.3rem",fontSize:"1rem"},autoFocus:!0}):E.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[E.jsx("span",{style:{fontSize:"1rem",fontWeight:900},children:T.text}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[" ",T.date.split("-").reverse().slice(0,2).join("/")]})]})}),E.jsxs("div",{style:{display:"flex",gap:"8px",marginLeft:"10px"},children:[mi===T.id?E.jsx("button",{onClick:Ln,className:"task-action-btn edit",style:{opacity:1},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:E.jsx("polyline",{points:"20 6 9 17 4 12"})})}):E.jsx("button",{onClick:()=>Ma(T),className:"task-action-btn edit",title:"Editar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx("button",{onClick:()=>Xo(T.id),className:"task-action-btn delete",title:"Eliminar",children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{width:"20px",height:"20px"},children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},T.id))})]})})]}),ie&&E.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"800px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE PROVEEDORES"}),E.jsx("button",{onClick:()=>me(!1),style:{background:"none",border:"none",fontSize:"2.5rem",cursor:"pointer",color:"#000"},children:""})]}),E.jsx("button",{onClick:()=>{D(null),tt({name:"",phone:"",address:"",observations:""}),ge(!0)},className:"btn-navy",style:{padding:"1.2rem",marginBottom:"2rem",fontSize:"1.1rem"},children:"+ AGREGAR NUEVO PROVEEDOR"}),E.jsxs("ul",{style:{maxHeight:"450px",overflowY:"auto",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[W.length===0&&E.jsx("p",{style:{textAlign:"center",gridColumn:"span 2",color:"#666"},children:"NO HAY PROVEEDORES AGENDADOS."}),W.map(T=>E.jsxs("li",{onClick:()=>Un(T),style:{padding:"1.2rem",background:"white",border:"3px solid #eee",borderRadius:"15px",display:"flex",flexDirection:"column",gap:"0.4rem",cursor:"pointer"},children:[E.jsx("span",{style:{fontSize:"1.2rem",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"1rem",color:"#444"},children:[E.jsxs("div",{children:[" ",T.phone]}),E.jsxs("div",{children:[" ",T.address]})]})]},T.id))]})]})}),Ae&&E.jsx("div",{className:"modal-overlay",onClick:()=>ge(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"650px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:Ne?"EDITAR PROVEEDOR":"NUEVO PROVEEDOR"}),E.jsx("button",{onClick:()=>ge(!1),style:{background:"none",border:"none",fontSize:"2.5rem",cursor:"pointer",color:"#000"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"NOMBRE / COMERCIO"}),E.jsx("input",{type:"text",placeholder:"Ej: Pinturera Central",value:De.name,onChange:T=>tt({...De,name:T.target.value.toUpperCase()}),className:"modal-input"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"TELFONO"}),E.jsx("input",{type:"text",placeholder:"11 2233-4455",value:De.phone,onChange:T=>tt({...De,phone:T.target.value.toUpperCase()}),className:"modal-input"})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"DIRECCIN"}),E.jsx("input",{type:"text",placeholder:"Calle Falsa 123",value:De.address,onChange:T=>tt({...De,address:T.target.value.toUpperCase()}),className:"modal-input"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"1rem",marginBottom:"0.5rem",color:"#666"},children:"OBSERVACIONES"}),E.jsx("textarea",{placeholder:"Detalles de entrega, cobro, etc...",value:De.observations,onChange:T=>tt({...De,observations:T.target.value.toUpperCase()}),className:"modal-input",style:{height:"120px",resize:"none"}})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[Ne&&E.jsx("button",{onClick:()=>{ka(Ne.id),ge(!1)},style:{flex:1,padding:"1.2rem",background:"#e63946",color:"white",border:"none",borderRadius:"15px",cursor:"pointer",fontSize:"1.1rem"},children:"ELIMINAR"}),E.jsx("button",{onClick:gi,className:"btn-navy",style:{flex:2,padding:"1.2rem",fontSize:"1.3rem"},children:Ne?"GUARDAR CAMBIOS":"GUARDAR PROVEEDOR"})]})]})]})}),k&&E.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE SERVICIOS"}),E.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx("button",{onClick:()=>{te(null),dt({name:"",phone:"",address:"",observations:""}),R(!0)},style:{width:"100%",padding:"1rem",background:"var(--primary-navy)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"+ AGREGAR NUEVO SERVICIO"})}),E.jsxs("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:[w.length===0&&E.jsx("li",{style:{textAlign:"center",padding:"1rem",color:"#666"},children:"NO HAY SERVICIOS REGISTRADOS."}),w.map(T=>E.jsxs("li",{onClick:()=>Ut(T),style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:ae=>ae.currentTarget.style.background="#f8f9fa",onMouseLeave:ae=>ae.currentTarget.style.background="transparent",children:[E.jsx("span",{style:{fontWeight:"bold",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:[E.jsxs("div",{children:[" ",T.phone]}),E.jsxs("div",{children:[" ",T.address]})]})]},T.id))]})]})}),U&&E.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:F?"EDITAR SERVICIO":"NUEVO SERVICIO"}),E.jsx("button",{onClick:()=>R(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"NOMBRE DEL SERVICIO"}),E.jsx("input",{type:"text",value:Ue.name,onChange:T=>dt({...Ue,name:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: Mantenimiento Aires"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"TELFONO"}),E.jsx("input",{type:"text",value:Ue.phone,onChange:T=>dt({...Ue,phone:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"11 2233-4455"})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DIRECCIN"}),E.jsx("input",{type:"text",value:Ue.address,onChange:T=>dt({...Ue,address:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Calle Falsa 123"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{value:Ue.observations,onChange:T=>dt({...Ue,observations:T.target.value.toUpperCase()}),className:"modal-input",rows:4,style:{resize:"none",textTransform:"uppercase"},placeholder:"Notas adicionales..."})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F&&E.jsx("button",{onClick:()=>Rt(F.id),style:{flex:1,padding:"1rem",background:"#e63946",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"ELIMINAR"}),E.jsx("button",{onClick:Pn,className:"btn-navy",style:{flex:2,padding:"1rem"},children:F?"GUARDAR CAMBIOS":"GUARDAR SERVICIO"})]})]})]})}),$e&&E.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"LISTA DE EMPLEADOS"}),E.jsx("button",{onClick:()=>M(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx("button",{onClick:()=>{Oe(null),fe({name:"",role:"",phone:"",observations:""}),ee(!0)},style:{width:"100%",padding:"1rem",background:"var(--primary-navy)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"+ AGREGAR NUEVO EMPLEADO"})}),E.jsxs("ul",{style:{maxHeight:"300px",overflowY:"auto"},children:[ue.length===0&&E.jsx("li",{style:{textAlign:"center",padding:"1rem",color:"#666"},children:"NO HAY EMPLEADOS REGISTRADOS."}),ue.map(T=>E.jsxs("li",{onClick:()=>$o(T),style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:ae=>ae.currentTarget.style.background="#f8f9fa",onMouseLeave:ae=>ae.currentTarget.style.background="transparent",children:[E.jsx("span",{style:{fontWeight:"bold",color:"var(--primary-navy)"},children:T.name}),E.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:[E.jsxs("div",{children:[" ",T.role]}),E.jsxs("div",{children:[" ",T.phone]})]})]},T.id))]})]})}),Q&&E.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:_e?"EDITAR EMPLEADO":"NUEVO EMPLEADO"}),E.jsx("button",{onClick:()=>ee(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"NOMBRE COMPLETO"}),E.jsx("input",{type:"text",value:ne.name,onChange:T=>fe({...ne,name:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: JUAN PREZ"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"PUESTO / ROL"}),E.jsx("input",{type:"text",value:ne.role,onChange:T=>fe({...ne,role:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"Ej: VENDEDOR"})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"TELFONO"}),E.jsx("input",{type:"text",value:ne.phone,onChange:T=>fe({...ne,phone:T.target.value.toUpperCase()}),className:"modal-input",placeholder:"11 2233-4455"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{value:ne.observations,onChange:T=>fe({...ne,observations:T.target.value.toUpperCase()}),className:"modal-input",rows:4,style:{resize:"none"},placeholder:"TURNOS, DISPONIBILIDAD, ETC..."})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[_e&&E.jsx("button",{onClick:()=>Ur(_e.id),style:{flex:1,padding:"1rem",background:"#e63946",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"ELIMINAR"}),E.jsx("button",{onClick:Wn,className:"btn-navy",style:{flex:2,padding:"1rem"},children:_e?"GUARDAR CAMBIOS":"GUARDAR EMPLEADO"})]})]})]})}),xt&&E.jsx("div",{className:"modal-overlay",onClick:()=>Je(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"700px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"REALIZAR NUEVO PEDIDO"}),E.jsx("button",{onClick:()=>Je(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR PROVEEDOR"}),E.jsxs("select",{className:"modal-input",value:nt.providerId,onChange:T=>Zt({...nt,providerId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un proveedor..."}),W.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:nt.taskId||"0",onChange:T=>Zt({...nt,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-navy-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DEL PEDIDO"}),E.jsx("input",{type:"date",className:"modal-input",value:nt.orderDate,onChange:T=>Zt({...nt,orderDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE ENTREGA ESTIMADA"}),E.jsx("input",{type:"date",className:"modal-input",value:nt.deliveryDate,onChange:T=>Zt({...nt,deliveryDate:T.target.value})})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DETALLE DEL PEDIDO"}),E.jsx("textarea",{className:"modal-input",rows:5,value:nt.orderDetails,onChange:T=>Zt({...nt,orderDetails:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Escriba aqu los productos y cantidades..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:3,value:nt.observations,onChange:T=>Zt({...nt,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales sobre la entrega, pago, etc..."})]}),E.jsx("button",{onClick:La,className:"btn-navy",style:{padding:"1rem",marginTop:"1rem"},disabled:nt.providerId===0||!nt.orderDetails.trim(),children:"REGISTRAR PEDIDO"})]})]})}),lr&&E.jsx("div",{className:"modal-overlay",onClick:()=>Xn(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"700px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"SOLICITAR NUEVO SERVICIO"}),E.jsx("button",{onClick:()=>Xn(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR PROVEEDOR DE SERVICIO"}),E.jsxs("select",{className:"modal-input",value:lt.serviceId,onChange:T=>We({...lt,serviceId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un prestador..."}),w.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:lt.taskId||"0",onChange:T=>We({...lt,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-orange-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE SOLICITUD"}),E.jsx("input",{type:"date",className:"modal-input",value:lt.requestDate,onChange:T=>We({...lt,requestDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",style:{flex:1},children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE EJECUCIN / VISITA"}),E.jsx("input",{type:"date",className:"modal-input",value:lt.executionDate,onChange:T=>We({...lt,executionDate:T.target.value})})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"DETALLE DEL TRABAJO / PROBLEMA"}),E.jsx("textarea",{className:"modal-input",rows:5,value:lt.details,onChange:T=>We({...lt,details:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Describa el servicio solicitado..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:3,value:lt.observations,onChange:T=>We({...lt,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales..."})]}),E.jsx("button",{onClick:Ua,className:"btn-orange",style:{padding:"1rem",marginTop:"1rem"},disabled:lt.serviceId===0||!lt.details.trim(),children:"REGISTRAR SOLICITUD"})]})]})}),Oa&&E.jsx("div",{className:"modal-overlay",onClick:()=>Xt(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"REGISTRAR LLAMADA"}),E.jsx("button",{onClick:()=>Xt(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"SELECCIONAR EMPLEADO"}),E.jsxs("select",{className:"modal-input",value:Me.employeeId,onChange:T=>wt({...Me,employeeId:Number(T.target.value)}),style:{cursor:"pointer"},children:[E.jsx("option",{value:"0",children:"Seleccione un empleado..."}),ue.map(T=>E.jsx("option",{value:T.id,children:T.name},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"VINCULAR CON TAREA PENDIENTE (OPCIONAL)"}),E.jsxs("select",{className:"modal-input",value:Me.taskId||"0",onChange:T=>wt({...Me,taskId:Number(T.target.value)}),style:{cursor:"pointer",border:"4px solid var(--primary-violet-glow)"},children:[E.jsx("option",{value:"0",children:"Ninguna tarea..."}),l.map(T=>E.jsx("option",{value:T.id,children:T.text},T.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"FECHA DE LA LLAMADA"}),E.jsx("input",{type:"date",className:"modal-input",value:Me.callDate,onChange:T=>wt({...Me,callDate:T.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"MOTIVO DE LA LLAMADA"}),E.jsx("textarea",{className:"modal-input",rows:4,value:Me.reason,onChange:T=>wt({...Me,reason:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Describa el motivo o resultado de la llamada..."})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:"bold",marginBottom:"0.4rem",color:"var(--text-muted)"},children:"OBSERVACIONES"}),E.jsx("textarea",{className:"modal-input",rows:2,value:Me.observations,onChange:T=>wt({...Me,observations:T.target.value.toUpperCase()}),style:{resize:"none"},placeholder:"Notas adicionales..."})]}),E.jsx("button",{onClick:Zn,className:"btn-violet",style:{padding:"1rem",marginTop:"1rem"},disabled:Me.employeeId===0||!Me.reason.trim(),children:"REGISTRAR LLAMADA"})]})]})}),en&&E.jsx("div",{className:"modal-overlay",onClick:()=>Sn(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"600px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsxs("h2",{className:"section-title",style:{margin:0},children:["DA: ",Ge]}),E.jsx("button",{onClick:()=>Sn(!1),style:{background:"none",border:"none",fontSize:"2rem",cursor:"pointer"},children:""})]}),new Date(Ge+"T00:00:00")>=new Date(on()+"T00:00:00")?E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[Ge===on()&&E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[E.jsxs("button",{className:"btn-action",onClick:()=>{Sn(!1),Je(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," REALIZAR PEDIDO"]}),E.jsxs("button",{className:"btn-action-orange",onClick:()=>{Sn(!1),Xn(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," SOLICITAR SERVICIO"]}),E.jsxs("button",{className:"btn-action-violet",onClick:()=>{Sn(!1),Xt(!0)},style:{padding:"1.2rem",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"1.8rem"},children:""})," REGISTRAR LLAMADA"]}),E.jsx("hr",{style:{border:"0",borderTop:"2px dashed #eee",margin:"0.8rem 0"}})]}),Ge!==on()&&E.jsxs("div",{className:"card",style:{padding:"1.5rem",background:"#f8fafc"},children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"AGREGAR RECORDATORIO"}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[E.jsx("input",{type:"text",className:"modal-input",placeholder:"Ej: Comprar pintura...",value:pt,onChange:T=>qs(T.target.value.toUpperCase()),onKeyDown:T=>T.key==="Enter"&&wn()}),E.jsx("button",{onClick:wn,className:"btn-navy",style:{width:"auto",padding:"0 1.5rem"},children:"+"})]})]}),Ge!==on()&&E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"RECORDATORIOS DEL DA"}),E.jsx("ul",{children:ki.filter(T=>T.date===Ge).map(T=>E.jsx("li",{style:{fontSize:"1rem",padding:"1rem"},children:T.text},T.id))})]}),[...Qn.filter(T=>T.orderDate===Ge||T.deliveryDate===Ge).map(T=>({...T,displayType:T.orderDate===Ge?"PEDIDO":"ENTREGA"})),...hn.filter(T=>T.requestDate===Ge||T.executionDate===Ge).map(T=>({...T,displayType:T.requestDate===Ge?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Et.filter(T=>T.callDate===Ge).map(T=>({...T,displayType:"LLAMADA"}))].length>0&&E.jsxs("div",{style:{marginTop:"1.5rem"},children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"ACCIONES PROGRAMADAS"}),E.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[...Qn.filter(T=>T.orderDate===Ge||T.deliveryDate===Ge).map(T=>({...T,displayType:T.orderDate===Ge?"PEDIDO":"ENTREGA"})),...hn.filter(T=>T.requestDate===Ge||T.executionDate===Ge).map(T=>({...T,displayType:T.requestDate===Ge?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Et.filter(T=>T.callDate===Ge).map(T=>({...T,displayType:"LLAMADA"}))].map((T,ae)=>{const Tt=T.type==="order"?W.find(Ie=>Ie.id===T.providerId)?.name:T.type==="service"?w.find(Ie=>Ie.id===T.serviceId)?.name:T.type==="call"?ue.find(Ie=>Ie.id===T.employeeId)?.name:"N/A";return E.jsxs("li",{onClick:()=>{Bs({...T,personName:Tt}),Ui(!0)},style:{cursor:"pointer",display:"flex",flexDirection:"column",padding:"1rem",background:"#f0f9ff",border:"2px solid #bae6fd",alignItems:"stretch"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[E.jsx("span",{style:{fontWeight:900,color:"var(--primary-navy)"},children:T.displayType}),E.jsx("span",{style:{fontSize:"0.8rem"},children:"VER DETALLE "})]}),E.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",marginTop:"0.2rem",color:"#000"},children:Tt})]},ae)})})]})]}):E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"ACCIONES REALIZADAS"}),E.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[...Qn.filter(T=>T.orderDate===Ge||T.deliveryDate===Ge).map(T=>({...T,displayType:T.orderDate===Ge?"PEDIDO":"ENTREGA"})),...hn.filter(T=>T.requestDate===Ge||T.executionDate===Ge).map(T=>({...T,displayType:T.requestDate===Ge?"SOLICITUD SERVICIO":"VISITA SERVICIO"})),...Et.filter(T=>T.callDate===Ge).map(T=>({...T,displayType:"LLAMADA"}))].map((T,ae)=>{const Tt=T.type==="order"?W.find(Ie=>Ie.id===T.providerId)?.name:T.type==="service"?w.find(Ie=>Ie.id===T.serviceId)?.name:T.type==="call"?ue.find(Ie=>Ie.id===T.employeeId)?.name:"N/A";return E.jsxs("li",{onClick:()=>{Bs({...T,personName:Tt}),Ui(!0)},style:{cursor:"pointer",display:"flex",flexDirection:"column",padding:"1.2rem",background:"#f8fafc",alignItems:"stretch"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[E.jsx("span",{style:{fontWeight:900,color:"var(--primary-navy)"},children:T.displayType}),E.jsx("span",{style:{fontSize:"0.8rem"},children:"VER DETALLE "})]}),E.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",marginTop:"0.2rem"},children:Tt})]},ae)})})]})]})}),Li&&E.jsx("div",{className:"modal-overlay",onClick:()=>Ui(!1),children:E.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{maxWidth:"500px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{className:"section-title",style:{margin:0},children:"DETALLE"}),E.jsx("button",{onClick:()=>Ui(!1),style:{background:"none",border:"none",fontSize:"2rem",cursor:"pointer"},children:""})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem",fontSize:"1.1rem"},children:[E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"TIPO"}),E.jsx("div",{style:{fontWeight:900},children:An?.displayType})]}),E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"NOMBRE / RESPONSABLE"}),E.jsx("div",{style:{fontWeight:900},children:An?.personName})]}),E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"DETALLE / MOTIVO"}),E.jsx("div",{style:{whiteSpace:"pre-wrap"},children:An?.orderDetails||An?.details||An?.reason})]}),An?.observations&&E.jsxs("div",{style:{padding:"1rem",background:"#f1f5f9",borderRadius:"12px"},children:[E.jsx("label",{style:{fontSize:"0.8rem",color:"#64748b"},children:"OBSERVACIONES"}),E.jsx("div",{style:{whiteSpace:"pre-wrap"},children:An.observations})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[E.jsx("button",{className:"btn-navy",onClick:()=>ei(An),style:{flex:1,padding:"1rem"},children:"EDITAR"}),E.jsx("button",{className:"btn-orange",onClick:()=>Pr(An),style:{flex:1,padding:"1rem"},children:"ELIMINAR"})]})]})]})})]}):E.jsx("div",{className:"login-container",children:E.jsxs("div",{className:"card login-card",style:{maxWidth:"400px",textAlign:"center"},children:[E.jsx("img",{src:"/FerApp/logo.png",alt:"FerApp Logo",style:{width:"180px",height:"180px",marginBottom:"2rem"}}),E.jsx("h1",{style:{fontSize:"2.5rem",color:"var(--primary-navy)",marginBottom:"1rem"},children:"BIENVENIDO"}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2.5rem"},children:"Gestiona tus tareas y servicios de forma profesional."}),E.jsxs("button",{onClick:It,className:"google-btn",children:[E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M19.6429 10.2272C19.6429 9.5539 19.5824 8.90617 19.4699 8.28409H10V12.0114H15.4058C15.1724 13.2727 14.4633 14.338 13.3981 15.0483V17.5199H16.6494C18.5523 15.7671 19.6429 13.179 19.6429 10.2272Z",fill:"#4285F4"}),E.jsx("path",{d:"M10 20C12.7 20 14.9659 19.1051 16.6494 17.5199L13.3981 15.0483C12.4972 15.6506 11.3523 16.0114 10 16.0114C7.39205 16.0114 5.18466 14.2528 4.39773 11.8892H1.05398V14.483C2.70455 17.7614 6.08807 20 10 20Z",fill:"#34A853"}),E.jsx("path",{d:"M4.39773 11.8892C4.19886 11.2926 4.08523 10.6562 4.08523 10C4.08523 9.34375 4.19886 8.70739 4.39773 8.1108V5.51705H1.05398C0.380682 6.86364 0 8.38921 0 10C0 11.6108 0.380682 13.1364 1.05398 14.483L4.39773 11.8892Z",fill:"#FBBC05"}),E.jsx("path",{d:"M10 3.98864C11.4716 3.98864 12.7926 4.49716 13.8324 5.4858L16.7188 2.59943C14.9659 0.988636 12.7 0 10 0C6.08807 0 2.70455 2.23864 1.05398 5.51705L4.39773 8.1108C5.18466 5.74716 7.39205 3.98864 10 3.98864Z",fill:"#EA4335"})]}),"INICIAR SESIN CON GOOGLE"]})]})})}mA.createRoot(document.getElementById("root")).render(E.jsx(we.StrictMode,{children:E.jsx(Yx,{})}));
